<!DOCTYPE html>
<html>

<!-- Mirrored from doc.ez.no/pages/diffpagesbyversion.action?pageId=31430313&selectedPageVersions=1&selectedPageVersions=2 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:18:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <title>Page Comparison - Other recipes (v.1 vs v.2) - Developer - eZ Documentation</title>

        

                        
    
                        
    
                        
    

    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="../index.html">

<meta id="atlassian-token" name="atlassian-token" content="9996d8127abd36d1b757536de859090f8b455d10">


<meta id="confluence-space-key" name="confluence-space-key" content="DEVELOPER">
<script type="text/javascript">
        var contextPath = '';
</script>

    

    <meta name="robots" content="noindex,nofollow">
    <meta name="robots" content="noarchive">
    <meta name="confluence-request-time" content="1485854858511">
        
    
        
            <meta name="ajs-is-space-admin" content=""> <meta name="ajs-has-space-config" content="">
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="$discoveredList">
            <meta name="stp-license-product-name" content="Confluence"/> <meta name="stp-license-days-to-expiry" content="807"/> <meta name="stp-license-is-admin" content="false"/> <meta name="stp-license-should-keep-banner-hidden" content="true"/>
            <meta name="ajs-keyboardshortcut-hash" content="206314443b3cf79696d4ad89324a059c">
            <meta id="team-calendars-has-jira-link" content="true">
            <meta name="ajs-team-calendars-display-time-format" content="displayTimeFormat12">
            <meta id="team-calendars-user-timezone" content="UTC">
            <script type="text/x-template" id="team-calendars-messages" title="team-calendars-messages"><fieldset class="i18n hidden"><input type="hidden" name="calendar3.month.long.july" value="July"><input type="hidden" name="calendar3.day.short.wednesday" value="Wed"><input type="hidden" name="calendar3.day.short.thursday" value="Thu"><input type="hidden" name="calendar3.month.short.march" value="Mar"><input type="hidden" name="calendar3.month.long.april" value="April"><input type="hidden" name="calendar3.month.long.october" value="October"><input type="hidden" name="calendar3.month.long.august" value="August"><input type="hidden" name="calendar3.month.short.july" value="Jul"><input type="hidden" name="calendar3.month.short.may" value="May"><input type="hidden" name="calendar3.month.short.november" value="Nov"><input type="hidden" name="calendar3.day.long.friday" value="Friday"><input type="hidden" name="calendar3.day.long.sunday" value="Sunday"><input type="hidden" name="calendar3.day.long.saturday" value="Saturday"><input type="hidden" name="calendar3.month.short.april" value="Apr"><input type="hidden" name="calendar3.day.long.wednesday" value="Wednesday"><input type="hidden" name="calendar3.month.long.december" value="December"><input type="hidden" name="calendar3.month.short.october" value="Oct"><input type="hidden" name="calendar3.day.long.monday" value="Monday"><input type="hidden" name="calendar3.month.short.june" value="Jun"><input type="hidden" name="calendar3.day.short.monday" value="Mon"><input type="hidden" name="calendar3.day.short.tuesday" value="Tue"><input type="hidden" name="calendar3.day.short.saturday" value="Sat"><input type="hidden" name="calendar3.month.long.march" value="March"><input type="hidden" name="calendar3.month.long.june" value="June"><input type="hidden" name="calendar3.month.short.february" value="Feb"><input type="hidden" name="calendar3.month.short.august" value="Aug"><input type="hidden" name="calendar3.month.short.december" value="Dec"><input type="hidden" name="calendar3.day.short.sunday" value="Sun"><input type="hidden" name="calendar3.month.long.february" value="February"><input type="hidden" name="calendar3.day.long.tuesday" value="Tuesday"><input type="hidden" name="calendar3.month.long.may" value="May"><input type="hidden" name="calendar3.month.long.september" value="September"><input type="hidden" name="calendar3.month.long.november" value="November"><input type="hidden" name="calendar3.month.short.january" value="Jan"><input type="hidden" name="calendar3.month.short.september" value="Sep"><input type="hidden" name="calendar3.day.long.thursday" value="Thursday"><input type="hidden" name="calendar3.month.long.january" value="January"><input type="hidden" name="calendar3.day.short.friday" value="Fri"></fieldset></script>
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            
    
    
            <meta name="ajs-page-id" content="31430313">
            <meta name="ajs-latest-page-id" content="31430313">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="Other recipes">
            <meta name="ajs-parent-page-title" content="Public API Guide">
            <meta name="ajs-parent-page-id" content="31430303">
            <meta name="ajs-space-key" content="DEVELOPER">
            <meta name="ajs-space-name" content="Developer">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://doc.ez.no">
            <meta name="ajs-version-number" content="5.8.5">
            <meta name="ajs-build-number" content="5983">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-remote-user-key" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_">
            <meta name="ajs-global-settings-attachment-max-size" content="10485760">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,file-annotations,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,confluence-inline-comments-dangling-comment,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent">
            <meta name="ajs-atl-token" content="9996d8127abd36d1b757536de859090f8b455d10">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="dd MMM yyyy">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="https://doc.ez.no/opensearch/osd.action" title="eZ Documentation"/>

<script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:atlassian-nps-plugin-resources.is-server-instance-data-provider"]="true";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details"]="{\"daysBeforeLicenseExpiry\":0,\"daysBeforeMaintenanceExpiry\":0,\"showLicenseExpiryBanner\":false,\"showMaintenanceExpiryBanner\":false,\"renewUrl\":null,\"salesEmail\":null}";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:nps-acknowledgement-resources.analytics-enabled-data-provider"]="\"false\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:nps-acknowledgement-resources.sen-data-provider"]="\"SEN-2255945\"";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode"]="false";
</script>
<link type="text/css" rel="stylesheet" href="https://doc.ez.no/s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="https://doc.ez.no/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f10c36425b731f08af1bde9c7e745307/_/download/contextbatch/css/pagediffs/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f10c36425b731f08af1bde9c7e745307/_/download/contextbatch/css/pagediffs/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="https://doc.ez.no/s/e07f58c44d24a6e17f8354bdec890e2f-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8d89db3a01c02cb5eb7fc39a28427136/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,atl.general,page/batch.css?flavour=VANILLA" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8d89db3a01c02cb5eb7fc39a28427136/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,atl.general,page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/7893b9affdc3bf828ad93d0610d3d5f3-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8d89db3a01c02cb5eb7fc39a28427136/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,atl.general,page/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="https://doc.ez.no/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/3a21f7b21af4c67045d1e0255f2ac570/_/download/contextbatch/css/theme.doc/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="https://doc.ez.no/s/dfa57710662c34cadfcdc17e2cded5b2-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/3.0.11/_/download/batch/confluence.extra.livesearch:livesearch-macro-web-resources/confluence.extra.livesearch:livesearch-macro-web-resources.css" media="all">
<link type="text/css" rel="stylesheet" href="https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/6/_/styles/colors.css?spaceKey=DEVELOPER" media="all">
<link type="text/css" rel="stylesheet" href="https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/6/_/styles/custom.css?spaceKey=DEVELOPER" media="all">
<script type="text/javascript" src="https://doc.ez.no/s/1f7b22082ef39a4bb134622dae929bdc-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/js/batch.js?atlassian.aui.raphael.disabled=true&amp;locale=en-GB&amp;build-number=5983" ></script>
<script type="text/javascript" src="https://doc.ez.no/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f10c36425b731f08af1bde9c7e745307/_/download/contextbatch/js/pagediffs/batch.js" ></script>
<script type="text/javascript" src="https://doc.ez.no/s/1cb5afbbf3aea39263d8912ec2a029e3-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8d89db3a01c02cb5eb7fc39a28427136/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop,main,atl.general,page/batch.js?locale=en-GB&amp;flavour=VANILLA&amp;anonymous-access-enabled=true&amp;is-server-instance=true&amp;hostenabled=true" ></script>
<script type="text/javascript" src="https://doc.ez.no/s/6c0981174e94142364564819dc0d1413-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/3.0.11/_/download/batch/confluence.extra.livesearch:livesearch-macro-web-resources/confluence.extra.livesearch:livesearch-macro-web-resources.js?locale=en-GB" ></script>


        
            <meta name="stp-license-product-name" content="Confluence"/> <meta name="stp-license-days-to-expiry" content="807"/> <meta name="stp-license-is-admin" content="false"/> <meta name="stp-license-should-keep-banner-hidden" content="true"/>
    

        
    
    

    
                <link rel="canonical" href="https://doc.ez.no/display/DEVELOPER/Other+recipes">
        <link rel="shortlink" href="https://doc.ez.no/x/qZbfAQ">
    <meta name="wikilink" content="[DEVELOPER:Other recipes]">
    <meta name="page-version" content="2">

</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout">

        
            <div id='stp-licenseStatus-banner'></div>
    <div id="full-height-container">
    <div id="header-precursor">
        
                    </div>






<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class=" aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-controls="app-switcher" aria-haspopup="true" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default"><div class="app-switcher-loading">Loading&hellip;</div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://doc.ez.no/"><img src="https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/logo/confluence-logo.png" alt="eZ Documentation" /></a></h1><ul class="aui-nav">
                            <li>
            
        
        
<a  id="space-directory-link" href="https://doc.ez.no/spacedirectory/view.action"  class=" aui-nav-imagelink"   title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                            <li id="browseMenu" role="menu">
            
    
        <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse">
        <span class="browse">Browse</span>
    </a>
    <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul  id="browse-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a  id="space-pages-link" href="https://doc.ez.no/pages/listpages.action?key=DEVELOPER" class="    "      title="Browse pages in the Developer space" >
        Pages
</a>
</li>
                                            <li>
    
            
<a  id="space-blogposts-link" href="https://doc.ez.no/pages/viewrecentblogposts.action?key=DEVELOPER" class="    "      title="Browse blogs in the Developer space" >
        Blog
</a>
</li>
                                            <li>
    
            
<a  id="space-labels-link" href="https://doc.ez.no/labels/listlabels-heatmap.action?key=DEVELOPER" class="    "      title="Browse labels in the Developer space" >
        Labels
</a>
</li>
                                            <li>
    
            
<a  id="space-advanced-link" href="https://doc.ez.no/spaces/viewspacesummary.action?key=DEVELOPER" class="    "      title="Browse additional space functions in the Developer space" >
        Space Operations
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
        </li>
        </ul>
</div><div class="aui-header-secondary"><ul class="aui-nav">
                        <li>
        <form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="https://doc.ez.no/dosearchsite.action" method="get"><fieldset><label for="quick-search-query" class="assistive">Quick Search</label><input id="quick-search-query" class="text app-search search quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" title="Quick Search" placeholder="Search" /><input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search"/><div class="aui-dd-parent quick-nav-drop-down"></div></fieldset></form>
    </li>
        <li>
            
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help">
        <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul  id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
        
            
<a  id="confluence-help-link" href="https://docs.atlassian.com/confluence/docs-58/Getting+Help+And+Support" class="    "      title="Visit the Confluence documentation home"  target="_blank"
>
        Online Help
</a>
</li>
                                            <li>
    
                
<a  id="keyboard-shortcuts-link" href="#" class="    "      title="View available keyboard shortcuts" >
        Keyboard Shortcuts
</a>
</li>
                                            <li>
    
            
<a  id="feed-builder-link" href="https://doc.ez.no/dashboard/configurerssfeed.action" class="    "      title="Create your custom RSS feed." >
        Feed Builder
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="https://docs.atlassian.com/confluence/docs-58/whatsnew/iframe" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
                
<a  id="gadget-directory-link" href="#" class="   user-item administration-link "      title="Browse gadgets provided by Confluence" >
        Available Gadgets
</a>
</li>
                                            <li>
    
            
<a  id="confluence-about-link" href="https://doc.ez.no/aboutconfluencepage.action" class="    "      title="Get more information about Confluence" >
        About Confluence
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
    </li>
        <li>
                
    
    </li>
        <li>
            
    </li>
        <li>
                                            <li>
        
            
<a  id="login-link" href="https://doc.ez.no/login.action?os_destination=%2Fpages%2Fdiffpagesbyversion.action%3FpageId%3D31430313%26selectedPageVersions%3D1%26selectedPageVersions%3D2" class="   user-item login-link "      title="" >
        Log in
</a>
</li>
                        
    </li>
    </ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    <div id="splitter">
    <div id="splitter-sidebar" >
        
        <p>&nbsp;</p>
<h4><a name="Otherrecipes-&amp;nbsp;General"></a>&nbsp; General</h4>
<p><font color="#999">&bull;</font>&nbsp;&nbsp;<a href="http://ez.no/" class="external-link" rel="nofollow">eZ Systems Website</a><br/>
<font color="#999">&bull;</font>&nbsp;&nbsp;<a href="http://doc.ez.no/display/USER" class="external-link" rel="nofollow">Editor documentation</a></p>
<hr />
<h4><a name="Otherrecipes-&amp;nbsp;Developerdocumentation"></a>&nbsp; Developer documentation</h4>
<p>&nbsp;&nbsp;<sup><a href="http://doc.ez.no/display/DEVELOPER" class="external-link" rel="nofollow">Back to the top</a></sup><br/>
    
    


<div class="search-macro search-macro-medium">
    <div class="aui-dd-parent"></div>
    <form class="aui aui-dd-parent" name="livesearchForm" method="POST" action="https://doc.ez.no/dosearchsite.action">
        <fieldset class="search-macro-fields">
            <div class="search-macro-query">
                <input class="text" type="text" name="queryString" autocomplete="off" placeholder="search Developer docs">
                            </div>
                        <button type="submit" class="search-macro-button aui-button">
                <span class="aui-icon aui-icon-small aui-iconfont-search">Search</span>
            </button>
                        <input type="hidden" name="where" value="DEVELOPER">
            <input type="hidden" name="additional" value="space name">
            <input type="hidden" name="labels" value="">
            <input type="hidden" name="contentType" value="page">
        </fieldset>
    </form>
</div>
</p>



<div class="plugin_pagetree">

        
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input type="hidden" name="treeId" value="">
        <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false">
        <input type="hidden" name="treePageId" value="31430313">

        <input type="hidden" name="noRoot" value="false">
        <input type="hidden" name="rootPageId" value="31429504">

        <input type="hidden" name="rootPage" value="">
        <input type="hidden" name="startDepth" value="0">
        <input type="hidden" name="spaceKey" value="DEVELOPER" >

        <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
        <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page.">
        <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
        <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fpages%2Fdiffpagesbyversion.action%3FpageId%3D31430313%26selectedPageVersions%3D1%26selectedPageVersions%3D2">
        <input type="hidden" name="mobile" value="false">

                <fieldset class="hidden">
                                                <input type="hidden" name="ancestorId" value="31430303">
                                    <input type="hidden" name="ancestorId" value="31429583">
                                    <input type="hidden" name="ancestorId" value="31429524">
                                    <input type="hidden" name="ancestorId" value="31429504">
                                    </fieldset>
    </fieldset>
</div>


    

            </div>
    <div id="splitter-content">

                    <script type="text/javascript" src="https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5.8.5/_/download/resources/com.atlassian.confluence.plugins.doctheme:resources/doc-theme.js"></script>
    
                        
            
<div id="main"  class="aui-page-panel" >
    <div id="main-header">
        
        
    <div id="navigation" class="content-navigation view-information">
                    <ul class="ajs-menu-bar">
                                                                    <li class="ajs-button normal">

        
        
                                            
    
    
    <a  id="viewPageLink" href="https://doc.ez.no/display/DEVELOPER/Other+recipes" rel="nofollow" class="aui-button aui-button-subtle view"   title="">
                <span>
                            <span class="aui-icon aui-icon-small aui-iconfont-back-page"></span>
                        View Page
        </span>    </a>
</li>
                                
                    
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action aui-dropdown2-trigger-arrowless aui-button aui-button-subtle ajs-menu-title aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation">
            <span>
                                    <span class="aui-icon aui-icon-small aui-iconfont-more"></span>
                                
            </span>
        </a>         <div id="action-menu" class="aui-dropdown2 aui-style-default">
                            <ul  id="action-menu-primary"                     class="section-primary first aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="view-attachments-link" href="https://doc.ez.no/pages/viewpageattachments.action?pageId=31430313" rel="nofollow" class="action-view-attachments"  accessKey="t"  title="View Attachments">
                <span>
                        A<u>t</u>tachments (0)
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-view-history-link" href="https://doc.ez.no/pages/viewpreviousversions.action?pageId=31430313" rel="nofollow" class="action-view-history"   title="">
                <span>
                        Page History
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-page-permissions-link" href="https://doc.ez.no/pages/viewinfo.action?pageId=31430313" rel="nofollow" class="action-page-permissions"   title="Edit restrictions">
                <span>
                        Restrictions
        </span>    </a>
</li>
                                </ul>
                            <ul  id="action-menu-secondary"                     class="section-secondary aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="view-page-info-link" href="https://doc.ez.no/pages/viewinfo.action?pageId=31430313" rel="nofollow" class="action-view-info"   title="">
                <span>
                        Page Information
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="link-to-page-link" href="https://doc.ez.no/pages/viewinfo.action?pageId=31430313" rel="nofollow" class=""   title="Link to this Page">
                <span>
                        Link to this Page…
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="view-in-hierarchy-link" href="https://doc.ez.no/pages/listpages-dirview.action?key=DEVELOPER&amp;openId=31430313#selectedPageInHierarchy" rel="nofollow" class=""   title="">
                <span>
                        View in Hierarchy
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-view-source-link" href="https://doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=31430313" rel="nofollow" class="action-view-source popup-link"   title="">
                <span>
                        View Source
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-export-pdf-link" href="https://doc.ez.no/spaces/flyingpdf/pdfpageexport.action?pageId=31430313" rel="nofollow" class=""   title="">
                <span>
                        Export to PDF
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-export-word-link" href="https://doc.ez.no/exportword?pageId=31430313" rel="nofollow" class="action-export-word"   title="">
                <span>
                        Export to Word
        </span>    </a>
</li>
                                </ul>
                    </div>
    </li>
            </ul>
    </div>

        
                <div id="title-heading" class="pagetitle with-breadcrumbs">
        
                            <div class="space-logo " data-key="DEVELOPER" data-name="Developer" data-entity-type="confluence.space">
            <a><img class="logo global custom" src="https://doc.ez.no/download/attachments/327681/global.logo?version=1&amp;modificationDate=1434758222000&amp;api=v2" alt=""></a>
        </div>            
                            <div id="breadcrumb-section">
                    
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first" >
                        
                            <span class=""><a href="https://doc.ez.no/display/DEVELOPER">Developer</a></span>
                                                                                            <li id="ellipsis" title="Show all breadcrumbs"><span><strong>&#8230;</strong></span></li>
                                                
                        
        <li class="hidden-crumb" >
                        
                            <span class=""><a href="https://doc.ez.no/display/DEVELOPER/Documentation">Documentation</a></span>
                                                                                    
                        
        <li class="hidden-crumb" >
                        
                            <span class=""><a href="https://doc.ez.no/display/DEVELOPER/API">API</a></span>
                                                                                    
                        
        <li class="hidden-crumb" >
                        
                            <span class=""><a href="https://doc.ez.no/display/DEVELOPER/eZ+Platform+Public+PHP+API">eZ Platform Public PHP API</a></span>
                                                                                    
                        
        <li class="hidden-crumb" >
                        
                            <span class=""><a href="https://doc.ez.no/display/DEVELOPER/Public+API+Guide">Public API Guide</a></span>
                                                                    
                        
        <li>
                        
                            <span class=""><a href="https://doc.ez.no/display/DEVELOPER/Other+recipes">Other recipes</a></span>
                                                    </ol>


                </div>
            
            <h1 id="title-text" class="with-breadcrumbs">
                            Page History
                        </h1>
        </div>
    </div>

    

    
    
    
    
    

    

    
                
    
        




        





    

    







    
    
        
    
    
                    
    

    


<div id="content" class="page view-information">
    


<div id="action-messages">
                        </div>



        <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
        
    
    
                            
    
                        
                    <div class="diff-menu">
                <h2 class="diff-title">Versions Compared</h2>

                <div class="page-navigation section">
                                <div class="old page-version article">
                <h3 class="version-title">
                    <a class="page version-navigation view-historical-version-trigger" href="https://doc.ez.no/pages/viewpage.action?pageId=31430762">
                        <span class="assistive">Old Version</span>
                        <span class="version"> 1 </span>
                    </a>
                </h3>
                <p class="metadata author"><span class="assistive">changes.mady.by.user </span>    <a href="https://doc.ez.no/display/~dominika.kurek@ez.no"
                       class="url fn"
                            >Dominika Kurek</a></p>
                <p class="metadata modified"><span class="assistive">Saved on </span><time datetime="2016-04-19 11:37:23.0">Apr 19, 2016</time></p>
            </div>
        
                    <span class="assistive">compared with</span>

                                <div class="new page-version article">
                <h3 class="version-title">
                    <a class="page version-navigation" href="https://doc.ez.no/pages/viewpage.action?pageId=31430313">
                        <span class="assistive">New Version</span>
                        <span class="version"> Current </span>
                    </a>
                </h3>
                <p class="metadata author"><span class="assistive">changes.mady.by.user </span>    <a href="https://doc.ez.no/display/~dominika.kurek@ez.no"
                       class="url fn"
                            >Dominika Kurek</a></p>
                <p class="metadata modified"><span class="assistive">Saved on </span><time datetime="2016-04-22 09:35:40.0">Apr 22, 2016</time></p>
            </div>
        
                    <div class="diff-navigation nav">
                        <ul>
                                                                           <li><a class="all version-navigation" href="https://doc.ez.no/pages/viewpreviousversions.action?pageId=31430313">
                                <span>View Page History</span>
                           </a></li>
                        </ul>
                    </div>
                </div>

                        <div class="legend">
            <h2 class="legend-title">Key</h2>
            <ul>
                <li><span class="diff-html-added">This line was added.</span></li>
                <li><span class="diff-html-removed">This line was removed.</span></li>
                <li><span class="diff-html-changed">Formatting was changed.</span></li>
            </ul>
        </div>
    
                                    </div>
                                                                
    
<div id="page-diffs" class="wiki-content">
            <p class="diff-block-target diff-block-context"><table class="diff-macro bodyless diff-html-removed"><thead><tr><th class="diff-macro-title"><span class="diff-html-removed" id="removed-diff-0"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/macrobrowser/dropdown/toc.png);"> </span>Table of Contents</span></th></tr></thead></table></p><div class="contentLayout2 diff-block-target diff-block-context"><div class="columnLayout two-right-sidebar" data-layout="two-right-sidebar"><div class="cell normal" data-type="normal"><div class="innerCell"><h2 id="Otherrecipes-AssigningSectiontocontent"><span class="diff-html-changed" id="changed-diff-0">Assigning Section to content</span></h2><table class="diff-macro diff-html-changed"><thead><tr><th class="diff-macro-title"><span class="diff-html-changed" id="changed-diff-1"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/macrobrowser/dropdown/info.png);"> </span>Info</span></th></tr></thead><tbody><tr><td class="diff-macro-properties"><table><tbody><tr><th><span class="diff-html-changed">title</span></th><td><span class="diff-html-changed">Full code</span></td></tr></tbody></table></td></tr></tbody><tbody><tr><td class="diff-macro-body"><p><a href="https://github.com/docb22/exponential-cookbook/tree/master/EzSystems/CookBookBundle/Command/AssignContentToSectionCommand.php" class="external-link" rel="nofollow"><span class="diff-html-changed">https://github.com/ezsystems/CookbookBundle/tree/master/Command/AssignContentToSectionCommand.php</span></a></p></td></tr></tbody></table><p><span class="diff-html-changed">The Section that a Content item belongs to can be set during creation, using the </span><code><span class="diff-html-changed">ContentCreateStruct::$sectionId</span></code><span class="diff-html-changed"> property. However, as for many Repository objects properties, the Section can't be changed using a </span><code><span class="diff-html-changed">ContentUpdateStruct</span></code><span class="diff-html-changed">. The reason is still the same: changing a Content item's Section will affect the subtrees referenced by its Locations. For this reason, it is required that you use the SectionService to change the Section of a Content item.</span></p><table class="diff-macro diff-html-changed"><thead><tr><th class="diff-macro-title"><span class="diff-html-changed"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/plugins/servlet/confluence/placeholder/macro-icon?name=code);"> </span>Code Block</span></th></tr></thead><tbody><tr><td class="diff-macro-properties"><table><tbody><tr><th><span class="diff-html-changed">language</span></th><td><span class="diff-html-changed">php</span></td></tr><tr><th><span class="diff-html-changed">title</span></th><td><span class="diff-html-changed">assign section to content</span></td></tr></tbody></table></td></tr></tbody><tbody><tr><td class="diff-macro-body"><pre><span class="diff-html-changed">$contentInfo = $contentService-&gt;loadContentInfo( $contentId );
$section = $sectionService-&gt;loadSection( $sectionId );
$sectionService-&gt;assignSection( $contentInfo, $section );</span></pre></td></tr></tbody></table><p><span class="diff-html-changed">This operation involves the </span><code><span class="diff-html-changed">SectionService</span></code><span class="diff-html-changed">, as well as the </span><code><span class="diff-html-changed">ContentService</span></code><span class="diff-html-changed">.</span></p><table class="diff-macro diff-html-changed"><thead><tr><th class="diff-macro-title"><span class="diff-html-changed"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/plugins/servlet/confluence/placeholder/macro-icon?name=code);"> </span>Code Block</span></th></tr></thead><tbody><tr><td class="diff-macro-properties"><table><tbody><tr><th><span class="diff-html-changed">language</span></th><td><span class="diff-html-changed">php</span></td></tr><tr><th><span class="diff-html-changed">title</span></th><td><span class="diff-html-changed">assign section to content</span></td></tr></tbody></table></td></tr></tbody><tbody><tr><td class="diff-macro-body"><pre><span class="diff-html-changed">$contentInfo = $contentService-&gt;loadContentInfo( $contentId );</span></pre></td></tr></tbody></table><p><span class="diff-html-changed">We use </span><code><span class="diff-html-changed">ContentService::loadContentInfo()</span></code><span class="diff-html-changed"> to get the Content we want to update the Section for.</span></p><table class="diff-macro diff-html-changed"><thead><tr><th class="diff-macro-title"><span class="diff-html-changed"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/plugins/servlet/confluence/placeholder/macro-icon?name=code);"> </span>Code Block</span></th></tr></thead><tbody><tr><td class="diff-macro-properties"><table><tbody><tr><th><span class="diff-html-changed">language</span></th><td><span class="diff-html-changed">php</span></td></tr><tr><th><span class="diff-html-changed">title</span></th><td><span class="diff-html-changed">assign section to content</span></td></tr></tbody></table></td></tr></tbody><tbody><tr><td class="diff-macro-body"><pre><span class="diff-html-changed">$section = $sectionService-&gt;loadSection( $sectionId );</span></pre></td></tr></tbody></table><p><code><span class="diff-html-changed">SectionService::loadSection()</span></code><span class="diff-html-changed"> is then used to load the Section we want to assign our Content to. Note that there is no </span><code><span class="diff-html-changed">SectionInfo</span></code><span class="diff-html-changed"> object. Sections are quite simple, and we don't need to separate their metadata from their actual data. However, </span><code><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/Values/Content/SectionCreateStruct.html" class="external-link" rel="nofollow"><span class="diff-html-changed">SectionCreateStruct</span></a></code><span class="diff-html-changed"> and </span><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/Values/Content/SectionUpdateStruct.html" class="external-link" rel="nofollow"><code><span class="diff-html-changed">SectionUpdateStruct</span></code></a><span class="diff-html-changed"> objects must still be used to create and update Sections.</span></p><table class="diff-macro diff-html-changed"><thead><tr><th class="diff-macro-title"><span class="diff-html-changed"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/plugins/servlet/confluence/placeholder/macro-icon?name=code);"> </span>Code Block</span></th></tr></thead><tbody><tr><td class="diff-macro-properties"><table><tbody><tr><th><span class="diff-html-changed">language</span></th><td><span class="diff-html-changed">php</span></td></tr><tr><th><span class="diff-html-changed">title</span></th><td><span class="diff-html-changed">assign section to content</span></td></tr></tbody></table></td></tr></tbody><tbody><tr><td class="diff-macro-body"><pre><span class="diff-html-changed">$sectionService-&gt;assignSection( $contentInfo, $section );</span></pre></td></tr></tbody></table><p><span class="diff-html-changed">The actual update operation is done using </span><code><span class="diff-html-changed">SectionService::assignSection()</span></code><span class="diff-html-changed">, with the </span><code><span class="diff-html-changed">ContentInfo</span></code><span class="diff-html-changed"> and the Section as arguments.</span></p><table class="diff-macro diff-html-changed"><thead><tr><th class="diff-macro-title"><span class="diff-html-changed"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/macrobrowser/dropdown/note.png);"> </span>Note</span></th></tr></thead><tbody><tr><td class="diff-macro-body"><p><code><span class="diff-html-changed">SectionService::assignSection()</span></code><span class="diff-html-changed"> won't return the updated Content, as it has no knowledge of those objects. To get the Content with the newly assigned Location, you need to reload the </span><code><span class="diff-html-changed">ContentInfo</span></code><span class="diff-html-changed"> using </span><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/ContentService.html#method_loadContentInfo" class="external-link" rel="nofollow"><code><span class="diff-html-changed">ContentService::loadContentInfo()</span></code></a><span class="diff-html-changed">. This is also valid for descendants of the Content item. If you have any stored in your execution state, you need to reload them. Otherwise you would be using outdated Content data.</span></p></td></tr></tbody></table><h2 id="Otherrecipes-CreatingaContentType"><span class="diff-html-changed" id="changed-diff-2">Creating a Content Type</span></h2><table class="diff-macro diff-html-changed"><thead><tr><th class="diff-macro-title"><span class="diff-html-changed" id="changed-diff-3"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/macrobrowser/dropdown/info.png);"> </span>Info</span></th></tr></thead><tbody><tr><td class="diff-macro-properties"><table><tbody><tr><th><span class="diff-html-changed">title</span></th><td><span class="diff-html-changed">Full code</span></td></tr></tbody></table></td></tr></tbody><tbody><tr><td class="diff-macro-body"><p><a href="https://github.com/ezsystems/CookbookBundle/blob/master/Command/CreateContentTypeCommand.php" class="external-link" rel="nofollow"><span class="diff-html-changed">https://github.com/ezsystems/CookbookBundle/blob/master/Command/CreateContentTypeCommand.php</span></a></p></td></tr></tbody></table><p><span class="diff-html-changed">Creating a </span><code><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/Values/ContentType/ContentType.html" class="external-link" rel="nofollow"><span class="diff-html-changed">ContentType</span></a></code><span class="diff-html-changed"> is actually almost more complex than creating Content. It really isn't as common, and didn't "deserve" the same kind of API as Content did.</span></p><p><span class="diff-html-changed">Let's split the code in three major parts.</span></p><table class="diff-macro diff-html-changed"><thead><tr><th class="diff-macro-title"><span class="diff-html-changed"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/plugins/servlet/confluence/placeholder/macro-icon?name=code);"> </span>Code Block</span></th></tr></thead><tbody><tr><td class="diff-macro-properties"><table><tbody><tr><th><span class="diff-html-changed">language</span></th><td><span class="diff-html-changed">php</span></td></tr></tbody></table></td></tr></tbody><tbody><tr><td class="diff-macro-body"><pre><span class="diff-html-changed">try
{
    $contentTypeGroup = $contentTypeService-&gt;loadContentTypeGroupByIdentifier( 'content' );
}
catch ( \eZ\Publish\API\Repository\Exceptions\NotFoundException $e )
{
    $output-&gt;writeln( "content type group with identifier $groupIdentifier not found" );
    return;
}


$contentTypeCreateStruct = $contentTypeService-&gt;newContentTypeCreateStruct( 'mycontenttype' );
$contentTypeCreateStruct-&gt;mainLanguageCode = 'eng-GB';
$contentTypeCreateStruct-&gt;nameSchema = '&lt;title&gt;';
$contentTypeCreateStruct-&gt;names = array(
    'eng-GB' =&gt; 'My content type'
);
$contentTypeCreateStruct-&gt;descriptions = array(
    'eng-GB' =&gt; 'Description for my content type',
);</span></pre></td></tr></tbody></table><p><span class="diff-html-changed">First, we need to load the </span><code><span class="diff-html-changed">ContentTypeGroup</span></code><span class="diff-html-changed"> our </span><code><span class="diff-html-changed">ContentType</span></code><span class="diff-html-changed"> will be created in. We do this using </span><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/ContentTypeService.html#method_loadContentTypeGroupByIdentifier" class="external-link" rel="nofollow"><code><span class="diff-html-changed">ContentTypeService::loadContentTypeGroupByIdentifier()</span></code></a><span class="diff-html-changed">, which gives us back a </span><code><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/Values/ContentType/ContentTypeGroup.html" class="external-link" rel="nofollow"><span class="diff-html-changed">ContentTypeGroup</span></a></code><span class="diff-html-changed"> object. As for content, we then request a </span><code><span class="diff-html-changed">ContentTypeCreateStruct</span></code><span class="diff-html-changed"> from the </span><code><span class="diff-html-changed">ContentTypeService</span></code><span class="diff-html-changed">, using </span><code><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/ContentTypeService.html#method_newContentTypeCreateStruct" class="external-link" rel="nofollow"><span class="diff-html-changed">ContentTypeService::newContentTypeCreateStruct()</span></a></code><span class="diff-html-changed">, with the desired identifier as the argument. </span></p><p><span class="diff-html-changed">Using the create struct's properties, we can set the Type's properties:</span></p><ul><li><span class="diff-html-changed">the main language (</span><code><span class="diff-html-changed">mainLanguageCode</span></code><span class="diff-html-changed">) for the Type is set to eng-GB,</span></li><li><span class="diff-html-changed">the content name generation pattern (</span><code><span class="diff-html-changed">nameSchema</span></code><span class="diff-html-changed">) is set to '&lt;title&gt;': Content items of this type will be named the same as their 'title' field.</span></li><li><span class="diff-html-changed">the human-readable name for our Type is set using the </span><code><span class="diff-html-changed">names</span></code><span class="diff-html-changed"> property. We give it a hash, indexed by the locale ('eng-GB') the name is set in. This locale must exist in the system.</span></li><li><span class="diff-html-changed">the same way that we have set the </span><code><span class="diff-html-changed">names</span></code><span class="diff-html-changed"> property, we can set human-readable descriptions, again as hashes indexed by locale code.</span></li></ul><p><span class="diff-html-changed">The next big part is to add FieldDefinition objects to our Content Type.</span></p><table class="diff-macro diff-html-changed"><thead><tr><th class="diff-macro-title"><span class="diff-html-changed"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/plugins/servlet/confluence/placeholder/macro-icon?name=code);"> </span>Code Block</span></th></tr></thead><tbody><tr><td class="diff-macro-properties"><table><tbody><tr><th><span class="diff-html-changed">language</span></th><td><span class="diff-html-changed">php</span></td></tr></tbody></table></td></tr></tbody><tbody><tr><td class="diff-macro-body"><pre><span class="diff-html-changed">// add a TextLine Field with identifier 'title'
$titleFieldCreateStruct = $contentTypeService-&gt;newFieldDefinitionCreateStruct( 'title', 'ezstring' );
$titleFieldCreateStruct-&gt;names = array( 'eng-GB' =&gt; 'Title' );
$titleFieldCreateStruct-&gt;descriptions = array( 'eng-GB' =&gt; 'The Title' );
$titleFieldCreateStruct-&gt;fieldGroup = 'content';
$titleFieldCreateStruct-&gt;position = 10;
$titleFieldCreateStruct-&gt;isTranslatable = true;
$titleFieldCreateStruct-&gt;isRequired = true;
$titleFieldCreateStruct-&gt;isSearchable = true;
$contentTypeCreateStruct-&gt;addFieldDefinition( $titleFieldCreateStruct );


// add a TextLine Field body field
$bodyFieldCreateStruct = $contentTypeService-&gt;newFieldDefinitionCreateStruct( 'body', 'ezstring' );
$bodyFieldCreateStruct-&gt;names = array( 'eng-GB' =&gt; 'Body' );
$bodyFieldCreateStruct-&gt;descriptions = array( 'eng-GB' =&gt; 'Description for Body' );
$bodyFieldCreateStruct-&gt;fieldGroup = 'content';
$bodyFieldCreateStruct-&gt;position = 20;
$bodyFieldCreateStruct-&gt;isTranslatable = true;
$bodyFieldCreateStruct-&gt;isRequired = true;
$bodyFieldCreateStruct-&gt;isSearchable = true;
$contentTypeCreateStruct-&gt;addFieldDefinition( $bodyFieldCreateStruct );</span></pre></td></tr></tbody></table><p><span class="diff-html-changed">We need to create a </span><code><span class="diff-html-changed">FieldDefinitionCreateStruct</span></code><span class="diff-html-changed"> object for each </span><code><span class="diff-html-changed">FieldDefinition</span></code><span class="diff-html-changed"> our </span><code><span class="diff-html-changed">ContentType</span></code><span class="diff-html-changed"> will be made of. Those objects are obtained using </span><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/ContentTypeService.html#method_newFieldDefinitionCreateStruct" class="external-link" rel="nofollow"><code><span class="diff-html-changed">ContentTypeService::newFieldDefinitionCreateStruct()</span></code></a><span class="diff-html-changed">. This method expects the FieldDefinition identifier and its type as arguments. The identifiers match the ones from Exponential 4 (</span><code><span class="diff-html-changed">ezstring</span></code><span class="diff-html-changed"> for TextLine, etc.).</span></p><p><span class="diff-html-changed">Each field's properties are set using the create struct's properties:</span></p><ul><li><code><span class="diff-html-changed">names</span></code><span class="diff-html-changed"> and </span><code><span class="diff-html-changed">descriptions</span></code><span class="diff-html-changed"> are set using hashes indexed by the locale code, and with the name or description as an argument.</span></li><li><span class="diff-html-changed">The </span><code><span class="diff-html-changed">fieldGroup</span></code><span class="diff-html-changed"> is set to 'content'</span></li><li><span class="diff-html-changed">Fields are ordered using the </span><code><span class="diff-html-changed">position</span></code><span class="diff-html-changed"> property, ordered numerically in ascending order. We set it to an integer.</span></li><li><span class="diff-html-changed">The translatable, required and searchable boolean flags are set using their respective property: </span><code><span class="diff-html-changed">isTranslatable</span></code><span class="diff-html-changed">, </span><code><span class="diff-html-changed">isRequired</span></code><span class="diff-html-changed"> and </span><code><span class="diff-html-changed">isSearchable</span></code><span class="diff-html-changed">.</span></li></ul><p><span class="diff-html-changed">Once the properties for each create struct are set, the field is added to the Content Type create struct using </span><a href="http://apidoc.ez.no/sami/trunk/NS/html/eZ/Publish/API/Repository/Values/ContentType/ContentTypeCreateStruct.html#method_addFieldDefinition" class="external-link" rel="nofollow"><code><span class="diff-html-changed">ContentTypeCreateStruct::addFieldDefinition()</span></code></a><span class="diff-html-changed">.</span></p><table class="diff-macro diff-html-changed"><thead><tr><th class="diff-macro-title"><span class="diff-html-changed"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/plugins/servlet/confluence/placeholder/macro-icon?name=code);"> </span>Code Block</span></th></tr></thead><tbody><tr><td class="diff-macro-properties"><table><tbody><tr><th><span class="diff-html-changed">language</span></th><td><span class="diff-html-changed">php</span></td></tr></tbody></table></td></tr></tbody><tbody><tr><td class="diff-macro-body"><pre><span class="diff-html-changed">try
{
    $contentTypeDraft = $contentTypeService-&gt;createContentType( $contentTypeCreateStruct, array( $contentTypeGroup ) );
    $contentTypeService-&gt;publishContentTypeDraft( $contentTypeDraft );
}
catch ( \eZ\Publish\API\Repository\Exceptions\UnauthorizedException $e )
{
    $output-&gt;writeln( "&lt;error&gt;" . $e-&gt;getMessage() . "&lt;/error&gt;" );
}
catch ( \eZ\Publish\API\Repository\Exceptions\ForbiddenException $e )
{
    $output-&gt;writeln( "&lt;error&gt;" . $e-&gt;getMessage() . "&lt;/error&gt;" );
}</span></pre></td></tr></tbody></table><p><span class="diff-html-changed">The last step is the same as for Content: we create a Content Type draft using </span><code><span class="diff-html-changed">ContentTypeService::createContentType()</span></code><span class="diff-html-changed">, with the </span><code><span class="diff-html-changed">ContentTypeCreateStruct</span></code><span class="diff-html-changed"> and an array of </span><code><span class="diff-html-changed">ContentTypeGroup</span></code><span class="diff-html-changed"> objects are arguments. We then publish the Content Type draft using </span><code><span class="diff-html-changed">ContentTypeService::publishContentTypeDraft()</span></code><span class="diff-html-changed">.</span></p><p><span class="diff-html-changed"> </span></p></div></div><div class="cell aside" data-type="aside"><div class="innerCell"><h4 id="Otherrecipes-Inthistopic:"><span class="diff-html-added" id="added-diff-0">In this topic:</span></h4><p><table class="diff-macro bodyless diff-html-added"><thead><tr><th class="diff-macro-title"><span class="diff-html-added"><span class="icon macro-placeholder-icon" style="background-image: url(https://doc.ez.no/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/macrobrowser/dropdown/toc.png);"> </span>Table of Contents</span></th></tr></thead><tbody><tr><td class="diff-macro-properties"><table><tbody><tr><th><span class="diff-html-added">maxLevel</span></th><td><span class="diff-html-added">3</span></td></tr></tbody></table></td></tr></tbody></table></p></div></div></div></div>
</div>
    
    

            
</div>


    




    
    

    
    
    







</div>
  
        <div id="theme-footer">
            <p>© 1999-2016 <a href="http://ez.no/" class="external-link" rel="nofollow">eZ Systems AS</a> and others</p>
        </div>
    
    </div>
</div>


        
            
            

<div id="footer" role="contentinfo">
    <section class="footer-body">

                                                            <p class="license license-opensource">
                    Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to Exponential. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                    
        

        <ul id="poweredby">
            <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> <span id='footer-build-information'>5.8.5</span>, <a href="http://www.atlassian.com/software/confluence/overview/team-collaboration-software?utm_source=confluence-footer" class="hover-footer-link">Team Collaboration Software</a></li>
            <li class="print-only">Printed by Atlassian Confluence 5.8.5, Team Collaboration Software.</li>
            <li class="noprint"><a href="https://jira.atlassian.com/browse/CONF" class="hover-footer-link">Report a bug</a></li>
            <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
        </ul>

        

        <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>

                    <script>
AJS.toInit(function(){
 if(AJS.params.spaceKey &&
    AJS.params.spaceKey === 'MAIN' ||
    AJS.params.spaceKey === 'EZMA' ||
    AJS.params.spaceKey === 'ODC' ||
    AJS.params.spaceKey === 'EZP50' ||
    AJS.params.spaceKey === 'EZP51' ||
    AJS.params.spaceKey === 'EZP52' ||
    AJS.params.spaceKey === 'EZPCLOUD' ||
    AJS.params.spaceKey === 'EZP' ||
    AJS.params.spaceKey === 'TECHDOC' ||
    AJS.params.spaceKey === 'USERGUIDE' ||
    AJS.params.spaceKey === 'EZRECO'
){

(function()
{var isSecure=('https:'==document.location.protocol);var ff=document.createElement('script');ff.type='text/javascript';ff.async=true;ff.src=(isSecure?'https':'http')+'://'+(isSecure?'secure.':'lb.')+'liveviewer.ez.no/statjs/sst-120-1304513615/stat.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ff,s);}
)();

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-303624-13', 'ez.no');
  ga('send', 'pageview');
}}
);
</script>
        
    </section>
</div>

    </div>
</body>

<!-- Mirrored from doc.ez.no/pages/diffpagesbyversion.action?pageId=31430313&selectedPageVersions=1&selectedPageVersions=2 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:18:02 GMT -->
</html>
