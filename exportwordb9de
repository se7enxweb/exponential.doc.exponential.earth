Message-ID: <1366907110.2534.1485845359229.JavaMail.confluence@ip-10-127-227-164>
Subject: Exported From Confluence
MIME-Version: 1.0
Content-Type: multipart/related; 
	boundary="----=_Part_2533_804384104.1485845359229"

------=_Part_2533_804384104.1485845359229
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-Location: file:///C:/exported.html

<html xmlns:o=3D'urn:schemas-microsoft-com:office:office'
      xmlns:w=3D'urn:schemas-microsoft-com:office:word'
      xmlns:v=3D'urn:schemas-microsoft-com:vml'
      xmlns=3D'urn:w3-org-ns:HTML'>
<head>
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf-8=
">
    <title>The LandingPage Field Type</title>
    <!--[if gte mso 9]>
    <xml>
        <o:OfficeDocumentSettings>
            <o:TargetScreenSize>1024x640</o:TargetScreenSize>
            <o:PixelsPerInch>72</o:PixelsPerInch>
            <o:AllowPNG/>
        </o:OfficeDocumentSettings>
        <w:WordDocument>
            <w:View>Print</w:View>
            <w:Zoom>90</w:Zoom>
            <w:DoNotOptimizeForBrowser/>
        </w:WordDocument>
    </xml>
    <![endif]-->
    <style>
                <!--
        @page Section1 {
            size: 8.5in 11.0in;
            margin: 1.0in;
            mso-header-margin: .5in;
            mso-footer-margin: .5in;
            mso-paper-source: 0;
        }

        td {
            page-break-inside: avoid;
        }

        tr {
            page-break-after: avoid;
        }

        div.Section1 {
            page: Section1;
        }

        /* Confluence print stylesheet. Common to all themes for print medi=
a */
/* Full of !important until we improve batching for print CSS */

@media print {
    #main {
        padding-bottom: 1em !important; /* The default padding of 6em is to=
o much for printouts */
    }

    body {
        font-family: Arial, Helvetica, FreeSans, sans-serif;
        font-size: 10pt;
        line-height: 1.2;
    }

    body, #full-height-container, #main, #page, #content, .has-personal-sid=
ebar #content {
        background: #fff !important;
        color: #000 !important;
        border: 0 !important;
        width: 100% !important;
        height: auto !important;
        min-height: auto !important;
        margin: 0 !important;
        padding: 0 !important;
        display: block !important;
    }

    a, a:link, a:visited, a:focus, a:hover, a:active {
        color: #000;
    }

    #content h1,
    #content h2,
    #content h3,
    #content h4,
    #content h5,
    #content h6 {
        font-family: Arial, Helvetica, FreeSans, sans-serif;
        page-break-after: avoid;
    }

    pre {
        font-family: Monaco, "Courier New", monospace;
    }

    #header,
    .aui-header-inner,
    #navigation,
    #sidebar,
    .sidebar,
    #personal-info-sidebar,
    .ia-fixed-sidebar,
    .page-actions,
    .navmenu,
    .ajs-menu-bar,
    .noprint,
    .inline-control-link,
    .inline-control-link a,
    a.show-labels-editor,
    .global-comment-actions,
    .comment-actions,
    .quick-comment-container,
    #addcomment {
        display: none !important;
    }

    .comment .date::before {
        content: none !important; /* remove middot for print view */
    }

    h1.pagetitle img {
        height: auto;
        width: auto;
    }

    .print-only {
        display: block;
    }

    #footer {
        position: relative !important; /* CONF-17506 Place the footer at en=
d of the content */
        margin: 0;
        padding: 0;
        background: none;
        clear: both;
    }

    #poweredby {
        border-top: none;
        background: none;
    }

    #poweredby li.print-only {
        display: list-item;
        font-style: italic;
    }

    #poweredby li.noprint {
        display: none;
    }

    /* no width controls in print */
    .wiki-content .table-wrap,
    .wiki-content p,
    .panel .codeContent,
    .panel .codeContent pre,
    .image-wrap {
        overflow: visible !important;
    }

    /* TODO - should this work? */
    #children-section,
    #comments-section .comment,
    #comments-section .comment .comment-body,
    #comments-section .comment .comment-content,
    #comments-section .comment p {
        page-break-inside: avoid;
    }

    #page-children a {
        text-decoration: none;
    }

    /**
     hide twixies

     the specificity here is a hack because print styles
     are getting loaded before the base styles. */
    #comments-section.pageSection .section-header,
    #comments-section.pageSection .section-title,
    #children-section.pageSection .section-header,
    #children-section.pageSection .section-title,
    .children-show-hide {
        padding-left: 0;
        margin-left: 0;
    }

    .children-show-hide.icon {
        display: none;
    }

    /* personal sidebar */
    .has-personal-sidebar #content {
        margin-right: 0px;
    }

    .has-personal-sidebar #content .pageSection {
        margin-right: 0px;
    }
}
-->
    </style>
</head>
<body>
    <h1>The LandingPage Field Type</h1>
    <div class=3D"Section1">
        <div class=3D"contentLayout2">=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<div class=3D"panel" style=3D"background-color: #f58220;border-width: 1px;"=
>
<div class=3D"panelContent" style=3D"background-color: #f58220;">=20
<p><strong>This page describes features available only in eZ Studio.</stron=
g></p>=20
</div>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-right-sidebar" data-layout=3D"two-right-side=
bar">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<div class=3D"panel" style=3D"background-color: #ffffff;border-width: 1px;"=
>
<div class=3D"panelHeader" style=3D"border-bottom-width: 1px;background-col=
or: #dddddd;">
<b>Overview</b>
</div>
<div class=3D"panelContent" style=3D"background-color: #ffffff;">=20
<p style=3D"text-align: center;">Landing Page Field Type defines the layout=
 structure of the Landing Page</p>=20
</div>
</div>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Name</th>
<th class=3D"confluenceTh">Internal name</th>
<th class=3D"confluenceTh">Expected input</th>
</tr>
<tr>
<td class=3D"confluenceTd"><code>Landing page</code></td>
<td class=3D"confluenceTd"><code>ezlandingpage</code></td>
<td class=3D"confluenceTd"><code>string (JSON)</code></td>
</tr>
</tbody>
</table>
</div>
<p>&nbsp;</p>
<p>With the Landing Page <a href=3D"https://doc.ez.no/display/MAIN/Glossary=
#Glossary-FieldType" rel=3D"nofollow">Field Type</a> you can define a&nbsp;=
<a href=3D"https://doc.ez.no/display/MAIN/Glossary#Glossary-LayoutLayout" r=
el=3D"nofollow">layout</a>&nbsp;with&nbsp;multiple zones&nbsp;within a sing=
le <a href=3D"https://doc.ez.no/display/MAIN/Glossary#Glossary-LandingPageL=
andingPage" rel=3D"nofollow">Landing Page</a>.</p>
<p>Within each zone, editors can create <a href=3D"https://doc.ez.no/displa=
y/MAIN/Glossary#Glossary-BlockBlock" rel=3D"nofollow">blocks</a>, the basic=
 segments of a Landing Page, that contain particular content categories. Sp=
ecific Content items, called&nbsp;<a href=3D"https://doc.ez.no/display/MAIN=
/Glossary#Glossary-Content" rel=3D"nofollow">block items</a>, can be added =
to these blocks.</p>
<p>The configuration of layout and blocks is stored in the <strong class=3D=
"final-path">default_layouts.yml</strong> file. For more information about =
configuration, refer to the <span class=3D"confluence-link"> <a href=3D"htt=
ps://doc.ez.no/display/TECHDOC/EzLandingPageFieldTypeBundle+Configuration" =
rel=3D"nofollow">EzLandingPageFieldTypeBundle Configuration</a> </span> cha=
pter.</p>
<p>This organization of the layout structure is particularly useful for man=
aging homepages.</p>
<p>&nbsp;</p>
</div>=20
</div>=20
<div class=3D"cell aside" data-type=3D"aside">=20
<div class=3D"innerCell">=20
<div class=3D"panel" style=3D"background-color: #FFFFFF;border-width: 1px;"=
>
<div class=3D"panelHeader" style=3D"border-bottom-width: 1px;background-col=
or: #dddddd;">
<b>In this topic</b>
</div>
<div class=3D"panelContent" style=3D"background-color: #FFFFFF;">
 &nbsp;=20
<style type=3D"text/css">/*<![CDATA[*/
div.rbtoc1485845359136 {padding: 0px;}
div.rbtoc1485845359136 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1485845359136 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style>
<div class=3D"toc-macro rbtoc1485845359136">=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#TheLandingPageFieldType-LayoutLayout">Layout</a></li>=20
<li><a href=3D"#TheLandingPageFieldType-ZonesZones">Zones</a>=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#TheLandingPageFieldType-ZonestructureZonestructure">Zone st=
ructure</a></li>=20
<li><a href=3D"#TheLandingPageFieldType-DefiningazonelayoutDefiningazonelay=
out">Defining a zone layout</a></li>=20
</ul> </li>=20
<li><a href=3D"#TheLandingPageFieldType-BlocksBlocks">Blocks</a>=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#TheLandingPageFieldType-CreatinganewblockCreatinganewblock"=
>Creating a new block</a>=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#TheLandingPageFieldType-Creatingaclassfortheblock">Creating=
 a class for the block</a></li>=20
<li><a href=3D"#TheLandingPageFieldType-Describingaclassdefinition">Describ=
ing a class definition</a></li>=20
<li><a href=3D"#TheLandingPageFieldType-Addingtheclasstothecontainer">Addin=
g the class to the container</a></li>=20
</ul> </li>=20
</ul> </li>=20
<li><a href=3D"#TheLandingPageFieldType-RenderingLandingPageRenderingLandin=
gPage">Rendering Landing Page</a></li>=20
<li><a href=3D"#TheLandingPageFieldType-ViewingtemplateViewingtemplate">Vie=
wing template</a></li>=20
<li><a href=3D"#TheLandingPageFieldType-ImplementationExample">Implementati=
on Example</a>=20
<ul class=3D"toc-indentation">=20
<li><a href=3D"#TheLandingPageFieldType-BlockClass">Block Class</a></li>=20
<li><a href=3D"#TheLandingPageFieldType-service.ymlconfiguration">service.y=
ml configuration</a></li>=20
<li><a href=3D"#TheLandingPageFieldType-Blocktemplate">Block template</a></=
li>=20
</ul> </li>=20
</ul>=20
</div>=20
</div>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h1 id=3D"TheLandingPageFieldType-LayoutLayout"><span class=3D"confluence-a=
nchor-link" id=3D"TheLandingPageFieldType-Layout"></span>Layout</h1>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>Layout is the way in which a <a href=3D"https://doc.ez.no/display/MAIN/G=
lossary#Glossary-LandingPage" rel=3D"nofollow">Landing Page</a> is divided =
into zones.</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<ul>
<li><p>By default, Studio Demo Bundle provides several preset layouts.</p><=
p style=3D"text-align: center;"><span class=3D"confluence-embedded-file-wra=
pper image-center-wrapper"><img class=3D"confluence-embedded-image confluen=
ce-thumbnail image-center" alt=3D"Layout selection window" src=3D"/plugins/=
servlet/confluence/placeholder/unknown-attachment?locale=3Den_GB&amp;versio=
n=3D2" title=3D"landing_page_select_layout.png"></span> <em> <sub>Select a =
Layout window with different layouts to choose </sub> </em></p></li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p style=3D"text-align: left;margin-left: 60.0px;">A Landing Page can have =
one of two general layout types:</p>
<ul>
<li style=3D"list-style-type: none;background-image: none;">
<ul>
<li><p><strong>Static page</strong> is a type of Landing Page with a very b=
asic content structure. It offers very flexible editing of content and layo=
ut at the same time, which is useful for example in simple marketing campai=
gns.<strong> <span> <br> </span> </strong></p>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>The <strong>Static </strong>Landing Page is beyond the scope of the firs=
t stable release (eZ Enterprise 2016.)</p>
</div>
</div></li>
<li><strong>Dynamic page</strong> is a type of Landing Page with an advance=
d content structure. It introduces the possibility to manipulate the struct=
ure of pages. The dynamic structure is based on zones and easily deployable=
 blocks.</li>
</ul></li>
</ul>
<p class=3D"_mce_tagged_br">&nbsp;</p>
<ul>
<li>You can use any type of layout from the Studio Demo bundle or you can c=
reate a new one from scratch. <span style=3D"color: rgb(0,0,0);">You can de=
fine as many layouts as you need.</span></li>
</ul>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h1 id=3D"TheLandingPageFieldType-ZonesZones"><span class=3D"confluence-anc=
hor-link" id=3D"TheLandingPageFieldType-Zones"></span>Zones</h1>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>As mentioned above, a layout is composed of zones.&nbsp;<span class=3D"D=
EF"> <span class=3D"DEF">Zones are organized structures that are deployed o=
ver a layout in a particular position</span> </span>.</p>
<p>The placement of zones is defined in a template which is a part of the l=
ayout configuration. You can modify the template, hard-coded in HTML, in or=
der to define your own system of zones.</p>
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"TheLandingPageFieldType-ZonestructureZonestructure"><span class=
=3D"confluence-anchor-link" id=3D"TheLandingPageFieldType-Zonestructure"></=
span>Zone structure</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>Each zone contains the following parameters:<strong> <span style=3D"colo=
r: rgb(255,0,0);"> <br> </span> </strong></p>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Name</th>
<th class=3D"confluenceTh">Description</th>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;zone_id&gt;</td>
<td class=3D"confluenceTd"><em>Required</em>. A unique zone ID</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;name&gt;</td>
<td class=3D"confluenceTd"><em>Required</em>. Zone name</td>
</tr>
</tbody>
</table>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"TheLandingPageFieldType-DefiningazonelayoutDefiningazonelayout"><=
span class=3D"confluence-anchor-link" id=3D"TheLandingPageFieldType-Definin=
gazonelayout"></span>Defining a zone layout</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>You can define a new layout file (e.g. in Twig) for a zone and include i=
t in a Landing page layout.<span style=3D"color: rgb(255,0,0);"> <br> </spa=
n></p>
<p>A Zone is a container for blocks. The best way to display blocks in the =
zone is to iterate over a blocks array and render the blocks in a loop.</p>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>&nbsp;For eZ Studio, the <strong> <code>data-studio-zone</code> </strong=
> attribute is required to allow dropping the Content into specific zones.<=
/p>
</div>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>Example of a zone layout:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeHeader panelHeader pdl" style=3D"border-bottom-width: 1px=
;">
<b>zone.html.twig</b>
</div>
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">&lt;div data-studio-zone=3D"{{ zones[0].id }}"&gt;=09=09=09=09=09=
=09=09=09=09=09
=09{# If a zone with [0] index contains any blocks #}
=09{% if zones[0].blocks %}=09=09=09=09=09=09=09=09=09=09=09=09=09
    =09{# for each block #}
=09=09{% for block in zone[0].blocks %}=09=09=09=09=09=09=09=09=09=09=09=09
    =09=09{# create a new layer with appropriate id #}
=09=09=09&lt;div class=3D"landing-page__block block_{{ block.type }}"&gt;=
=09=09=09
       =09=09=09{# render the block by using the "ez_block:renderBlockActio=
n" controller #}
=09=09=09=09{{ render_esi(controller('ez_block:renderBlockAction', {=09=09
           =09=09=09=09{# id of the current content #}
=09=09=09=09=09=09'contentId': contentInfo.id,=09=09=09=09=09=09=09
        =09=09=09=09{# id of the current block #}
=09=09=09=09=09=09'blockId': block.id=09=09=09=09=09=09=09=09=09=09
       =09=09=09=09}))=20
=09=09=09=09}}
    =09=09&lt;/div&gt;=09=09
=09=09{% endfor %}=09
=09{% endif %}
&lt;/div&gt;</pre>=20
</div>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h1 id=3D"TheLandingPageFieldType-BlocksBlocks"><span class=3D"confluence-a=
nchor-link" id=3D"TheLandingPageFieldType-Blocks"></span>Blocks</h1>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>Blocks are the basic segment of a <a href=3D"https://doc.ez.no/display/M=
AIN/Glossary#Glossary-LandingPageLandingPage" rel=3D"nofollow">Landing Page=
</a> and integral parts of a zone. Each zone can contain a number of <a hre=
f=3D"https://doc.ez.no/display/MAIN/Glossary#Glossary-Block" rel=3D"nofollo=
w">blocks</a>.</p>
<p>Blocks can be placed on a Landing Page using drag-and-drop and later cus=
tomized.</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"TheLandingPageFieldType-CreatinganewblockCreatinganewblock"><span=
 class=3D"confluence-anchor-link" id=3D"TheLandingPageFieldType-Creatingane=
wblock"></span>Creating a new block</h2>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h3 id=3D"TheLandingPageFieldType-Creatingaclassfortheblock">Creating a cla=
ss for the block</h3>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>The class for the block must implement the <strong> <code>BlockType</cod=
e> </strong> interface:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;"> EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\B=
lockType</pre>=20
</div>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>Most methods are implemented in a universal way by using <span>the <stro=
ng> <code>AbstractBlockType</code> </strong> abstract class:</span></p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;"> EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\A=
bstractBlockType </pre>=20
</div>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>If your block does not have specific attributes or a structure, you can =
extend the <code> <strong>AbstractBlockType</strong> </code> <strong> </str=
ong>class, which contains simple generic converters designated for the bloc=
k attributes.</p>
<p><span>Example:</span></p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">&lt;?php
namespace AcmeDemoBundle\Block;

use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\Abstra=
ctBlockType;

/**
* RSS block
* Renders feed from a given URL.
*/
class RSSBlock extends AbstractBlockType
{
   // Class body
}</pre>=20
</div>
</div>
<p><span> <br> </span></p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h3 id=3D"TheLandingPageFieldType-Describingaclassdefinition">Describing a =
class definition</h3>
<p>A block <strong>must</strong> have a definition set using two classes:</=
p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout two-equal" data-layout=3D"two-equal">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<div class=3D"columnMacro" style=3D"width:50%;min-width:50%;max-width:50%;"=
>
<p>The<strong> </strong> <code> <strong>BlockAttributeDefinition</strong> <=
/code> class defines the attributes of a block<span>:<br> </span></p>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Attribute</th>
<th class=3D"confluenceTh">Type</th>
<th class=3D"confluenceTh">Definition</th>
</tr>
<tr>
<td class=3D"confluenceTd">$id</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">block attribute ID</td>
</tr>
<tr>
<td class=3D"confluenceTd">$name</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">block attribute name</td>
</tr>
<tr>
<td class=3D"confluenceTd">$type</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">block attribute type, available options are:<br>
<ul>
<li><code> <span style=3D"color: rgb(61,60,64);">integer</span> </code></li=
>
<li><code> <span style=3D"color: rgb(61,60,64);">string</span> </code></li>
<li><code> <span style=3D"color: rgb(61,60,64);">url</span> </code></li>
<li><code> <span style=3D"color: rgb(61,60,64);">text</span> </code></li>
<li><code> <span style=3D"color: rgb(61,60,64);">embed</span> </code></li>
<li><code> <span style=3D"color: rgb(61,60,64);">select</span> </code></li>
<li><code> <span style=3D"color: rgb(61,60,64);">multiple</span> </code></l=
i>
</ul></td>
</tr>
<tr>
<td class=3D"confluenceTd">$regex</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">block attribute regex used for validation</td>
</tr>
<tr>
<td class=3D"confluenceTd">$regexErrorMessage</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">message displayed when regex does not match</td>
</tr>
<tr>
<td class=3D"confluenceTd">$required</td>
<td class=3D"confluenceTd">bool</td>
<td class=3D"confluenceTd"><code>TRUE</code>&nbsp;if attribute is required<=
/td>
</tr>
<tr>
<td class=3D"confluenceTd">$inline</td>
<td class=3D"confluenceTd">bool</td>
<td class=3D"confluenceTd">indicates&nbsp;whether block attribute input sho=
uld be rendered inline in a form</td>
</tr>
<tr>
<td class=3D"confluenceTd">$values</td>
<td class=3D"confluenceTd">array</td>
<td class=3D"confluenceTd">array of chosen values</td>
</tr>
<tr>
<td colspan=3D"1" class=3D"confluenceTd">$options</td>
<td colspan=3D"1" class=3D"confluenceTd">array</td>
<td colspan=3D"1" class=3D"confluenceTd">array of available options</td>
</tr>
</tbody>
</table>
</div>
<p><span style=3D"color: rgb(0,0,0);"> <br> </span></p>
</div>
</div>=20
</div>=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<div class=3D"columnMacro" style=3D"width:50%;min-width:50%;max-width:50%;"=
>
<p>The <code> <strong>BlockDefinition</strong> </code> class describes a bl=
ock:</p>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Attribute</th>
<th class=3D"confluenceTh">Type</th>
<th class=3D"confluenceTh">Definition</th>
<th colspan=3D"1" class=3D"confluenceTh">Note</th>
</tr>
<tr>
<td class=3D"confluenceTd"><p>$type</p></td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">block type</td>
<td colspan=3D"1" class=3D"confluenceTd">&nbsp;</td>
</tr>
<tr>
<td class=3D"confluenceTd">$name</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">block name</td>
<td colspan=3D"1" class=3D"confluenceTd">&nbsp;</td>
</tr>
<tr>
<td class=3D"confluenceTd">$category</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">block category</td>
<td colspan=3D"1" class=3D"confluenceTd">&nbsp;</td>
</tr>
<tr>
<td class=3D"confluenceTd">$thumbnail</td>
<td class=3D"confluenceTd">string</td>
<td class=3D"confluenceTd">path to block thumbnail image</td>
<td colspan=3D"1" class=3D"confluenceTd">&nbsp;</td>
</tr>
<tr>
<td class=3D"confluenceTd">$templates</td>
<td class=3D"confluenceTd">array</td>
<td class=3D"confluenceTd">array of available paths of templates</td>
<td colspan=3D"1" class=3D"confluenceTd"><p>Retrieved from the config file =
(default_layouts.yml)</p></td>
</tr>
<tr>
<td class=3D"confluenceTd">$attributes</td>
<td class=3D"confluenceTd">array</td>
<td class=3D"confluenceTd">array of block attributes (objects of&nbsp;<code=
> <strong>BlockAttributeDefinition</strong> </code>&nbsp;class)</td>
<td colspan=3D"1" class=3D"confluenceTd">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<p><span style=3D"color: rgb(0,0,0);"> <br> </span></p>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>When extending <strong> <code>AbstractBlockType</code> </strong> you <st=
rong>must</strong> implement at least 3 methods:</p>
<div id=3D"expander-994410035" class=3D"expand-container">
<div id=3D"expander-control-994410035" class=3D"expand-control">
<span class=3D"expand-control-icon"><img style=3D"vertical-align:middle;" c=
lass=3D"expand-control-image" src=3D"af918576c0365dadd34b26056af46801" widt=
h=3D"16" height=3D"16"></span>
<span class=3D"expand-control-text">createBlockDefinition()</span>
</div>
<div id=3D"expander-content-$toggleId" class=3D"expand-content">
<p>This method must return an<strong> <code>&nbsp;EzSystems\LandingPageFiel=
dTypeBundle\FieldType\LandingPage\Definition\BlockDefinition</code> </stron=
g>&nbsp;object.</p>
<p>Example of a Gallery block:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">/**
 * Creates BlockDefinition object for block type.
 *
 * @return \EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Defi=
nition\BlockDefinition
 */
public function createBlockDefinition()
{
    return new BlockDefinition(
        'gallery',
        'Gallery Block',
        'default',
        'bundles/ezsystemslandingpagefieldtype/images/thumbnails/gallery.sv=
g',
        [],=20
        [
            new BlockAttributeDefinition(
                'contentId',
                'Folder',
                'embed',
                '/^([a-zA-Z]:)?(\/[a-zA-Z0-9_\/-]+)+\/?/',
                'Choose an image folder'
            ),
        ]
    );
}</pre>=20
</div>
</div>
</div>
</div>
<div id=3D"expander-764758294" class=3D"expand-container">
<div id=3D"expander-control-764758294" class=3D"expand-control">
<span class=3D"expand-control-icon"><img style=3D"vertical-align:middle;" c=
lass=3D"expand-control-image" src=3D"af918576c0365dadd34b26056af46801" widt=
h=3D"16" height=3D"16"></span>
<span class=3D"expand-control-text">getTemplateParameters(BlockValue $block=
Value)</span>
</div>
<div id=3D"expander-content-$toggleId" class=3D"expand-content">
<p>This method returns an array of parameters to be displayed in rendered v=
iew of block. <span>You can access them directly in a block template (e. g.=
 via twig </span> <code>{{ title }}</code> <span>).</span></p>
<p>&nbsp;</p>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>When parameters are used in the template you call them directly without =
the <code>parameters</code> array name:</p>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Correct</th>
<th class=3D"confluenceTh">Not Correct</th>
</tr>
<tr>
<td class=3D"confluenceTd"><code> <span style=3D"color: rgb(51,153,102);">&=
lt;h1&gt;{{ title }}&lt;/h1&gt;</span> </code></td>
<td class=3D"confluenceTd"><s> <code> <span style=3D"color: rgb(255,0,0);">=
&lt;h1&gt;{{ parameters.title }}&lt;/h1&gt;</span> </code> </s></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>Example of the <code>getTemplateParameters()</code> method implementatio=
n:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">/**
* @param \EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\=
BlockValue $blockValue
*
* @return array
*/
public function getTemplateParameters(BlockValue $blockValue)
{
=09$attributes =3D $blockValue-&gt;getAttributes();
=09$limit =3D (isset($attributes['limit'])) ? $attributes['limit'] : 10;
=09$offset =3D (isset($attributes['offset'])) ? $attributes['offset'] : 0;
=09$parameters =3D [
=09=09'title' =3D&gt; $attributes['title'],
=09=09'limit' =3D&gt; $limit,
=09=09'offset' =3D&gt; $offset,
=09=09'feeds' =3D&gt; $this-&gt;RssProvider-&gt;getFeeds($attributes['url']=
),
=09];
=09
=09return $parameters;
}</pre>=20
</div>
</div>
<p><span>&nbsp;</span> <span> <br> </span></p>
</div>
</div>
<div id=3D"expander-1742976284" class=3D"expand-container">
<div id=3D"expander-control-1742976284" class=3D"expand-control">
<span class=3D"expand-control-icon"><img style=3D"vertical-align:middle;" c=
lass=3D"expand-control-image" src=3D"af918576c0365dadd34b26056af46801" widt=
h=3D"16" height=3D"16"></span>
<span class=3D"expand-control-text">checkAttributesStructure(array $attribu=
tes)</span>
</div>
<div id=3D"expander-content-$toggleId" class=3D"expand-content">
<p>This method validates the input fields for a block. You can specify your=
 own conditions to throw the <code>InvalidBlockAttributeException</code> ex=
ception.</p>
<p>This <code>InvalidBlockAttributeException</code> exception has the follo=
wing parameters:</p>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Name</th>
<th class=3D"confluenceTh">Description</th>
</tr>
<tr>
<td class=3D"confluenceTd"><span class=3D"pl-s1"> <span class=3D"pl-smi"> <=
strong>blockType</strong> </span> </span></td>
<td class=3D"confluenceTd"><span class=3D"pl-s1"> <span class=3D"pl-smi">na=
me of a block</span> </span></td>
</tr>
<tr>
<td class=3D"confluenceTd"><span class=3D"pl-s1"> <span class=3D"pl-smi"> <=
span class=3D"pl-s1"> <span class=3D"pl-smi"> <strong>attribute</strong> </=
span> </span> </span> </span></td>
<td class=3D"confluenceTd"><span class=3D"pl-s1"> <span class=3D"pl-smi"> <=
span class=3D"pl-s1"> <span class=3D"pl-smi">name of the block's attribute =
which failed validation</span> </span> </span> </span></td>
</tr>
<tr>
<td class=3D"confluenceTd"><span class=3D"pl-s1"> <span class=3D"pl-smi"> <=
span class=3D"pl-s1"> <span class=3D"pl-smi"> <span class=3D"pl-s1"> <span =
class=3D"pl-smi"> <strong>message</strong> </span> </span> </span> </span> =
</span> </span></td>
<td class=3D"confluenceTd"><span class=3D"pl-s1"> <span class=3D"pl-smi"> <=
span class=3D"pl-s1"> <span class=3D"pl-smi"> <span class=3D"pl-s1"> <span =
class=3D"pl-smi">a short information about an error</span> </span> </span> =
</span> </span> </span></td>
</tr>
<tr>
<td class=3D"confluenceTd"><span class=3D"pl-s1"> <span class=3D"pl-smi"> <=
span class=3D"pl-s1"> <span class=3D"pl-smi"> <span class=3D"pl-s1"> <span =
class=3D"pl-smi"> <span class=3D"pl-s1"> <span class=3D"pl-smi"> <strong>pr=
evious</strong> </span> </span> </span> </span> </span> </span> </span> </s=
pan></td>
<td class=3D"confluenceTd"><span class=3D"pl-s1"> <span class=3D"pl-smi"> <=
span class=3D"pl-s1"> <span class=3D"pl-smi"> <span class=3D"pl-s1"> <span =
class=3D"pl-smi"> <span class=3D"pl-s1"> <span class=3D"pl-smi">previous ex=
ception, null by default</span> </span> </span> </span> </span> </span> </s=
pan> </span></td>
</tr>
</tbody>
</table>
</div>
<p><span class=3D"pl-s1">&nbsp;</span> <span class=3D"pl-s1"> <span class=
=3D"pl-smi"> <span class=3D"pl-s1"> <span class=3D"pl-smi"> <span class=3D"=
pl-s1"> <span class=3D"pl-smi"> <span class=3D"pl-s1"> <span class=3D"pl-sm=
i"> <br> </span> </span> </span> </span> </span> </span> </span> </span></p=
>
<p><span>Example:</span></p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">/**
 * Checks if block's attributes are valid.
 *
 * @param array $attributes
 *
 * @throws \EzSystems\LandingPageFieldTypeBundle\Exception\InvalidBlockAttr=
ibuteException
 */
public function checkAttributesStructure(array $attributes)
{
    if (!isset($attributes['url'])) {
        throw new InvalidBlockAttributeException('RSS', 'url', 'URL must be=
 set.');
    }

    if (isset($attributes['limit']) &amp;&amp; (($attributes['limit'] &lt; =
1) || (!is_numeric($attributes['limit'])))) {
        throw new InvalidBlockAttributeException('RSS', 'limit', 'Limit mus=
t be a number greater than 0.');
    }

    if (isset($attributes['offset']) &amp;&amp; (($attributes['offset'] &lt=
; 0) || (!is_numeric($attributes['limit'])))) {
        throw new InvalidBlockAttributeException('RSS', 'offset', 'Offset m=
ust be a number no less than 0.');
    }
}</pre>=20
</div>
</div>
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>When the class is created make sure it is added to a container.</p>
</div>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h3 id=3D"TheLandingPageFieldType-Addingtheclasstothecontainer">Adding the =
class to the container</h3>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;The <strong>services.yml</strong> file must contain info about you=
r block class.</p>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>The description of your class must contain a tag which provides:</p>
<ul>
<li>tag name: <strong>landing_page_field_type.block_type</strong></li>
<li>tag alias: &lt;name of a block&gt;</li>
</ul>
</div>
</div>
<p>&nbsp;</p>
<p>An example:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">acme.landing_page.block.rss: =09=09=09=09=09=09=09=09=09=09=09# ser=
vice id
       class: AcmeDemoBundle\FieldType\LandingPage\Model\Block\RSSBlock # b=
lock's class with namespace
       tags: =09=09=09=09=09=09=09=09=09=09=09=09=09=09=09# service definit=
ion must contain tag with=20
           - { name: landing_page_field_type.block_type, alias: rss}=09# "l=
anding_page_field_type.block_type" name and block name as an alias
</pre>=20
</div>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h1 id=3D"TheLandingPageFieldType-RenderingLandingPageRenderingLandingPage"=
><span class=3D"confluence-anchor-link" id=3D"TheLandingPageFieldType-Rende=
ringLandingPage"></span>Rendering Landing Page</h1>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p><span lang=3D"en">Landing page rendering takes place while editing or vi=
ewing.</span></p>
<p>When rendering a Landing Page, its zones are passed to the layout as a <=
code>zones</code> array with a <code>blocks</code> array each. You can simp=
ly access them using twig (e.g.<strong>&nbsp;<code>{{ zones[0].id }}</code>=
 </strong> ).</p>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>Each div that's a zone or zone's container should have data attributes:<=
/p>
<ul>
<li><strong> <code>data-studio-zones-container</code> </strong> for a div c=
ontaining zones</li>
<li><strong> <code>data-studio-zone</code> </strong> with zone ID as a valu=
e for a zone container</li>
</ul>
</div>
</div>
<p>&nbsp;</p>
<p>To render a block inside the layout, use twig <em> <strong> <code>render=
_esi()</code> </strong> </em> function to call <code> <strong>ez_block:rend=
erBlockAction</strong> </code>.&nbsp;</p>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p><code> <strong>ez_block</strong> </code> is an alias to <strong style=3D=
"line-height: 1.42857;"> <code>EzSystems\LandingPageFieldTypeBundle\Control=
ler\BlockController</code> </strong></p>
</div>
</div>
<p>&nbsp;</p>
<p>An action has the following parameters:</p>
<ul>
<li><code> <strong>contentId</strong> </code> - ID of content which can be =
accessed by <code> <strong>contentInfo.id</strong> </code></li>
<li><code> <strong>blockId</strong> </code> - ID of block which you want to=
 render</li>
</ul>
<p>&nbsp;</p>
<p>Example usage:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">{{ render_esi(controller('ez_block:renderBlockAction', {
=09=09'contentId': contentInfo.id,
    =09'blockId': block.id
=09}))&nbsp;
}}</pre>=20
</div>
</div>
<p>&nbsp;</p>
<p>As a whole a sample layout could look as follows:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeHeader panelHeader pdl" style=3D"border-bottom-width: 1px=
;">
<b>landing_page_simple_layout.html.twig</b>
</div>
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: xml; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">{# a layer of the required "data-studio-zones-container" attribute,=
 in which zones will be displayed #}
&lt;div data-studio-zones-container&gt;
=09 {# a layer of the required attribute for the displayed zone #}
=09&nbsp;&lt;div data-studio-zone=3D"{{ zones[0].id }}"&gt;=09=09=09=09=09=
=09=09=09=09=09
=09=09{# If a zone with [0] index contains any blocks #}
=09=09{% if zones[0].blocks %}=09=09=09=09=09=09=09=09=09=09=09=09=09
    =09=09{# for each block #}
=09=09=09{% for block in blocks %}=09=09=09=09=09=09=09=09=09=09=09=09
    =09=09=09{# create a new layer with appropriate id #}
=09=09=09=09&lt;div class=3D"landing-page__block block_{{ block.type }}"&gt=
;=09=09=09
        =09=09=09{# render the block by using the "ez_block:renderBlockActi=
on" controller #}
=09=09=09=09=09{{ render_esi(controller('ez_block:renderBlockAction', {=09=
=09
            =09=09=09=09{# id of the current content #}
=09=09=09=09=09=09=09'contentId': contentInfo.id,=09=09=09=09=09=09=09
            =09=09=09=09{# id of the current block #}
=09=09=09=09=09=09=09'blockId': block.id=09=09=09=09=09=09=09=09=09=09
        =09=09=09=09}))&nbsp;
=09=09=09=09=09}}
    =09=09=09&lt;/div&gt;
=09=09=09{% endfor %}
=09=09{% endif %}
    &lt;/div&gt;
&lt;/div&gt;

</pre>=20
</div>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h1 id=3D"TheLandingPageFieldType-ViewingtemplateViewingtemplate"><span cla=
ss=3D"confluence-anchor-link" id=3D"TheLandingPageFieldType-Viewingtemplate=
"></span>Viewing template</h1>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<p>Your view is populated with data (parameters) retrieved from the <strong=
> <code>getTemplateParameters()</code> </strong> method which must be imple=
mented in your block's class.</p>
<p>Example:</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">/**
    * @param \EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Mo=
del\BlockValue $blockValue
    *
    * @return array
    */
   public function getTemplateParameters(BlockValue $blockValue)
   {
       $attributes =3D $blockValue-&gt;getAttributes();
       $limit =3D (isset($attributes['limit'])) ? $attributes['limit'] : 10=
;
       $offset =3D (isset($attributes['offset'])) ? $attributes['offset'] :=
 0;
       $parameters =3D [
           'title' =3D&gt; $attributes['title'],
           'limit' =3D&gt; $limit,
           'offset' =3D&gt; $offset,
           'feeds' =3D&gt; $this-&gt;RssProvider-&gt;getFeeds($attributes['=
url']),
       ];
       return $parameters;
   }</pre>=20
</div>
</div>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h1 id=3D"TheLandingPageFieldType-ImplementationExample">Implementation Exa=
mple</h1>
</div>=20
</div>=20
</div>=20
<div class=3D"columnLayout single" data-layout=3D"single">=20
<div class=3D"cell normal" data-type=3D"normal">=20
<div class=3D"innerCell">=20
<h2 id=3D"TheLandingPageFieldType-BlockClass">Block Class</h2>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeHeader panelHeader pdl" style=3D"border-bottom-width: 1px=
;">
<b>TagBlock.php</b>
</div>
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: php; gutter: false; theme: Eclipse" style=3D"font-size=
:12px;">&lt;?php
/**
 * @copyright Copyright (C) eZ Systems AS. All rights reserved.
 * @license For full copyright and license information view LICENSE file di=
stributed with this source code.
 */
namespace EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\=
Block;

use EzSystems\LandingPageFieldTypeBundle\Exception\InvalidBlockAttributeExc=
eption;
use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Definition\B=
lockDefinition;
use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Definition\B=
lockAttributeDefinition;
use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\Abstra=
ctBlockType;
use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\BlockT=
ype;
use EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model\BlockV=
alue;

/**
 * Tag block
 * Renders simple HTML.
 */
class TagBlock extends AbstractBlockType implements BlockType
{
    /**
     * Returns array of parameters required to render block template.
     *
     * @param array $blockValue Block value attributes
     *
     * @return array Template parameters
     */
    public function getTemplateParameters(BlockValue $blockValue)
    {
        return ['block' =3D&gt; $blockValue];
    }

=09/**
 =09 * Creates BlockDefinition object for block type.
 =09 *
 =09 * @return \EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\=
Definition\BlockDefinition
 =09 */
    public function createBlockDefinition()
    {
        return new BlockDefinition(
            'tag',
            'Tag Block',
            'default',
            'bundles/ezsystemslandingpagefieldtype/images/thumbnails/tag.sv=
g',
            [],
            [
                new BlockAttributeDefinition(
                    'content',
                    'Content',
                    'text',
                    '/[^\\s]/',
                    'Provide html code'
                ),
            ]
        );
    }

=09/**
 =09 * Checks if block's attributes are valid.
=09 *
=09 * @param array $attributes
=09 *
=09 * @throws \EzSystems\LandingPageFieldTypeBundle\Exception\InvalidBlockA=
ttributeException
=09 */
    public function checkAttributesStructure(array $attributes)
    {
        if (!isset($attributes['content'])) {
            throw new InvalidBlockAttributeException('Tag', 'content', 'Con=
tent must be set.');
        }
    }
}

</pre>=20
</div>
</div>
<h2 id=3D"TheLandingPageFieldType-service.ymlconfiguration">service.yml con=
figuration</h2>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeHeader panelHeader pdl" style=3D"border-bottom-width: 1px=
;">
<b>services.yml</b>
</div>
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: text; gutter: false; theme: Eclipse" style=3D"font-siz=
e:12px;">exponential.landing_page.block.tag:
    class: EzSystems\LandingPageFieldTypeBundle\FieldType\LandingPage\Model=
\Block\TagBlock
    tags:
        - { name: landing_page_field_type.block_type, alias: tag }</pre>=20
</div>
</div>
<h2 id=3D"TheLandingPageFieldType-Blocktemplate"><span>Block template</span=
></h2>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeHeader panelHeader pdl" style=3D"border-bottom-width: 1px=
;">
<b>tag.html.twig</b>
</div>
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: text; gutter: false; theme: Eclipse" style=3D"font-siz=
e:12px;">{{ block.attributes.content|raw }}</pre>=20
</div>
</div>
</div>=20
</div>=20
</div>=20
</div>
    </div>
</body>
</html>
------=_Part_2533_804384104.1485845359229
Content-Type: image/png
Content-Transfer-Encoding: base64
Content-Location: file:///C:/af918576c0365dadd34b26056af46801

iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAA3NCSVQICAjb4U/gAAAAFVBMVEX/
//9wcHBwcHBwcHBwcHBwcHBwcHA3RenHAAAAB3RSTlMAZoiZzN3/SzZomQAAAAlwSFlzAAALEgAA
CxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAUdEVYdENy
ZWF0aW9uIFRpbWUANi8xLzEzOKlF0AAAACFJREFUCJljYCATsCgwqIAZTMnMyRAhsTABCIMxkVxT
GQCLcwHyUKXpLgAAAABJRU5ErkJggg==
------=_Part_2533_804384104.1485845359229--
