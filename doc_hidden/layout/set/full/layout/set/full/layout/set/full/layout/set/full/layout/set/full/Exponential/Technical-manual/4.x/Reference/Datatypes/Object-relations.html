

<!DOCTYPE html>
<html lang="en-GB">


<!-- Mirrored from doc.ez.no/doc_hidden/layout/set/full/layout/set/full/layout/set/full/layout/set/full/layout/set/full/Exponential/Technical-manual/4.x/Reference/Datatypes/Object-relations by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 19:39:46 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../../../../../../../../../../extension/ezdoc/design/doc/stylesheets/core.css" />
<style type="text/css"></style>
                                                    
    <title>Object relations / Datatypes / Reference / 4.x / Technical manual / Exponential / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="Exponential Documentation" />
                    <meta name="keywords" content="Exponential, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="Exponential" />
    <link rel="Home" href="../../../../../../full.html" title="Doc front page" />
<link rel="Search" href="../../../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../../../../../../../../../../../../../../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>

<body>



<div class="attribute-heading">
<h1>Object relations</h1>
</div>

<h3>Summary</h3>
Stores relations to other content objects.
<h3>Properties</h3>
<table class="renderedtable" cellspacing="0">
<tr><th>Name</th><th>Internal name</th><th>Searchable</th><th>Information collector</th></tr>
<tr>
    <td>Object relations</td>
    <td>ezobjectrelationlist</td>
    <td>Yes.</td>
    <td>No.</td>
</tr>
</table>

<h3>Description</h3>
<p>This datatype makes it possible to store relations to multiple objects. It allows users to browse the node tree and select objects that should be related; in addition, it makes it possible to create new objects and automatically relate them to the one that is being edited. The following screenshot shows the class attribute edit interface for this datatype.</p><p>Please note that this datatype takes care of object relations only, and doesn't consider any particular existing permissions or visibility states. If you intend to filter relations considering existing roles and permissions we recommend the use of fetch functions within view templates. This way permissions and visibility will be considered.</p>
<div class="object-center linked">            <a href="../../../../../layout/set/full/Exponential/Technical-manual/4.x/Images/Reference/Datatypes/Class-attribute-edit-interface-for-the-Object-relations-data" target="_self"><img src="../../../../../../../../../../../../../../../../../../../../../var/doc/storage/images/ez_publish/technical_manual/4_0/images/reference/datatypes/class_attribute_edit_interface_for_the_object_r/74009-2-eng-GB/class_attribute_edit_interface_for_the_object_relations_datatype_doc.png" alt="Class attribute edit interface for the &quot;Object relations&quot; datatype." /></a>
 <p>Class attribute edit interface for the &quot;Object relations&quot; datatype.</p>







</div><p>The &quot;Selection method&quot; dropdown list makes it possible to set which browse interface should be used when the node tree is being explored by users (from within the object edit interface). There are seven selection methods in total. Three of them allow the selection of one object at a time. The remaining four make it possible to select multiple objects at the same time.</p><p>The following selection methods only allow the addition of one related object at a time:</p>
<ul>
<li><div>&nbsp;Dropdown list </div></li><li><div>&nbsp;List with radio buttons </div></li><li><div>&nbsp;Template based, single </div></li>
</ul>
<p>The following selection methods allow the addition of multiple related objects at the same time:</p>
<ul>
<li><div>&nbsp;Browse (default) </div></li><li><div>&nbsp;List with check boxes </div></li><li><div>&nbsp;Multiple selection list </div></li><li><div>&nbsp;Template based, multi </div></li>
</ul>
<p>By default, the &quot;Browse&quot; selection method is used, which means that the system will bring up a standard browse interface for adding related objects. It is possible to specify the start-location for browsing. This is controlled by the &quot;Default location&quot; section. If any other selection method is used, the system will display a list of nodes as part of the object edit interface. In these cases, the list is automatically limited to one subtree, according to the specified default location. The template based selection methods (&quot;Template based, multi&quot; and &quot;Template based, single&quot;) make use of the &quot;objectrelationlist.tpl&quot; template located in the &quot;templates/node/view/&quot; directory of the standard design. By creating a template override, you can customize the look and feel for these selection methods.</p><p>Note that if a related object is moved to the trash, the relation will still exist. The related object itself will not be shown when the object which it is related to is displayed. This behavior can be changed by overriding the default templates. If the &quot;Browse&quot; selection method is used in the object edit interface, the &quot;Published&quot; column of the corresponding related object will read &quot;No&quot;.</p><p>The &quot;Type&quot; dropdown list is no longer in use. It is only available if the backwards compatibility mode is enabled. This is controlled by the &quot;AdvancedObjectRelationList&quot; setting located in the &quot;[BackwardCompatibilitySettings]&quot; section of the &quot;settings/site.ini&quot; configuration file or an override. Due to some problems with the old implementation, this setting is disabled by default. This documentation page provides the description of the datatype assuming that the &quot;AdvancedObjectRelationList&quot; setting is disabled.</p><p>The &quot;Allowed classes&quot; menu makes it possible to control which types of objects that users should be allowed to select while browsing the node tree.</p><p>In addition to allowing relations to existing objects, this datatype makes it possible to create new objects and automatically relate them to the one that is being edited. Note that this currently works with all selection methods except the &quot;Browse&quot; method. In order to use this feature, you need to specify which type of object that should be created and where the newly created objects should be placed. This can be done by making use of the &quot;Object class&quot; dropdown list in the &quot;New objects&quot; section and the &quot;Default location&quot; section. If the &quot;Object class&quot; dropdown is set to &quot;none&quot;, it will not be possible to create new objects from within the object edit interface.</p><p>As previously mentioned, the &quot;Default location&quot; section can be used to limit the list of nodes to the specified subtree (for any selection method except &quot;Browse&quot;). For example, if you use the &quot;Media&quot; folder as the default location and specify &quot;List with check boxes&quot; as the selection method in the class edit interface, the system will display nodes which are located under the &quot;Media&quot; node (only the ones which are directly below it) along with checkboxes for making selections right in the object edit interface. If no default location is specified, the list of nodes will only contain the top level nodes.</p><a name="eztoc87248_0_0_1" id="eztoc87248_0_0_1"></a><h4>Object attribute edit interface</h4><p>The look and feel of the object attribute edit interface for this datatype varies depending on which selection method that is specified at the class level. Note that the &quot;Create new&quot; button will not be available unless a default location and a class for newly created objects are specified.</p><a name="eztoc87248_0_0_1_1" id="eztoc87248_0_0_1_1"></a><h5>Browse</h5><p>The following screenshot shows the object attribute edit interface for this datatype in a case where the &quot;Browse&quot; selection method is used.</p>
<div class="object-center">        <img src="../../../../../../../../../../../../../../../../../../../../../var/doc/storage/images/ez_publish/technical_manual/4_0/images/reference/datatypes/object_relations_object_attribute_edit_interfac/82346-2-eng-GB/object_relations_object_attribute_edit_interface_default_selection_method_doc.309" alt="Object attribute edit interface for the &quot;Object relations&quot; datatype (default selection method)." />
 <p>Object attribute edit interface for the &quot;Object relations&quot; datatype (default selection method).</p>







</div><a name="eztoc87248_0_0_1_1_1" id="eztoc87248_0_0_1_1_1"></a><h6>Objects relation order</h6><p>In the &quot;Browse&quot; selection method, the order set in the &quot;Order&quot; column let you set an number to organize your content. The numbers are used for ordering content and are relative to others numbers.</p><p>Note: If a related content object is deleted, the order won't be update to let the editor know that some content was removed. It can lead to non-sequential set of values This is the intended behaviour.&nbsp;If the object is republished, the order will updated in a sequential way.</p><a name="eztoc87248_0_0_1_2" id="eztoc87248_0_0_1_2"></a><h5>List with check boxes</h5><p>The following screenshot shows the object attribute edit interface in a case where the &quot;List with check boxes&quot; selection method is used while both the default location (in this case the &quot;Media&quot; folder) and the type of newly created objects are specified.</p>
<div class="object-center">        <img src="../../../../../../../../../../../../../../../../../../../../../var/doc/storage/images/ez_publish/technical_manual/4_0/images/reference/datatypes/object_attribute_edit_interface_for_the_object_/74012-1-eng-GB/object_attribute_edit_interface_for_the_object_relations_datatype_list_with_check" alt="Object attribute edit interface for the &quot;Object relations&quot; datatype (list with checkboxes). " />
 <p>Object attribute edit interface for the &quot;Object relations&quot; datatype (list with checkboxes). </p>







</div><a name="eztoc87248_0_0_1_3" id="eztoc87248_0_0_1_3"></a><h5>Multiple selection list</h5><p>The following screenshot shows the object attribute edit interface in a case where the &quot;Multiple selection list&quot; selection method is used and the &quot;Media&quot; folder is specified as the default location.</p>
<div class="object-center">        <img src="../../../../../../../../../../../../../../../../../../../../../var/doc/storage/images/ez_publish/technical_manual/4_0/images/reference/datatypes/object_attribute_edit_interface_for_the_object_/74015-1-eng-GB/object_attribute_edit_interface_for_the_object_relations_datatype_multiple_select" alt="Object attribute edit interface for the &quot;Object relations&quot; datatype (multiple selection list)." />
 <p>Object attribute edit interface for the &quot;Object relations&quot; datatype (multiple selection list).</p>







</div><a name="eztoc87248_0_0_1_4" id="eztoc87248_0_0_1_4"></a><h5>Dropdown list</h5><p>The following screenshot shows the object attribute edit interface in a case where the &quot;Dropdown list&quot; selection method is used and the &quot;Media&quot; folder is specified as the default location.</p>
<div class="object-center">        <img src="../../../../../../../../../../../../../../../../../../../../../var/doc/storage/images/ez_publish/technical_manual/4_0/images/reference/datatypes/object_attribute_edit_interface_for_the_object_/74018-1-eng-GB/object_attribute_edit_interface_for_the_object_relations_datatype_dropdown_list_d" alt="Object attribute edit interface for the &quot;Object relations&quot; datatype (dropdown list). " />
 <p>Object attribute edit interface for the &quot;Object relations&quot; datatype (dropdown list). </p>







</div><a name="eztoc87248_0_0_1_5" id="eztoc87248_0_0_1_5"></a><h5>List with radio buttons</h5><p>The following screenshot shows the object attribute edit interface in a case where the &quot;List with radio buttons&quot; selection method is used and the &quot;Media&quot; folder is specified as the default location.</p>
<div class="object-center">        <img src="../../../../../../../../../../../../../../../../../../../../../var/doc/storage/images/ez_publish/technical_manual/4_0/images/reference/datatypes/object_attribute_edit_interface_for_the_object_/74021-1-eng-GB/object_attribute_edit_interface_for_the_object_relations_datatype_list_with_radio" alt="Object attribute edit interface for the &quot;Object relations&quot; datatype (list with radio buttons). " />
 <p>Object attribute edit interface for the &quot;Object relations&quot; datatype (list with radio buttons). </p>







</div><a name="eztoc87248_0_0_2" id="eztoc87248_0_0_2"></a><h4>Raw output</h4><p>The &quot;.content&quot; of an <a href="../Objects/ezcontentobjectattribute.html" target="_self">ezcontentobjectattribute</a> object using this datatype returns a hash containing one element called &quot;relation_list&quot;. This element can be either an empty array (if there are no relations) or an array of hashes. If there are related objects, each element will contain information about a specific object. The hash-structure of the elements is given in the table below.</p><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<th >  <p>Key</p>
  </th><th >  <p>Type</p>
  </th><th >  <p>Description</p>
  </th>
</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>priority</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The node's priority (positive or negative integer).</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>contentobject_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The ID number of the content object.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>contentobject_version</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The version number of the published version at the time when the relation was modified.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>node_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The ID number of the node at the time when the relation was modified.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>parent_node_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The ID number of the parent node at the time when the relation was modified.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>contentclass_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The ID number of the content class which the object is an instance of at the time when the relation was modified.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>contentobject_remote_id</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>string</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The remote id of the related content object at the time when the relation was modified.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>identifier</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>boolean</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Reserved for future use.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>is_modified</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>boolean</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Not in use (needed for backwards compatibility).</p>
  </td>

</tr>

</table>
<p>As the intention of this data is to provide meta information about state when relation was created, you should instead of using this rather fetch the object using its contentobject_id for front-end needs like listing locations, needing to know current version and so on.</p><a name="eztoc87248_0_0_3" id="eztoc87248_0_0_3"></a><h4>Changing/Deleting a related-object main location/node</h4><p>When relating an object using a relation_list, if the related-object main location is changed and then deleted, the relation_list node_id-reference is not updated to reflect the related-objects changed main location/node.</p><p>Since the information provided in relation_list is the original one, you might have to use an object-fetch method to retrieve up-to-date information.</p><p>Example:</p><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<td valign="top" style="vertical-align: top">  <p>{foreach $item.data_map.authors.content.relation_list as $author_relation}</p><p>{set $person=fetch(content,object, hash(object_id, $author_relation.contentobject_id))}</p><p>{/foreach}</p>
  </td>

</tr>

</table>





<address>
Powered by <a href="http://ez.no/exponential" title="Exponential&trade; CMS Open Source Web Content Management">Exponential&trade; CMS Open Source Web Content Management</a>. Copyright &copy; 1999-2013 <a href="http://ez.no/" title="eZ Systems AS">eZ Systems AS</a> (except where otherwise noted). All rights reserved.
</address>


</body>

<!-- Mirrored from doc.ez.no/doc_hidden/layout/set/full/layout/set/full/layout/set/full/layout/set/full/layout/set/full/Exponential/Technical-manual/4.x/Reference/Datatypes/Object-relations by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 19:39:46 GMT -->
</html>
