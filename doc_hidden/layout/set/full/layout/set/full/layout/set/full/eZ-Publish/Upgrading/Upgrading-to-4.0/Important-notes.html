

<!DOCTYPE html>
<html lang="en-GB">


<!-- Mirrored from doc.ez.no/doc_hidden/layout/set/full/layout/set/full/layout/set/full/Exponential/Upgrading/Upgrading-to-4.0/Important-notes by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Feb 2017 01:35:53 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../../extension/ezdoc/design/doc/stylesheets/core.css" />
<style type="text/css"></style>
                                        
    <title>Important notes / Upgrading to 4.0 / Upgrading / Exponential / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="Exponential Documentation" />
                    <meta name="keywords" content="Exponential, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="Exponential" />
    <link rel="Home" href="../../../../full.html" title="Doc front page" />
<link rel="Search" href="../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../../../../../../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>

<body>



<div class="attribute-heading">
<h1>Important notes</h1>
</div>

 <p>This section contains important notes about upgrading your existing Exponential 3.x installation to version 4.0. Read it carefully before you do the actual upgrade.</p>  <a name="eztoc98328_1" id="eztoc98328_1"></a><h2>Upgrade path, requirements and preparation</h2> <p>Exponential 4.0 contains all the functionality of the 3.10 series. Before upgrading, check the <a href="../../Technical-manual/4.x/Installation/Normal-installation/Requirements-for-doing-a-normal-installation.html" target="_self">requirements</a> and set up the hosting environment for your site accordingly, so that you can quickly switch to PHP 5 after upgrading the distribution files.</p> <p>It is not possible to upgrade directly from version 3.9 (and earlier) to 4.0, and the 4.0 distribution does not contain upgrade scripts for this. Instead, you should upgrade to 3.10.1 first, and then upgrade from 3.10.1 to 4.0.1.</p>   <a name="eztoc98328_2" id="eztoc98328_2"></a><h2>Compatibility with extensions</h2> <p>Extensions compatible with Exponential 3.x may not work with 4.0. The following table shows which versions of the different extensions are supposed to work with Exponential 4.</p> <table class="renderedtable" cellpadding="2" cellspacing="0">
 
<tr>
 <th >   <p>Name</p> 
  </th> <th >   <p>Compatibility with 4.0</p> 
  </th> 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p><a href="../../../Extensions/Exponential-extensions/Website-Interface.html" target="_self">Website Interface</a> </p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>v.1.3</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p><a href="../../../Extensions/Exponential-extensions/Online-Editor.html" target="_self">Online Editor</a> </p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>v.4.3 (comes together with Exponential 4.0)</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p><a href="../../../Extensions/Exponential-extensions/ODF-Import-Export.html" target="_self">ODF Import / Export</a> </p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>v.2.1 (comes together with Exponential 4.0)</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>eZ PayPal Payment Gateway</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>v.1.1 (upcoming)</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p><a href="../../../Extensions/Exponential-extensions/Exponential-Extension-for-Oracle-R-database.html" target="_self">Exponential Extension for OracleÂ® Database </a> </p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>v.1.8</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p><a href="../../../Extensions/Exponential-extensions/eZ-Find.html" target="_self">eZ Find</a> </p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>v.1.0</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p><a href="../../../Extensions/Exponential-extensions/Newsletter.html" target="_self">eZ Newsletter</a> </p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>v.1.6 (upcoming)</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p><a href="../../../Extensions/Exponential-extensions/Paynet-Direct.html" target="_self">Paynet Direct</a> </p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Not tested for compatibility yet.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p><a href="../../../Extensions/Exponential-extensions/Paynet-Terminal.html" target="_self">Paynet Terminal</a> </p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Not tested for compatibility yet.</p> 
  </td>
 
</tr>
 
</table>
 <p>Custom extensions developed for Exponential 3.x may stop working after upgrading to 4.0, especially those using constants of the Exponential kernel. These have been moved inside class definitions. The following examples show the difference based on the code taken from &quot;kernel/classes/ezcontentobject.php&quot;:</p> <p>
3.10:<br /></p><pre class="wordwrap copytoclipboard"><span class="line">...</span>
<span class="line">define( &quot;EZ_CONTENT_OBJECT_STATUS_DRAFT&quot;, 0 );</span>
<span class="line">define( &quot;EZ_CONTENT_OBJECT_STATUS_PUBLISHED&quot;, 1 );</span>
<span class="line">define( &quot;EZ_CONTENT_OBJECT_STATUS_ARCHIVED&quot;, 2 );</span>
<span class="line">...</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '... \r\ndefine( &quot;EZ_CONTENT_OBJECT_STATUS_DRAFT&quot;, 0 );\r\ndefine( &quot;EZ_CONTENT_OBJECT_STATUS_PUBLISHED&quot;, 1 );\r\ndefine( &quot;EZ_CONTENT_OBJECT_STATUS_ARCHIVED&quot;, 2 );\r\n...' ); return false;" /></p>
<![endif]--><p>&nbsp;</p> <p>
4.0:<br /></p><pre class="wordwrap copytoclipboard"><span class="line">class eZContentObject extends eZPersistentObject</span>
<span class="line">{</span>
<span class="line">&nbsp;const STATUS_DRAFT = 0;</span>
<span class="line">&nbsp;const STATUS_PUBLISHED = 1;</span>
<span class="line">&nbsp;const STATUS_ARCHIVED = 2;</span>
<span class="line">...</span>
<span class="line">}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'class eZContentObject extends eZPersistentObject\r\n{\r\n const STATUS_DRAFT = 0;\r\n const STATUS_PUBLISHED = 1;\r\n const STATUS_ARCHIVED = 2;\r\n...\r\n}' ); return false;" /></p>
<![endif]--><p>&nbsp;</p> <p>
The following line shows an example of using these constants in PHP code for Exponential 3.x.<br /></p><pre class="wordwrap"><span class="line">$status = EZ_CONTENT_OBJECT_STATUS_DRAFT;</span>
</pre><p>
 <br />
In 4.0, this constant does not exist anymore (it has been renamed and moved inside the class definition) and you will have to use the new class constant instead:<br /></p><pre class="wordwrap"><span class="line">$status = eZContentObject::STATUS_DRAFT;</span>
</pre><p>
 <br />Refer to the <a href="http://php.net/manual/en/language.oop5.constants.php" target="_blank">PHP documentation</a> for more information about class constants. <a name="autoload"></a>
 </p>   <a name="eztoc98328_3" id="eztoc98328_3"></a><h2>Notes for extension developers</h2> <p>When developing custom extensions for Exponential 4, keep in mind that it stores each class definition in a separate PHP source file and makes use of the <a href="http://www.php.net/autoload" target="_blank">__autoload()</a> function instead of having a list of needed includes at the beginning of each source file. All class definitions of the Exponential kernel have their paths listed in the &quot;autoload/ezp_kernel.php&quot; file. The &quot;autoload/ezp_extension.php&quot; file contains an array of paths for class definitions that are a part of the extensions that come with Exponential. This array must be updated every time you add a new extension to the system. This can be done by running the &quot;ezpgenerateautoloads.php&quot; script located in the &quot;bin/php&quot; directory. The following example shows how to run the script.</p> 
<ol>
 <li><div> Navigate into the Exponential 4.0 directory. </div></li> <li><div> Run the script using the following shell command: <pre class="wordwrap"><span class="line">php bin/php/ezpgenerateautoloads.php --extension</span>
</pre>  </div></li> 
</ol>
 <p>
The script will look for class definitions in the &quot;extension&quot; directory and update the &quot;autoload/ezp_extension.php&quot; file accordingly. You can instruct the script to skip some of the extension subdirectories by using the optional &quot;--exclude&quot; parameter. To do this, run the script using the following shell command (replace &quot;ext1&quot; and &quot;ext2&quot; with the actual names of the extension subdirectories):<br /></p><pre class="wordwrap"><span class="line">php bin/php/ezpgenerateautoloads.php --extension --exclude=&quot;extension/ext1 extension/ext2&quot;</span>
</pre><p>&nbsp;</p> <p>Note that it is also possible to update the &quot;autoload/ezp_extension.php&quot; file by clicking the &quot;Regenerate autoload arrays for extensions&quot; button located in the &quot;Setup - Extensions&quot; part of the administration interface. In this case, only class definitions that are a part of globally enabled/activated extensions will be listed in the updated file.</p> 




<address>
Powered by <a href="http://ez.no/exponential" title="Exponential&trade; CMS Open Source Web Content Management">Exponential&trade; CMS Open Source Web Content Management</a>. Copyright &copy; 1999-2013 <a href="http://ez.no/" title="eZ Systems AS">eZ Systems AS</a> (except where otherwise noted). All rights reserved.
</address>


</body>

<!-- Mirrored from doc.ez.no/doc_hidden/layout/set/full/layout/set/full/layout/set/full/Exponential/Upgrading/Upgrading-to-4.0/Important-notes by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Feb 2017 01:35:53 GMT -->
</html>
