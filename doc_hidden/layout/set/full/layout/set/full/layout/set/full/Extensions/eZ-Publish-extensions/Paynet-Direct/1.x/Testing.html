

<!DOCTYPE html>
<html lang="en-GB">


<!-- Mirrored from doc.ez.no/doc_hidden/layout/set/full/layout/set/full/layout/set/full/Extensions/Exponential-extensions/Paynet-Direct/1.x/Testing by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Feb 2017 01:36:18 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../../../extension/ezdoc/design/doc/stylesheets/core.css" />
<style type="text/css"></style>
                                              
    <title>Testing / 1.x / Paynet Direct / Exponential extensions / Extensions / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="Exponential Documentation" />
                    <meta name="keywords" content="Exponential, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="Exponential" />
    <link rel="Home" href="../../../../../full.html" title="Doc front page" />
<link rel="Search" href="../../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../../../../../../../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>

<body>



<div class="attribute-heading">
<h1>Testing</h1>
</div>

 <p>This section explains how the &quot;Paynet Direct&quot; extension can be tested in order to verify that it works properly. Tests can be carried out using the paynet demo key certificate. It is located in the &quot;settings&quot; directory of the extension (it is &quot;called paynet-demo-keycert.pem.php&quot;). The default configuration makes use of this file. The MerchantID can be set to any number.</p>  <a name="eztoc7858_1" id="eztoc7858_1"></a><h2>Credit card testing</h2> 
<ol>
 <li><div> Visit the Exponential site like a regular customer would do. </div></li> <li><div> Put some items in the basket and execute the checkout process. </div></li> <li><div> When promted to enter credit card information, use the numbers from the table below. </div></li> 
</ol>
 <table class="renderedtable" cellpadding="2" cellspacing="0">
 
<tr>
 <th >   <p>Credit card number</p> 
  </th> <th >   <p>Description</p> 
  </th> <th >   <p>Expiry date</p> 
  </th> 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Random number.</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Invalid card number.</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Any.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>4444333322221111</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Valid VISA test.</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Any.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>5555555555554444</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Valid Mastercard test.</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Any.</p> 
  </td>
 
</tr>
 
</table>
 <p>The VISA and Mastercard numbers should validate and thus allow the contents of the basket to be purchase. Using a random number should not process and will produce an error message. It is a good idea to test the system with several users and multiple scenarios; more testing usually equals a better / safer environment.</p>   <a name="eztoc7858_2" id="eztoc7858_2"></a><h2>The transaction log</h2> <p>The &quot;Paynet Direct&quot; extension provides a view that can be used to generate an overview of all transactions. This view can only be accessed by users with sufficient permissions (for example the &quot;Administrator User&quot;). The following screenshot shows an example of the output that will be generated when the transaction log is requested.</p> 
<div class="object-center">        <img src="../../../../../../../../../../../../../../var/doc/storage/images/extensions/paynet_direct/1_x/images/transaction_log/33508-1-eng-GB/transaction_log_doc.png" alt="Transaction log" />
 <p>Transaction log</p>







</div> <p>The transaction log is probably the best view to test or debug the paynet orders. The latest order approvals from the Paynet server appear on the top of the list. </p> <p>The list has the following columns:</p><table class="renderedtable" cellpadding="2" cellspacing="0">
 
<tr>
 <th >   <p>Name</p> 
  </th> <th >   <p>Description</p> 
  </th> 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>ID</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The ID of the transaction. Click on the link to see the transaction details. Most of the information is already available in the transaction log, but it also includes the raw data sent from the paynet server.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Relates to</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The relation to another entry in the log. For example a refund from a previous order (the customer paid too much). The refund will relate to the first transaction that bought the product.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Time</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The time the order was processed.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Type</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The type of the transaction. This will be either &quot;sale&quot; or &quot;refund&quot;. More information can be revealed when this field is combined with the &quot;status&quot; field (see below).</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Status</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>Possible values are &quot;ok&quot;, &quot;failed&quot; and &quot;rolled back&quot;. When combined with the &quot;type&quot; field, the following information is revealed:</p> 
<ul>
 <li><div> &quot;sale&quot;, &quot;ok&quot;: The money was transferred from the customer to the retailer. </div></li> <li><div> &quot;sale&quot;, &quot;failed&quot;: Something went wrong with the transaction. Click on the ID link to bring up more information. </div></li> <li><div> &quot;refund&quot;, &quot;ok&quot;: The money was successfully refunded (from retailer to customer). </div></li> <li><div> &quot;refund&quot;, &quot;failed&quot;: Something went wrong with the refund. Click on the ID link to bring up more information. </div></li> <li><div> &quot;sale&quot;, &quot;rolled back&quot;: A transaction that first was &quot;sale&quot; &quot;ok&quot; but later was refunded will have it's type and status set to &quot;sale&quot; &quot;rolled back&quot;. </div></li> 
</ul>
 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Order ID</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The ID number of the order (as a link). The link brings up a view that shows the products/services that the customer bought.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>User ID</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The ID number of the user that represents the customer (as a link). The link brings up a view that shows a complete overview of all orders that the user has placed. Please note that this list might be very long for the Anonymous user.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>CC Type</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The type of the credit card that was used (as a link). The link brings up the transaction view which can also be accessed from the Paynet oderview (both views will be discussed later).</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Amount</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The amount of transferred money.</p> 
  </td>
 
</tr>
 
</table>
<p>The transaction log shows a detailed log of every transaction that has been made. It is useful when something goes wrong and needs to be checked. When everything works, it is probably easier to use the Paynet direct orders.</p>   <a name="eztoc7858_3" id="eztoc7858_3"></a><h2>The order view</h2> <p>This view shows a list of payed orders. New orders will appear on the top the of the list. Note that only the orders that have been payed end up in this list. The following screenshot shows an example of the output that will be generated when this view is requested.</p> <p>&nbsp;</p>
<div class="object-center">        <img src="../../../../../../../../../../../../../../var/doc/storage/images/extensions/paynet_direct/1_x/images/paynetdirect_orders/33730-1-eng-GB/paynetdirect_orders_doc.png" alt="Paynetdirect orders" />
 <p>Paynetdirect orders</p>







</div><p>The columns of this list are:</p><table class="renderedtable" cellpadding="2" cellspacing="0">
 
<tr>
 <th >   <p>Name</p> 
  </th> <th >   <p>Description</p> 
  </th> 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>ID</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The ID number of the order (as a link). The link brings up more information about the order itself (works in the same way as the ID link in the transaction log).</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Time</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The time when the order was placed.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Customer</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The name of the customer who placed the order. Note that this is not the user name.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Total (ex VAT)</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The total price not including VAT.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Total (inc VAT)</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The total price including the VAT.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Debit</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The amount of money that was transferred from the customer to the retailer - both should be &quot;happy&quot; when the debit equals the Total (inc VAT) value.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Creditcard</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The type of creditcard that was used (as a link). The link brings up the transaction view.</p> 
  </td>
 
</tr>
 
<tr>
 <td valign="top" style="vertical-align: top">   <p>Status</p> 
  </td>
 <td valign="top" style="vertical-align: top">   <p>The status of the order. The shop administrators can (should) change these to keep track of the orders.</p> 
  </td>
 
</tr>
 
</table>
<p>To get a more detailed view on the money transfers click on the creditcard link.</p>   <a name="eztoc7858_4" id="eztoc7858_4"></a><h2>The transaction view</h2> <p>The transaction view shows the transactions done for a specific order. The following screenshot shows an example of the output that will be generated when the transaction view is requested. </p>
<div class="object-center">        <img src="../../../../../../../../../../../../../../var/doc/storage/images/extensions/paynet_direct/1_x/images/the_transaction_view/33733-1-eng-GB/the_transaction_view_doc.png" alt="The transaction view" />
 <p>The transaction view</p>







</div> <p>Usually one transaction belongs to an order. The transaction view shows in that case only one &quot;sale&quot; action. Multiple transactions belonging to one order is also possible. The retailer can transfer money back and forth to and from the customer by clicking, respectively, the &quot;Refund customer&quot; and &quot;Charge (extra) from customer&quot; buttons. The retailer chooses the amount to refund or charge and presses &quot;OK&quot;. A new transaction appears in the transaction view. Notice the change in the debit amount.</p> <p>Refunding is useful when a customer paid too much. Some examples are: the customer gets a discount or the customer chose the wrong country and pays therefore too much VAT.</p> <p>Charging extra can be useful when the retailer refunded too much or extra costs can only be determined later (e.g. shipping costs).</p> <p>Most of the fields are obvious except for the Tref and Authnr fields. These values come from Paynet and may be useful when the expertise from Paynet is required.</p>   <a name="eztoc7858_5" id="eztoc7858_5"></a><h2>Permissions</h2> <p>Different customers should not be able to see eachother's orders. A customer should only have access to the &quot;buy&quot; function of the &quot;shop&quot; module. If it is possible to tamper with the URL to see other people's orders, then something is wrong. It is highly recommended to make sure that this is not the case; the following procedure can be used.</p> 
<ol>
 <li><div> Log in as user &quot;A&quot; and put some items in the shopping basket. </div></li> <li><div> Do a complete checkout and pay using one of the test credit card numbers. </div></li> <li><div> When the order is shown, copy the URL from the address bar of the browser. </div></li> <li><div> Log out user &quot;A&quot;. </div></li> <li><div> Log in as user &quot;B&quot;. </div></li> <li><div> Attempt to access the URL that was copied in step 3. </div></li> 
</ol>
 <p>The system should respond with an &quot;Access denied&quot; message. However, if user &quot;B&quot; is allowed to see the order of user &quot;A&quot;, then the permission settings are wrong.</p>   <a name="eztoc7858_6" id="eztoc7858_6"></a><h2>Testing and monitoring failed transactions</h2> <p>The &quot;FakeError&quot; setting in the &quot;paynetdirect.ini&quot; configuration file makes it possible to generate fake error messages. When set to &quot;enabled&quot;, the Paynet server will return a random error whenever one of the test credit cards is accepted. In other words, this makes it possible to simulate a scenario where the actual transaction fails. Failed transactions should be clearly visible in the transaction log (see above). It is recommended to verify that failed transactions are properly logged before going public with the site. The &quot;FakeError&quot; setting should only be used for testing purposes and must be set to &quot;disabled&quot; when the site is released.</p> 




<address>
Powered by <a href="http://ez.no/exponential" title="Exponential&trade; CMS Open Source Web Content Management">Exponential&trade; CMS Open Source Web Content Management</a>. Copyright &copy; 1999-2013 <a href="http://ez.no/" title="eZ Systems AS">eZ Systems AS</a> (except where otherwise noted). All rights reserved.
</address>


</body>

<!-- Mirrored from doc.ez.no/doc_hidden/layout/set/full/layout/set/full/layout/set/full/Extensions/Exponential-extensions/Paynet-Direct/1.x/Testing by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Feb 2017 01:36:18 GMT -->
</html>
