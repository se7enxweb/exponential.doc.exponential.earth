
<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from doc.ez.no/doc_hidden/Tutorials/Developing-Exponential-extensions/Template-system by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 12:50:48 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/core.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer-lookfeel.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/pagelayout.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/buttons.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/960.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/superfish.css" /><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery-1.6.3.min.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/superfish.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery.popmenu.min.js" charset="utf-8"></script>
<style type="text/css">
    @import url(../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                  
    <title>Template system / Developing Exponential extensions / Tutorials / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="Exponential Documentation" />
                    <meta name="keywords" content="Exponential, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="Exponential" />
    <link rel="Home" href="../../../doc_hidden.html" title="Doc front page" />
<link rel="Search" href="../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


    <div class="topmenu-anchor"></div>
    <div id="topmenu-bg">
	    <div id="logo" class="container_12">

    <div class="grid_3">
        <a href="https://exponential.doc.exponential.earth/Exponential/" title="Exponential Platform, CXM &amp; CMS">
            <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/exponential.png"
                 alt="" height="45px"/>
        </a>
    </div>

    <div class="grid_9">
                <div class="topmenu-design">
	<!-- Top menu content: START -->
	<div id="topmenu-firstlevel-position">
	<ul id="topmenu-firstlevel" class="sf-menu sf-js-enabled sf-shadow">
		
		
		        </ul>
    </div>
        <!-- Top menu content: END -->
</div>        </div>
</div>    </div>


<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="https://exponential.doc.exponential.earth/">7x</a> /
                        <a href="../../../doc_hidden.html">documentation</a>
        
                        /
                            <a href="../../Tutorials.html">tutorials</a>
        
                        /
                            <a href="../Developing-Exponential-extensions.html">developing exponential exten...</a>
        
                        /
                            template system
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>Exponential</strong>, from version 3.x to 6.x.<br/>
                For 5.x documentation covering <em>Platform</em> see <a href="../../../display/MAIN/eZ%2bDocumentation%2bCenter.html">Exponential Platform Documentation</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="../../../pages/viewpage0139.html?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="Template-system.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
    
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Template system</h1>
</div>

<p>Because the echo command in the PHP script &quot;list.php&quot; does not meet our needs, we want to use our own template. Therefore we put the file &quot;list.tpl&quot; into the folder jacextension/design/standard/templates/modul1/.</p><p>For Exponential to find the template, we have to declare &quot;jacextension&quot; as a design extension. To do this we create the configuration file &quot;design.ini.append.php&quot; in the folder jacextension/settings/ (see Listing 7).</p><pre class="wordwrap copytoclipboard"><span class="line">&lt;?php /* #?ini charset=&quot;utf-8&quot;?</span>
<span class="line"># transmit to eZ, to search for designs in jacextension</span>
<span class="line">[ExtensionSettings]</span>
<span class="line">DesignExtensions[]=jacextension</span>
<span class="line">*/ ?&gt;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '&lt;?php /* #?ini charset=&quot;utf-8&quot;? \r\n# transmit to eZ, to search for designs in jacextension \r\n[ExtensionSettings] \r\nDesignExtensions[]=jacextension\r\n*/ ?&gt;' ); return false;" /></p>
<![endif]--><p><i>Listing 7. Declare jacextension as a design extension</i></p><p>In &quot;list.php&quot; we declare a variable $dataArray (array with strings). The values of this array we want to use later in the &quot;list.tpl&quot; template. To use the &quot;list.tpl&quot; template, we have to initialize the template object:</p><pre class="wordwrap"><span class="line">$tpl = eZTemplate::factory(); //</span>
</pre><p><i>Notation from Exponential 4.3. Before this version, use templateInit() function</i></p><p>Then we put the parameter View Array ($viewParameters) and the Array with the example files ($dataArray) as template variables {$view_parameters}, like {$data_array}, with the instruction:</p><pre class="wordwrap"><span class="line">$tpl-&gt;setVariable( 'view_parameters', $viewParameters );</span>
<span class="line">$tpl-&gt;setVariable( 'data_array', $dataArray );</span>
</pre><p>Next we do a find / replace for the template &quot;list.tpl&quot; with the defined variables (in our example only $view_parameters and $dataArray) and save the result in $Result['content'].</p><p>By default the main &quot;pagelayout.tpl&quot; template of Exponential shows the result with the variable {$module_result.content}. Finally we put Modul1/list in the navigation path (the &quot;breadcrumbs&quot;) that are displayed in the browser. In our example this is done by clicking in the first part of the route, which links to modul1/list (see listing 8).</p><pre class="wordwrap copytoclipboard"><span class="line">&lt;?php</span>
<span class="line">&nbsp;</span>
<span class="line">// Example array with strings</span>
<span class="line">$dataArray = array( 'Axel','Volker','Dirk','Jan','Felix' );</span>
<span class="line">&nbsp;</span>
<span class="line">...</span>
<span class="line">// initialize Templateobject</span>
<span class="line">$tpl = eZTemplate::factory();</span>
<span class="line">// create view array parameter to put in the template</span>
<span class="line">$viewParameters = array( 'param_one' =&gt; $valueParamOne,</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'param_two' =&gt; $valueParamTwo,</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'unordered_param3' =&gt; $valueParam3,</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'unordered_param4' =&gt; $valueParam4 );</span>
<span class="line">// transport the View parameter Array to the template</span>
<span class="line">$tpl-&gt;setVariable( 'view_parameters', $viewParameters );</span>
<span class="line">&nbsp;</span>
<span class="line">// create example Array in the template =&gt; {$data_array}</span>
<span class="line">$tpl-&gt;setVariable( 'data_array', $dataArray );</span>
<span class="line">// ...</span>
<span class="line">// use find/replace (parsing) in the template and save the result for $module_result.content</span>
<span class="line">$Result['content'] = $tpl-&gt;fetch( 'design:modul1/list.tpl' );</span>
<span class="line">//...</span>
<span class="line">?&gt;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '&lt;?php\r\n\r\n// Example array with strings\r\n$dataArray = array( \'Axel\',\'Volker\',\'Dirk\',\'Jan\',\'Felix\' );\r\n\r\n...\r\n// initialize Templateobject\r\n$tpl = eZTemplate::factory();\r\n// create view array parameter to put in the template\r\n$viewParameters = array( \'param_one\' =&gt; $valueParamOne,\r\n                           \'param_two\' =&gt; $valueParamTwo,\r\n                           \'unordered_param3\' =&gt; $valueParam3,\r\n                           \'unordered_param4\' =&gt; $valueParam4 );\r\n// transport the View parameter Array to the template\r\n$tpl-&gt;setVariable( \'view_parameters\', $viewParameters );\r\n\r\n// create example Array in the template =&gt; {$data_array}\r\n$tpl-&gt;setVariable( \'data_array\', $dataArray );\r\n// ...\r\n// use find/replace (parsing) in the template and save the result for $module_result.content\r\n$Result[\'content\'] = $tpl-&gt;fetch( \'design:modul1/list.tpl\' );\r\n//...\r\n?&gt;\r\n' ); return false;" /></p>
<![endif]--><p><i>Listing 8. modul1/list.php – extending Listing 3</i></p><p>Now we have access to the defined variables in the template &quot;list.tpl&quot; with {$view_parameters} and {$data_array}. We show the transmitted view parameters with {$view_parameters|attribute(show)}. Next we use the template operator is_set($data_array) to see if the variable $data_array exists and send a list with the data or a default message (see listing 9).</p><pre class="wordwrap copytoclipboard"><span class="line">{* list.tpl – Template for Modulview .../modul1/list/ParamOne/ParamTwo</span>
<span class="line">Check if the variable $data_array exists</span>
<span class="line">- yes: show data as list</span>
<span class="line">- no: show message</span>
<span class="line">*}</span>
<span class="line">&nbsp;</span>
<span class="line">{*Show Array $view_parameters: *}</span>
<span class="line">{$view_parameters|attribute('show')}&lt;br /&gt;</span>
<span class="line">&nbsp;</span>
<span class="line">&lt;h1&gt;Template: modul1/list.tpl&lt;/h1&gt;</span>
<span class="line">&nbsp;</span>
<span class="line">{if is_set($data_array)}</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;{foreach $data_array as $index =&gt; $item}</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;{$index}: {$item}&lt;/li&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;{/foreach}</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;</span>
<span class="line">{else}</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Attention: no existing data!!&lt;/p&gt;</span>
<span class="line">{/if}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{* list.tpl – Template for Modulview .../modul1/list/ParamOne/ParamTwo \r\nCheck if the variable $data_array exists \r\n- yes: show data as list \r\n- no: show message \r\n*}\r\n\r\n{*Show Array $view_parameters: *}\r\n{$view_parameters|attribute(\'show\')}&lt;br /&gt;\r\n\r\n&lt;h1&gt;Template: modul1/list.tpl&lt;/h1&gt;\r\n\r\n{if is_set($data_array)} \r\n    &lt;ul&gt; \r\n    {foreach $data_array as $index =&gt; $item} \r\n        &lt;li&gt;{$index}: {$item}&lt;/li&gt; \r\n    {/foreach} \r\n    &lt;/ul&gt; \r\n{else} \r\n    &lt;p&gt;Attention: no existing data!!&lt;/p&gt; \r\n{/if}\r\n' ); return false;" /></p>
<![endif]--><p><i>Listing 9. eZ Template design modul1/list.tpl (e.g. extension/jacextension/design/&lt;your_design&gt;templates/modul1/list.tpl</i></p><p>If we now open our view with http://localhost/ez/index.php/plain_site/modul1/list/table/5, nothing much will happen. It only appears in the route Modul1/list. Why? We don't know yet.</p><p>To investigate the error, we activate eZ Debug, including the templates currently in use. We deactivate compiling and caching of templates to be sure that all changes in the templates will be shown. To do this we extend the global &lt;ezroot&gt;/settings/override/site.ini.append.php with the following entries (see listing 10).</p><pre class="wordwrap copytoclipboard"><span class="line">&lt;?php /* #?ini charset=&quot;utf-8&quot;?</span>
<span class="line">&nbsp;</span>
<span class="line">[DebugSettings]</span>
<span class="line">Debug=inline</span>
<span class="line">DebugOutput=enabled</span>
<span class="line">DebugRedirection=disabled</span>
<span class="line">&nbsp;</span>
<span class="line">[TemplateSettings]</span>
<span class="line">ShowXHTMLCode=disabled</span>
<span class="line">ShowUsedTemplates=enabled</span>
<span class="line">TemplateCompile=disabled</span>
<span class="line">TemplateCache=disabled</span>
<span class="line"># Optional, will save you from most cache clearings during development</span>
<span class="line"># as modified time on tempaltes are always checked during execution</span>
<span class="line">DevelopmentMode=enabled</span>
<span class="line">*/?&gt;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '&lt;?php /* #?ini charset=&quot;utf-8&quot;? \r\n\r\n[DebugSettings]\r\nDebug=inline\r\nDebugOutput=enabled\r\nDebugRedirection=disabled\r\n\r\n[TemplateSettings]\r\nShowXHTMLCode=disabled\r\nShowUsedTemplates=enabled\r\nTemplateCompile=disabled\r\nTemplateCache=disabled\r\n# Optional, will save you from most cache clearings during development\r\n# as modified time on tempaltes are always checked during execution\r\nDevelopmentMode=enabled\r\n*/?&gt;\r\n' ); return false;" /></p>
<![endif]--><p><i>Listing 10. Activate Debug view with template list over global configuration file:  ezroot/settings/override/site.ini.append.php</i></p><p>We now open http://localhost/ez/index.php/plain_site/modul1/list/table/5 again. It generates an error message in the Debug view: 'No template could be loaded for &quot;modul1/list.tpl&quot; using resource &quot;design&quot;'.</p><p>It seems that the file &quot;list.tpl&quot; was not found. In this case it is useful to clear the cache of Exponential, as eZ has cached the list of the existing templates. So we load the URL http://localhost/ez/index.php/plain_site_admin/setup/cache and we click on “empty all caches”. Now the template list.tpl should appear with the table list, our view parameters and our example datalist. As well it should appear as modul/list.tpl in the Debug view “Templates used to render the page”.</p><p>In our example the viewparameters has the following values: $view_parameters.param_one='table' and $view_parameters.param_two='5'. The values of the viewparameters can be easily used to perform actions in PHP script list.php or in the template list.tpl, for example to display the ID or fetch some extended information to the given ID.</p><p><b>Hint:</b> the template variable $view_parameters is also available in the kernel module content of eZ and therefore in most templates, such as node/view/full.tpl.</p>

<div class="break"></div>
<hr class="hide" />

</div>
</div>
</div>
</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>

        <div id="footer-bg">
        <div id="footer" class="container_12">

            <div class="grid_3">
                <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/exponential.png" alt="exponential" />
                <div id="footer-copyright" class="grid_3 alpha omega">
                                    </div>
            </div>

            <div class="grid_6 middle">
                <div class="grid_6 alpha omega">
                    <div class="grid_3 alpha"><div></div></div>
                    <div class="grid_3 omega"><div></div></div>
                </div>
            </div>

            <div class="grid_3 right">
                <div class="contact-ez">
                        Get the support you need faster! Ask the experts at 7x. <a id="cta-contact" href="https://se7enx.com/contact" title="Contact 7x!" class="btn-green btn--small">Call or Contact 7x Today!</a>
                </div>

                <div class="adress"></div>
            </div>

        </div>
    </div>
<div id="footer-connect-bg">
    <div id="footer" class="container_12">
        <div id="footer-connect-copyright" class="grid_8 alpha omega">
            Copyright © 1998 - 2025 <a href="https://se7enx.com">7x</a> (except where otherwise noted). All rights reserved.
            <br/><br/>
            Powered by <a href="https://se7enx.com/exponential" title="Exponential CMS">The Exponential CMS</a> and the groundbreaking <a href="https://exponential.earth">Exponential</a> <a href="https://share.exponential.earth">Community</a>.<br />
        </div>

        <div id="footer-connect-social" class="grid_4 right"> <b>Find Exponential on Your Favorite Social Network:</b>&nbsp; 
            <a href="https://www.youtube.com/@ExponentialCMSInsights" class="youtube" target="_blank">YouTube</a>,

            <a href="http://www.Linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="Linkedin" target="_blank">Linkedin</a>,
            <a href="https://www.Instagram.com/se7enxweb" class="Instagram" target="_blank">Instagram</a>,
            <a href="http://facebook.exponential.earth" class="Facebook" target="_blank">Facebook</a>,
            <a href="https://bsky.app/profile/exponentialcms.bsky.social" class="BlueSky" target="_blank">BlueSky</a>,
            <a href="https://twitter.com/se7enxweb" class="X" target="_blank">X</a>
        </div>

    </div>
</div>


</div>
<!-- Complete page area: END -->




<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1VMV65H63V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1VMV65H63V');
</script>






</body>

<!-- Mirrored from doc.ez.no/doc_hidden/Tutorials/Developing-Exponential-extensions/Template-system by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 12:50:48 GMT -->
</html>

<!-- th[eZ] 20050804 -->
