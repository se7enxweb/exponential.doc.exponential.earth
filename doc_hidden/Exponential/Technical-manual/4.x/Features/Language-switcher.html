
<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from doc.ez.no/doc_hidden/Exponential/Technical-manual/4.x/Features/Language-switcher by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 11:43:48 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/core.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer-lookfeel.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/pagelayout.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/buttons.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/960.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/superfish.css" /><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery-1.6.3.min.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/superfish.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery.popmenu.min.js" charset="utf-8"></script>
<style type="text/css">
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                              
    <title>Language switcher / Features / 4.x / Technical manual / Exponential / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="Exponential Documentation" />
                    <meta name="keywords" content="Exponential, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="Exponential" />
    <link rel="Home" href="../../../../../doc_hidden.html" title="Doc front page" />
<link rel="Search" href="../../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


    <div class="topmenu-anchor"></div>
    <div id="topmenu-bg">
	    <div id="logo" class="container_12">

    <div class="grid_3">
        <a href="https://exponential.doc.exponential.earth/Exponential/" title="Exponential Platform, CXM &amp; CMS">
            <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/exponential.png"
                 alt="" height="45px"/>
        </a>
    </div>

    <div class="grid_9">
                <div class="topmenu-design">
	<!-- Top menu content: START -->
	<div id="topmenu-firstlevel-position">
	<ul id="topmenu-firstlevel" class="sf-menu sf-js-enabled sf-shadow">
		
		
		        </ul>
    </div>
        <!-- Top menu content: END -->
</div>        </div>
</div>    </div>


<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="https://exponential.doc.exponential.earth/">7x</a> /
                        <a href="../../../../../doc_hidden.html">documentation</a>
        
                        /
                            <a href="../../../../Exponential.html">exponential</a>
        
                        /
                            <a href="../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../4-6.html">4.x</a>
        
                        /
                            <a href="../Features.html">features</a>
        
                        /
                            language switcher
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>Exponential</strong>, from version 3.x to 6.x.<br/>
                For 5.x documentation covering <em>Platform</em> see <a href="../../../../../display/MAIN/eZ%2bDocumentation%2bCenter.html">eZ Documentation Center</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="../../../../../pages/viewpage0139.html?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../4-6.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
    
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Language switcher</h1>
</div>


<div>
<table bgcolor="#eeeeee">
<tr>
    <td>
    <p>This part of the 4.x documentation is for Exponential 4.0, only&nbsp;<i><a href="../Reference.html" target="_self">reference section</a></i>&nbsp;is common for all Exponential 4.x versions as well as Exponential 5.x &quot;LegacyStack&quot;, please&nbsp;<a href="../../../../../Exponential/Technical-manual.html" target="_self">select</a>&nbsp;the version you are using for the most up to date documentation!</p>
    </td>
</tr>
</table>
</div><p>Since Exponential 4.1, there is a new way to create links that take the users to an other traslation siteaccess. This had previously been problematic, when the URL was not available in the selected translation, because of differences in translation.</p><p>The URLs used with the language switcher have the following form:</p><pre class="wordwrap"><span class="line">/switchlanguage/to/&lt;destinationTranslationSiteaccess&gt;/&lt;nodeID|URLalias&gt;</span>
</pre><p>This feature will most often be used via the bundled module switch language. This is an optimized way to translate node IDs and URL aliases into the destination language, for it is done before someone clicks on a language switcher link. This is something which has to be calculated per URL otherwise.</p><a name="eztoc106405_1" id="eztoc106405_1"></a><h2>Operation</h2><p>When a user clicks on a language switcher URL, the user is redirected to an URL, representing the destination siteaccess and the destination content. More often than not the destination content is the translated content originally being viewed, but there are some exceptions to how this works. Here is how:</p><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<td width="31%" valign="top" style="vertical-align: top">  <p><b>Origin</b></p>
  </td>
<td width="22%" valign="top" style="vertical-align: top">  <p><b>Destination</b></p>
  </td>
<td width="48%" valign="top" style="vertical-align: top">  <p><b>Destination URL</b></p>
  </td>

</tr>

<tr>
<td width="31%" valign="top" style="vertical-align: top">  <p>Node</p>
  </td>
<td width="22%" valign="top" style="vertical-align: top">  <p>Translated node</p>
  </td>
<td width="48%" valign="top" style="vertical-align: top">  <p>Translated URL alias</p>
  </td>

</tr>

<tr>
<td width="31%" valign="top" style="vertical-align: top">  <p>Node with no available translation [#]_</p>
  </td>
<td width="22%" valign="top" style="vertical-align: top">  <p>Original node</p>
  </td>
<td width="48%" valign="top" style="vertical-align: top">  <p>Translation siteaccess, same URL Alias</p>
  </td>

</tr>

<tr>
<td width="31%" valign="top" style="vertical-align: top">  <p>Module</p>
  </td>
<td width="22%" valign="top" style="vertical-align: top">  <p>Module</p>
  </td>
<td width="48%" valign="top" style="vertical-align: top">  <p>The URL is passed through for modules</p>
  </td>

</tr>

</table>
<p>Note: [#] Nodes can still be viewable in the other siteaccess. For instance, English content can be viewable in the Norwegian siteaccess if English is in the prioritised languages.</p><a name="eztoc106405_2" id="eztoc106405_2"></a><h2><b>Use</b></h2><p>Using the language switcher tool, is simply a matter of creating links in the pattern shown above. The links are easy to create with the template language, but there is also another convenience method for creating language switcher URLs (for which you should only need a minimal amount of logic in the templates). You can access this feature via the template operator, language_switcher(). See the next section<a href="Language-switcher.html#Configuring" target="_self">&nbsp;how to configure this operator</a>.</p><p>The operator will return an array, indexed by siteaccess name, containing a language switcher URL and a human readable text.</p><pre class="wordwrap copytoclipboard"><span class="line">{def $translations = language_switcher( $module_result.content_info.node_id )}</span>
<span class="line">{foreach $translations as $siteaccessName =&gt; $lang}</span>
<span class="line">{*</span>
<span class="line">Note we are not using the $siteaccessName index here, but useful</span>
<span class="line">for matching against current siteaccess for instance</span>
<span class="line">*}</span>
<span class="line">&lt;a href={$lang.url|ezurl}&gt;{$lang.text|wash}&lt;/a&gt;</span>
<span class="line">{/foreach}</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '{def $translations = language_switcher( $module_result.content_info.node_id )}\r\n{foreach $translations as $siteaccessName =&gt; $lang}\r\n{*\r\nNote we are not using the $siteaccessName index here, but useful\r\nfor matching against current siteaccess for instance\r\n*}\r\n&lt;a href={$lang.url|ezurl}&gt;{$lang.text|wash}&lt;/a&gt;\r\n{/foreach}' ); return false;" /></p>
<![endif]--><p>The input to &quot;language_switcher( $var )&quot; can either be the node ID, the current URL alias or in the case of a module, just the requested URL.</p><a name="eztoc106405_3" id="eztoc106405_3"></a><h2><b>&nbsp;Configuration</b></h2><p>In order to make the language switcher easy to use within templates, some configuration must be done via settings. This is one of the most convenient places to define the translation siteaccess on the site, and this will allow the “language_swither()” operator to not use normal siteaccesses when creating the links automatically.</p><p>Below is an example of what a setup can look like:</p><pre class="wordwrap copytoclipboard"><span class="line">site.ini</span>
<span class="line">&nbsp;</span>
<span class="line">[RegionalSettings]</span>
<span class="line">&nbsp;</span>
<span class="line"># Example mapping between translation siteaccesses and the name to use for the</span>
<span class="line"># language switcher link, e.g. the name which will be used when making links to</span>
<span class="line"># these siteaccesses.</span>
<span class="line"># Example: TranslationSA[&lt;name of siteaccess&gt;]=&lt;name of language switcher link, pointing to this siteaccess&gt;</span>
<span class="line">TranslationSA[]</span>
<span class="line">TranslationSA[eng]=English</span>
<span class="line">TranslationSA[nor]=Norwegian</span>
<span class="line">TranslationSA[fre]=French</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'site.ini\r\n\r\n[RegionalSettings]\r\n\r\n# Example mapping between translation siteaccesses and the name to use for the\r\n# language switcher link, e.g. the name which will be used when making links to\r\n# these siteaccesses.\r\n# Example: TranslationSA[&lt;name of siteaccess&gt;]=&lt;name of language switcher link, pointing to this siteaccess&gt;\r\nTranslationSA[]\r\nTranslationSA[eng]=English\r\nTranslationSA[nor]=Norwegian\r\nTranslationSA[fre]=French' ); return false;" /></p>
<![endif]--><a name="eztoc106405_4" id="eztoc106405_4"></a><h2>Override possibility</h2><p>Each site has a unique set of requirements, that is why the language switcher class can be fully overridden with a custom class.</p><p>The class is configured at site.ini:</p><pre class="wordwrap copytoclipboard"><span class="line">site.ini</span>
<span class="line">&nbsp;</span>
<span class="line">[RegionalSettings]</span>
<span class="line">&nbsp;</span>
<span class="line">LanguageSwitcherClass=ezpLanguageSwitcher</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'site.ini\r\n\r\n[RegionalSettings]\r\n\r\nLanguageSwitcherClass=ezpLanguageSwitcher' ); return false;" /></p>
<![endif]--><p>The implementation class needs to implement the ezpLanguageSwitcherCapable interface.</p><a name="eztoc106405_5" id="eztoc106405_5"></a><h2><b>Ex</b><b>tra</b></h2><p>The language switcher feature provides one more convenience for template developers, namely the ability to fetch the URL alias of a node in a user-selected translation. This is achieved through the following template fetch function:</p><pre class="wordwrap"><span class="line">{def $demo = fetch( 'switchlanguage', 'url_alias', hash( 'path', $node.url_alias, 'locale', 'nor-NO' ) )}</span>
</pre><p>The above example will give the URL alias for the Norwegian translation, if the URL alias cannot be fetched, or does not exist for the given translation &quot;false&quot; is returned.</p><p>The full list of parameters are:</p><pre class="wordwrap"><span class="line">fetch( 'switchlanguage', 'url_alias', hash( [ 'node_id', &lt;node_id&gt;, ]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ 'path', &lt;node_path&gt; ] )</span>
</pre>

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Ester Heylen&nbsp;(30/11/2009 10:56 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Ricardo Correia&nbsp;(17/04/2013 3:44 pm)</p>
</div><div class="authors">
<p><label>Maintainers:</label>Ester Heylen, Geir Arne Waaler, Ricardo Correia</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<p>There are no comments.</p>
<div class="toolbar">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">
<input class="button" type="submit" name="NewButton" value="New comment" />
<input type="hidden" name="NodeID" value="21250" />
<input type="hidden" name="RedirectURIAfterPublish" value="Exponential/Technical-manual/4.x/Features/Language-switcher" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>

        <div id="footer-bg">
        <div id="footer" class="container_12">

            <div class="grid_3">
                <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/exponential.png" alt="exponential" />
                <div id="footer-copyright" class="grid_3 alpha omega">
                                    </div>
            </div>

            <div class="grid_6 middle">
                <div class="grid_6 alpha omega">
                    <div class="grid_3 alpha"><div></div></div>
                    <div class="grid_3 omega"><div></div></div>
                </div>
            </div>

            <div class="grid_3 right">
                <div class="contact-ez">
                        Get the support you need faster! Ask the experts at 7x. <a id="cta-contact" href="https://se7enx.com/contact" title="Contact 7x!" class="btn-green btn--small">Call or Contact 7x Today!</a>
                </div>

                <div class="adress"></div>
            </div>

        </div>
    </div>
<div id="footer-connect-bg">
    <div id="footer" class="container_12">
        <div id="footer-connect-copyright" class="grid_8 alpha omega">
            Copyright © 1998 - 2025 <a href="https://se7enx.com">7x</a> (except where otherwise noted). All rights reserved.
            <br/><br/>
            Powered by <a href="https://se7enx.com/exponential" title="Exponential CMS">The Exponential CMS</a> and the groundbreaking <a href="https://exponential.earth">Exponential</a> <a href="https://share.exponential.earth">Community</a>.<br />
        </div>

        <div id="footer-connect-social" class="grid_4 right"> <b>Find Exponential on Your Favorite Social Network:</b>&nbsp; 
            <a href="https://www.youtube.com/@ExponentialCMSInsights" class="youtube" target="_blank">YouTube</a>,

            <a href="http://www.Linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="Linkedin" target="_blank">Linkedin</a>,
            <a href="https://www.Instagram.com/se7enxweb" class="Instagram" target="_blank">Instagram</a>,
            <a href="http://facebook.exponential.earth" class="Facebook" target="_blank">Facebook</a>,
            <a href="https://bsky.app/profile/exponentialcms.bsky.social" class="BlueSky" target="_blank">BlueSky</a>,
            <a href="https://twitter.com/se7enxweb" class="X" target="_blank">X</a>
        </div>

    </div>
</div>


</div>
<!-- Complete page area: END -->




<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1VMV65H63V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1VMV65H63V');
</script>






</body>

<!-- Mirrored from doc.ez.no/doc_hidden/Exponential/Technical-manual/4.x/Features/Language-switcher by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 11:43:48 GMT -->
</html>

<!-- th[eZ] 20050804 -->
