
<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from doc.ez.no/doc_hidden/Exponential/Technical-manual/5.x/Features/Notifications/Notification-handlers/(language)/eng-GB by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Feb 2017 02:51:19 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/core.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer-lookfeel.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/pagelayout.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/buttons.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/960.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/superfish.css" /><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery-1.6.3.min.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/superfish.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery.popmenu.min.js" charset="utf-8"></script>
<style type="text/css">
    @import url(../../../../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                    
    <title>Notification handlers / Notifications / Features / 5.x / Technical manual / Exponential / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="Exponential Documentation" />
                    <meta name="keywords" content="Exponential, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="Exponential" />
    <link rel="Home" href="../../../../../../../../doc_hidden.html" title="Doc front page" />
<link rel="Search" href="../../../../../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


    <div class="topmenu-anchor"></div>
    <div id="topmenu-bg">
	    <div id="logo" class="container_12">

    <div class="grid_3">
        <a href="https://exponential.doc.exponential.earth/Exponential/" title="Exponential Platform, CXM &amp; CMS">
            <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/exponential.png"
                 alt="" height="45px"/>
        </a>
    </div>

    <div class="grid_9">
                <div class="topmenu-design">
	<!-- Top menu content: START -->
	<div id="topmenu-firstlevel-position">
	<ul id="topmenu-firstlevel" class="sf-menu sf-js-enabled sf-shadow">
		
		
		        </ul>
    </div>
        <!-- Top menu content: END -->
</div>        </div>
</div>    </div>


<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="https://exponential.doc.exponential.earth/">7x</a> /
                        <a href="../../../../../../../../doc_hidden.html">documentation</a>
        
                        /
                            <a href="../../../../../../../Exponential.html">exponential</a>
        
                        /
                            <a href="../../../../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../../../../5.html">5.x</a>
        
                        /
                            <a href="../../../../Features.html">features</a>
        
                        /
                            <a href="../../../Notifications.html">notifications</a>
        
                        /
                            notification handlers
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>Exponential</strong>, from version 3.x to 6.x.<br/>
                For 5.x documentation covering <em>Platform</em> see <a href="../../../../../../../../display/MAIN/eZ%2bDocumentation%2bCenter.html">eZ Documentation Center</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="../../../../../../../../pages/viewpage0139.html?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../../../5.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
    
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Notification handlers</h1>
</div>

<p>There are several handlers that process notification events. The following handlers are known to the Exponential system by default:</p>
<ul>
<li><div> Subtree notification </div></li><li><div> General digest </div></li><li><div> Collaboration notification </div></li>
</ul>
<a name="eztoc132395_1" id="eztoc132395_1"></a><h2>Subtree notification</h2><p>The &quot;ezsubtree&quot; notification handler processes &quot;exponential&quot; events.</p><a name="eztoc132395_2" id="eztoc132395_2"></a><h2>General digest</h2><p>The &quot;ezgeneraldigest&quot; notification handler processes &quot;ezcurrenttime&quot; events.</p><a name="eztoc132395_3" id="eztoc132395_3"></a><h2>Collaboration notification</h2><p>The &quot;ezcollaborationnotification&quot; notification handler processes &quot;ezcollaboration&quot; events.</p><p>The built-in notification handlers are stored in the &quot;kernel/classes/notification/handler/&quot; directory. It is possible to extend the system by creating custom notification handlers for special needs.</p><a name="eztoc132395_4" id="eztoc132395_4"></a><h2>Processing the notification events</h2><p>Whenever the &quot;eznotificationeventfilter.php&quot; script is executed, the system will try to run every unhandled <a href="../../Notification-events.html" target="_self">notification event</a> with every available notification handler.</p><p>Please note that handling one event may result in sending/generating more than one notification. For example, if a new version of an article is published, all the subscribed users will be notified.</p><p>If every notification is sent successfully, the event will be deleted from the database. Otherwise, if some of the generated notifications must be delayed in order to form a daily/weekly/monthly digest, the system will add new notification items to the user collection. A notification item contains data about the notification event, its handler, subscriber e-mail and time when this notification must be sent.</p><p>The digest handler starts processing the &quot;ezcurrenttime&quot; event by accessing the collection of notification items. The time specified in the &quot;ezcurrenttime&quot; event will be compared with the time of each notification item in order to determine which items that must be handled at the moment. As long as each notification item contains data on the notification event and its handler, the system will process this event with the right handler. The resulting notifications will be collected into digest messages and sent to the subscribers.</p><p>If the notification item was handled successfully, this item will be removed from the collection. If none of the remaining notification items reference the handled notification event, this event will be deleted from the database.</p><p>The &quot;ezcurrenttime&quot; event will be deleted from the database when processing is completed. Please note that processing the &quot;ezcurrenttime&quot; event by the digest handler does not always result in sending/generating digest notifications (for example, if none of the subscribers has chosen the digest mode for notifications).</p><a name="eztoc132395_5" id="eztoc132395_5"></a><h2>Settings</h2><p>The &quot;[NotificationEventHandlerSettings]&quot; section of the &quot; <a href="../../../../../4.x/Reference/Configuration-files/notification.html" target="_self">notification.ini</a>&quot; configuration file defines the event handlers that will respond to the notification event. Under this section, the following settings can be specified:</p><p>The &quot;RepositoryDirectories[]&quot; array specifies the directories where Exponential will search for built in notification handlers. The exact location of the handler in the directory is specified using the &quot;AvailableNotificationEventTypes&quot; setting.</p><p>The &quot;ExtensionDirectories[]&quot; array specifies the extension directories where Exponential will search for additional notification handlers. By default Exponential will search in the &quot;notification/handler/&quot; subdirectory inside your extension. The exact location of the handler in this subdirectory is specified using the &quot;AvailableNotificationEventTypes&quot; setting.</p><p>The &quot;AvailableNotificationEventTypes[]&quot; array contains a list of handlers.</p><a name="eztoc132395_5_1" id="eztoc132395_5_1"></a><h3>Example 1</h3><p>The following lines can be specified in the &quot; <a href="../../../../../4.x/Reference/Configuration-files/notification.html" target="_self">notification.ini</a>&quot; configuration file:</p><pre class="wordwrap copytoclipboard"><span class="line">[NotificationEventHandlerSettings]</span>
<span class="line">RepositoryDirectories[]=kernel/classes/notification/handler/</span>
<span class="line">ExtensionDirectories[]</span>
<span class="line">AvailableNotificationEventTypes[]=ezgeneraldigest</span>
<span class="line">AvailableNotificationEventTypes[]=ezcollaborationnotification</span>
<span class="line">AvailableNotificationEventTypes[]=ezsubtree</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '\r\n[NotificationEventHandlerSettings]\r\nRepositoryDirectories[]=kernel/classes/notification/handler/\r\nExtensionDirectories[]\r\nAvailableNotificationEventTypes[]=ezgeneraldigest\r\nAvailableNotificationEventTypes[]=ezcollaborationnotification\r\nAvailableNotificationEventTypes[]=ezsubtree' ); return false;" /></p>
<![endif]--><p>These settings will make Exponential search for the following files for built in notification handlers.</p>
<ul>
<li><div> kernel/classes/notification/handler/ezgeneraldigest/ezgeneraldigesthandler.php </div></li><li><div> kernel/classes/notification/handler/ezcollaborationnotification/ezcollaborationnotificationhandler.php </div></li><li><div> kernel/classes/notification/handler/ezsubtree/ezsubtreehandler.php </div></li>
</ul>
<a name="eztoc132395_5_2" id="eztoc132395_5_2"></a><h3>Example 2</h3><p>You can extend the system by creating custom notification handlers. For example, if you have an extension &quot;nExt&quot; that includes a notification handler &quot;nh&quot; put the following lines into an override for the &quot; <a href="../../../../../4.x/Reference/Configuration-files/notification.html" target="_self">notification.ini</a>&quot; configuration file:</p><pre class="wordwrap copytoclipboard"><span class="line">[NotificationEventHandlerSettings]</span>
<span class="line">ExtensionDirectories[]=nExt</span>
<span class="line">AvailableNotificationEventTypes[]=nh</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '\r\n[NotificationEventHandlerSettings]\r\nExtensionDirectories[]=nExt\r\nAvailableNotificationEventTypes[]=nh' ); return false;" /></p>
<![endif]--><p>or</p><pre class="wordwrap copytoclipboard"><span class="line">[NotificationEventHandlerSettings]</span>
<span class="line">RepositoryDirectories[]=extension/nExt/notification/handler/</span>
<span class="line">AvailableNotificationEventTypes[]=nh</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '\r\n[NotificationEventHandlerSettings]\r\nRepositoryDirectories[]=extension/nExt/notification/handler/\r\nAvailableNotificationEventTypes[]=nh' ); return false;" /></p>
<![endif]--><p>These settings will make Exponential expect the additional notification handler to be located at &quot;extension/nExt/notification/handler/nh/nhhandler.php&quot;</p>

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Svitlana Shatokhina&nbsp;(14/09/2010 11:50 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Geir Arne Waaler&nbsp;(29/09/2010 6:57 am)</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<p>There are no comments.</p>
<div class="toolbar">

<form method="post" action="https://doc.ez.no/doc_hidden/content/action">
<input class="button" type="submit" name="NewButton" value="New comment" />
<input type="hidden" name="NodeID" value="27867" />
<input type="hidden" name="RedirectURIAfterPublish" value="Exponential/Technical-manual/5.x/Features/Notifications/Notification-handlers" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>

        <div id="footer-bg">
        <div id="footer" class="container_12">

            <div class="grid_3">
                <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/exponential.png" alt="exponential" />
                <div id="footer-copyright" class="grid_3 alpha omega">
                                    </div>
            </div>

            <div class="grid_6 middle">
                <div class="grid_6 alpha omega">
                    <div class="grid_3 alpha"><div></div></div>
                    <div class="grid_3 omega"><div></div></div>
                </div>
            </div>

            <div class="grid_3 right">
                <div class="contact-ez">
                        <a id="cta-contact" href="https://se7enx.com" title="Contact 7x!" class="btn-green btn--small">Contact 7x!</a>
                </div>

                <div class="adress"></div>
            </div>

        </div>
    </div>
<div id="footer-connect-bg">
    <div id="footer" class="container_12">
        <div id="footer-connect-copyright" class="grid_8 alpha omega">
            Copyright © 1998 - 2025 7x (except where otherwise noted). All rights reserved.
            <br/><br/>
            Powered by <a href="https://se7enx.com/exponential" title="Exponential CMS">The Exponential CMS</a>.<br />
        </div>

        <div id="footer-connect-social" class="grid_4 right">
            <a href="https://www.youtube.com/@ExponentialCMSInsights" class="youtube" target="_blank">YouTube</a>
            
            <a href="http://www.Linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="Linkedin" target="_blank">Linkedin</a>
            <a href="https://www.Instagram.com/se7enxweb" class="Instagram" target="_blank">Instagram</a>
            <a href="https://twitter.com/se7enxweb" class="X" target="_blank">X</a>
        </div>


    </div>
</div>


</div>
<!-- Complete page area: END -->




<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1VMV65H63V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1VMV65H63V');
</script>






</body>

<!-- Mirrored from doc.ez.no/doc_hidden/Exponential/Technical-manual/5.x/Features/Notifications/Notification-handlers/(language)/eng-GB by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 01 Feb 2017 02:51:19 GMT -->
</html>

<!-- th[eZ] 20050804 -->
