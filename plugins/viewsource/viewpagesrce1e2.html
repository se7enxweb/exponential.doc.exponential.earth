                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=23527865 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 09:52:56 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpagee1e2.html?pageId=23527865" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/51/_/styles/colorsb538.css?spaceKey=EZP" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/51/_/styles/customb538.css?spaceKey=EZP" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <table class="wysiwyg-macro" data-macro-name="excerpt" data-macro-id="8b086283-255a-47e8-a5de-35d90c6a76a0" data-macro-parameters="atlassian-macro-output-type=BLOCK" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading08d0.png?definition=e2V4Y2VycHQ6YXRsYXNzaWFuLW1hY3JvLW91dHB1dC10eXBlPUJMT0NLfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="49a7206b-a7b1-4918-9d51-0ffefbcc0789" data-macro-parameters="title=Exponential Platform 5.3 and higher" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingb309.png?definition=e25vdGU6dGl0bGU9ZVogUHVibGlzaCBQbGF0Zm9ybSA1LjMgYW5kIGhpZ2hlcn0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>This page only applies to Exponential Platform 5.3 and higher, for earlier versions of the Enterprise version of Exponential consult S<em>ervice Portal user guide</em> available for download at <a href="http://support.ez.no/">support.ez.no</a>. This page is also generic about using Composer, for instructions specific to a release, see <a class="confluence-link" href="../../display/EZP/Releases.html" data-linked-resource-id="12781017" data-linked-resource-version="11" data-linked-resource-type="page" data-linked-resource-default-alias="Releases" data-base-url="../../index.html">release notes</a>.</p></td></tr></table></td></tr></table><p> </p><p>Keeping your system up-to-date is important, to make sure your it is running optimally and securely. The update mechanism in Exponential Platform is using the <em>de facto</em> standard PHP packaging system called <a href="https://getcomposer.org/">Composer</a>. <br />This makes it easy to adapt package installs and updates to your workflow, allowing you to test new/updated packages in a development environment, put the changes in your version control system (git, Subversion, Mercurial, etc.), pull in those changes on a staging environment and, when approved, put it in production.</p><p> </p><p> </p><p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro4170.png?definition=e3RvY30&amp;locale=en_GB&amp;version=2" data-macro-name="toc" data-macro-id="9b037f87-b249-419a-bdb9-d837e1b514c6" data-macro-schema-version="1"></p><p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro9380.png?definition=e2V4Y2VycHQtaW5jbHVkZTpnbG9zc2FyeTpDb21wb3Nlcnxpc0NvbmZpZ3VyZWQ9dHJ1ZXxwcmVmZXJlbmNlcz1zcGFjZU5hbWU9R2xvc3Nhcnkmc3BhY2VLZXk9Z2xvc3NhcnkmcXVpY2tmaW5kLXNwYWNlPUdsb3NzYXJ5JnBhZ2VJZD0yMzUyODU1MiZwYWdlTmFtZT1Db21wb3NlciZxdWlja2ZpbmQtcGFnZT1Db21wb3NlciZpc0NvbmZpZ3VyZWQ9dHJ1ZSZyZWZyZXNoPWZhbHNlJnNob3dMaW5rPWZhbHNlJmlzRWRpdGFibGU9ZmFsc2V8YXV0aG9yPWVaIFN5c3RlbXN8cXVpY2tmaW5kLXNwYWNlPXxyZWZyZXNoPWZhbHNlfHBhZ2VJZD0yMzUyODU1MnxwYWdlTmFtZT1Db21wb3Nlcnx1cmw9cmVzdC9nYWRnZXRzLzEuMC9nL2NvbS5hdGxhc3NpYW4uY29uZmx1ZW5jZS5wbHVnaW5zLmdhZGdldHM6Y29uZmx1ZW5jZS1wYWdlLWdhZGdldC9nYWRnZXRzL2NvbmZsdWVuY2UtcGFnZS1nYWRnZXQueG1sfHNwYWNlS2V5PWdsb3NzYXJ5fHNwYWNlTmFtZT18aXNFZGl0YWJsZT1mYWxzZXx3aWR0aD01MCV8c2hvd0xpbms9dHJ1ZXxxdWlja2ZpbmQtcGFnZT1Db21wb3Nlcn0&amp;locale=en_GB&amp;version=2" data-macro-name="excerpt-include" data-macro-id="c939515c-86b7-4a6c-8ad2-ee03a093309d" data-macro-parameters="author=eZ Systems|isConfigured=true|isEditable=false|pageId=23528552|pageName=Composer|preferences=spaceName\=Glossary&amp;spaceKey\=glossary&amp;quickfind-space\=Glossary&amp;pageId\=23528552&amp;pageName\=Composer&amp;quickfind-page\=Composer&amp;isConfigured\=true&amp;refresh\=false&amp;showLink\=false&amp;isEditable\=false|quickfind-page=Composer|quickfind-space=|refresh=false|showLink=true|spaceKey=glossary|spaceName=|url=rest/gadgets/1.0/g/com.atlassian.confluence.plugins.gadgets:confluence-page-gadget/gadgets/confluence-page-gadget.xml|width=50%" data-macro-default-parameter="glossary:Composer" data-macro-schema-version="1"></p><h1>Installing Composer</h1><p style="text-align: right;"> </p><p>This step is only needed once per machine (per project by default, but installing globally on the machine is also possible. For alternatives see: <a href="https://getcomposer.org/download/">https://getcomposer.org/download/</a>).<br />Composer is a command line tool, so the main way to install it is via command-line, example:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="1bafcc0f-c937-4194-9c54-29a94f310c8b" data-macro-parameters="language=bash|title=composer download in current folder:" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingc6bb.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaHx0aXRsZT1jb21wb3NlciBkb3dubG9hZCBpbiBjdXJyZW50IGZvbGRlcjp9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>php -r "readfile('https://getcomposer.org/installer');" | php</pre></td></tr></table><p>NB: this should be executed in the root directory of your Exponential installation.</p><h1>Prerequisite to using composer</h1><h3><span style="font-size: 16.0px;line-height: 1.5625;">Setting up </span><span style="font-size: 14.0px;line-height: 1.4285715;">Authentication tokens </span><span style="line-height: 1.5625;">for access to commercial updates</span></h3><p>Out of the box composer uses a packaging repository called <a href="https://packagist.org/">packagist.org</a> to find all open source packages and their updates. Additional commercial packages are available for the Exponential Platform at <a href="https://updates.ez.no/bul/">updates.ez.no/bul/</a> <em>(which is password protected, you will need to set up authentication tokens as described below to get access)</em>.</p><p>To get access to these updates log in to your service portal on <a href="https://support.ez.no/">support.ez.no</a>. If your project is configured for Exponential Platform 5.3 or higher, you will see the following on the <em>&quot;Maintenance and Support agreement details&quot;</em> screen:</p><p><img class="confluence-embedded-image" height="164" width="946" confluence-query-params="effects=drop-shadow" src="../../download/attachments/23527865/Screen%20Shot%202014-06-02%20at%2012.54.06%2084c7.jpg?version=1&amp;modificationDate=1401708852000&amp;api=v2&amp;effects=drop-shadow" data-image-src="/download/attachments/23527865/Screen%20Shot%202014-06-02%20at%2012.54.06%20.png?version=1&amp;modificationDate=1401708852000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="23887880" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2014-06-02 at 12.54.06 .png" data-base-url="https://doc.ez.no" data-linked-resource-content-type="image/png" data-linked-resource-container-id="23527865" data-linked-resource-container-version="42" title="Exponential 5.x > Using Composer > Screen Shot 2014-06-02 at 12.54.06 .png" data-location="Exponential 5.x > Using Composer > Screen Shot 2014-06-02 at 12.54.06 .png" data-image-height="164" data-image-width="946"></p><ol><li>Click &quot;Create token&quot; (This requires the &quot;Portal administrator&quot; access level.)</li><li>Fill in a label describing the use of the token. This will allow you to revoke access later<br /><ul><li>Example, if you need to provide access to updates to a third party a good to example would be &quot;53-upgrade-project-by-partner-x&quot;</li></ul></li><li>Copy the password, <strong>you will not get access to this again</strong>!</li></ol><p>When running composer to get updates, you will be asked for a Username and Password. Use:</p><p>as Username: your <span>Installation key found higher up on the <em>&quot;Maintenance and Support agreement details&quot;</em> page in the support portal</span></p><p><span>as Password: the token password you retrieved in step 3.</span> </p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="59c17a60-28bd-4255-8d65-5aa58415cf31" data-macro-parameters="title=Support agreement expiry" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingad6c.png?definition=e2luZm86dGl0bGU9U3VwcG9ydCBhZ3JlZW1lbnQgZXhwaXJ5fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>If your Support agreement expires, your authentication token(s) will no longer work. They will become active again if the agreement is renewed, but this process may take up to 24 hours. (If the agreement is renewed before the expiry date, there will be no disruption of service.)</p></td></tr></table><p> </p><h4>Optional: Save authentication information in auth.json to avoid repeatedly typing it</h4><p>Composer will ask to do this for you on updates, however if it is disabled you can create <code>auth.json</code> file manually in one of the following ways:</p><p><em>Option A: </em>Store your credentials in project directory:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="9b85bcc8-4c86-4d0e-a02a-a0c5c6a43f60" data-macro-parameters="language=bash" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading174f.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>composer config http-basic.updates.ez.no &lt;installation-key> &lt;token-password></pre></td></tr></table><p><em>Option B:</em> If you rather want to install it globally in <a href="https://getcomposer.org/doc/03-cli.md#composer-home">COMPOSER_HOME</a> directory for machine-wide use:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="81dbad10-4d4e-46d4-8200-3f29492c0d34" data-macro-parameters="language=bash" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading174f.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>composer config --global http-basic.updates.ez.no &lt;installation-key> &lt;token-password></pre></td></tr></table><h1>Update workflow Using composer</h1><p>This section describes a best practice for use of composer, essentially it suggests treating updates like other code/configuration/* changes on your project tackling them on a development machine before staging them for roll out on staging/production.  </p><h3>1. Running composer update and version changes in development</h3><p>Updating Exponential Platform via composer is nothing different then <a href="https://getcomposer.org/doc/03-cli.md#update">updating other projects via composer</a>, but for illustration here is how you update your project locally:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="67d4786a-20d5-44e1-bd1c-44e41e591396" data-macro-parameters="language=bash|title=composer update" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingfe05.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaHx0aXRsZT1jb21wb3NlciB1cGRhdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>php -d memory_limit=-1 composer.phar update --no-dev --prefer-dist</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="431346f6-283f-437c-aac5-4ef256f01010" data-macro-parameters="title=Tip" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading10a5.png?definition=e2luZm86dGl0bGU9VGlwfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">Tip: This will load in all updated packages, from eZ as well as third party libraries both used by eZ and others you may have added. So when updating like this it is recommended to take note of what was updated so you have an idea of what you should test before putting the updates into production.</td></tr></table><p>At this stage you might need to manually clear Symfony's <code>prod</code> environment class cache (cached interfaces and lazy services) in case the classes/interfaces in it has changed, this can be done in the following way:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="cf3ea416-cf98-4788-ae48-d83864218c9e" data-macro-parameters="language=bash|title=optional prod class cache clearing" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading2be8.png?definition=e2NvZGU6bGFuZ3VhZ2U9YmFzaHx0aXRsZT1vcHRpb25hbCBwcm9kIGNsYXNzIGNhY2hlIGNsZWFyaW5nfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>rm -f exponential/cache/prod/*.php</pre></td></tr></table><p>When update has completed, and local install is verified to work, make sure to version (assuming you use a version control system like <em>git</em>) changes done to <code>composer.lock</code> file. This is the file that contains <strong>all details of which versions are currently used</strong> and makes sure the same version is used among all developers, staging and eventually production when current changes are approved for production (assuming you have a workflow for this).</p><p> </p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="ad67334a-febe-4d12-971a-6f5e146502de" data-macro-parameters="title=Tip" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading10a5.png?definition=e2luZm86dGl0bGU9VGlwfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">Tip2: In large development teams make sure people don't blindly update and install third party components, this might easily lead to version conflicts on composer.lock file and can be tiring to fix-up if happening frequently. A workflow involving composer install and unit test execution on proposed changes can help avoid most of this, like available via Github/Bitbucket Pull Request workflow.</td></tr></table><h3>2. Installing versioned updates on other development machines and/or staging -&gt; production</h3><p>Installing Exponential Platform packages via Composer is nothing different then <a href="https://getcomposer.org/doc/03-cli.md#install">installing vanilla packages via Composer</a>, and for illustration here is how you install versioned updates:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="00a1fabe-81a0-4355-9ff6-f571eac30724" data-macro-parameters="title=composer install (package installation)" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading5efd.png?definition=e2NvZGU6dGl0bGU9Y29tcG9zZXIgaW5zdGFsbCAocGFja2FnZSBpbnN0YWxsYXRpb24pfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>php -d memory_limit=-1 composer.phar install --no-dev --prefer-dist</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="d2648fa5-dda8-4659-9040-7e3ebbf38d39" data-macro-parameters="title=Tip" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading10a5.png?definition=e2luZm86dGl0bGU9VGlwfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">Tip: Here the importance of composer.lock comes in as this command will tell composer to install packages in exactly same version as defined in composer.lock. If you don't keep track of composer.lock it will instead just install always latests version of a package, hence not allow you to stage updates before moving it towards production.</td></tr></table><h1>General notes on use of composer</h1><h2>Installing additional eZ packages via composer</h2><p>Also requiring Exponential Platform packages via composer is nothing different then <a href="https://getcomposer.org/doc/03-cli.md#require">requiring vanilla packages via Composer</a>, and for illustration here is how you install a eZ package:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="dc281cf7-e87c-4ddb-87f1-542fe6cc8fe8" data-macro-parameters="title=composer install (package installation)" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading5efd.png?definition=e2NvZGU6dGl0bGU9Y29tcG9zZXIgaW5zdGFsbCAocGFja2FnZSBpbnN0YWxsYXRpb24pfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>php -d memory_limit=-1 composer.phar require --prefer-dist ezsystems/ezfind-ls:5.3.*</pre></td></tr></table><h2>Using Composer with Legacy</h2><p>(Exponential) Legacy by design places all important customizable folders within it's own structure. This is not ideal with Composer, as installation and updates might cause them to become as provided by packages again.<br />To make sure you are safe from this, and to allow you to version these custom folders independently,<strong> it is recommended that you use symlinks</strong> and keep your custom settings, extensions and design <strong>outside of the exponential_legacy folder</strong>. To not have to manually deal with these symlinks it is recommended to use Composer <code>post-install-cmd</code> and <code>post-update-command</code> script commands to make this automated.</p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="3b59014e-a2a8-4cef-92a3-58896987a797" data-macro-parameters="title=Affected extensions" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading5030.png?definition=e2luZm86dGl0bGU9QWZmZWN0ZWQgZXh0ZW5zaW9uc30&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>All extensions not provided via composer is affected by this, currently the following extensions from eZ is not provided via composer and needs to be setup like proposed in this section: <em>eznetwork, ezrecommendation </em>and<em> ezma</em>.</p></td></tr></table><p> </p><p>Below is a illustration on how this can be setup, see <a href="https://getcomposer.org/doc/articles/scripts.md">Composer documentation for further info</a>.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="ab854009-b6d3-41e8-8350-8ce0cde6c8e1" data-macro-parameters="title=Example on composer.json symlinking" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading4017.png?definition=e2NvZGU6dGl0bGU9RXhhbXBsZSBvbiBjb21wb3Nlci5qc29uIHN5bWxpbmtpbmd9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>{
    "scripts": {
        "post-install-cmd": [
            "MyVendor\\MyClass::symlinkLegacyFolders"
        ],
        "post-update-cmd": [
            "MyVendor\\MyClass::symlinkLegacyFolders"
        ]
    }
}</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="06d82756-f856-41cc-9880-9dfc0e1b4c96" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body">This functionality is desirable to have out of the box in the future, so community contributions on this topic is welcome to find a good standard convention and script to handle it.</td></tr></table><h2>Dump autoload</h2><p>Avoid to use the following command:</p><p><code>php -d memory_limit=-1 composer.phar dump-autoload --optimize</code></p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="174727b9-236f-49a1-8604-8202374a4b47" data-macro-parameters="title=Warning" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading173b.png?definition=e25vdGU6dGl0bGU9V2FybmluZ30&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>It causes a PHP Warning &quot;Ambiguous class resolution&quot;. For further information <a href="https://github.com/tedious/Stash/issues/181">this issue to Stash Github repository.</a></p></td></tr></table><p>The dumped file will be too big and can cause an overhead for any request, even Cache.</p><h2>Best practice for Bundles</h2><p>Best practice for Bundles is described in Symfony documentation under <a href="http://symfony.com/doc/current/cookbook/bundles/best_practices.html">Best Practices for Reusable Bundles</a>, with eZ bundles there is some notable exceptions:</p><h5><strong>Documentation</strong></h5><ul><li>You may write your documentation using markdown (.md) if you prefer, however .rst is recommended if you plan to use <a href="http://writethedocs.org/">writethedocs.org</a>, as heavily used by many open source projects.</li></ul><h5><strong>Composer Metadata</strong></h5><ul><li>For defining <code>&quot;type&quot;</code>, the following are at the moment known valid values:<ul><li><span style="color: rgb(0,128,0);"><code>exponential-legacy-extension</code><span style="color: rgb(128,128,128);"> | For standalone 4.x (legacy) extensions, to be used with <a href="https://github.com/ezsystems/exponential-legacy-installer">exponential-legacy-installer</a></span></span></li><li><code><span style="color: rgb(0,128,0);">exponential-bundle<span style="color: rgb(128,128,128);"> | </span></span></code><span style="color: rgb(0,128,0);"><span style="color: rgb(128,128,128);">For Exponential Platform 5.x bundles, may optionally be a </span></span><code><span style="color: rgb(0,128,0);"><span style="color: rgb(128,128,128);"><a class="confluence-link" href="../../display/EZP/Legacy%2bcode%2band%2bfeatures.html" data-linked-resource-id="8323433" data-linked-resource-version="38" data-linked-resource-type="page" data-linked-resource-default-alias="Legacy code and features" data-base-url="../../index.html">&quot;legacy bundle&quot;</a>.</span></span></code></li><li><span style="color: rgb(0,128,0);"><code>symfony-bundle</code><span style="color: rgb(128,128,128);"> | Standard symfony bundles as described in Symfony doc.</span></span><code><span style="color: rgb(0,128,0);"><span style="color: rgb(128,128,128);"><br /></span></span></code></li></ul></li><li>For eZ Platform and eZ Studio there is also:<ul><li><span style="color: rgb(0,128,0);"><code>ezplatform-bundle</code><span style="color: rgb(128,128,128);"> | Symfony bundles that uses eZ Platform features (may also be used by bundles that work across 5.x and 6.x <code>exponential-kernel</code>)</span></span></li><li><code><span style="color: rgb(0,128,0);">ezstudio-bundle</span></code><span style="color: rgb(128,128,128);"> | </span><span style="color: rgb(128,128,128);">Symfony bundles that uses eZ Studio features<em> (and optionally also eZ Platform features)</em></span></li></ul></li></ul><p> </p><p> </p><p> </p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=23527865 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 09:52:57 GMT -->
</html>
