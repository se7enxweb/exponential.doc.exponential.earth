                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=20774965 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 16:49:24 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpage1df9.html?pageId=20774965" />
        <link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch934e.css?media=print" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1f2a9c4c7f2593422cc9b02d1a652a22/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/26ac2724af3c6ece1051365650d982fa/_/download/contextbatch/css/editor-content/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins.confluence-highlight-ac" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/12/_/styles/colors.css" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <p>At the time of the 5.0 release, two authentication methods were supported: session, and basic. <strong>Session based authentication</strong> is meant to be used for AJAX operations. It will let you re-use the visitor's session to execute operations with their permissions. <strong>Basic authentication</strong> will be useful when writing cross-server procedures, when one server executes operations on one/several Exponential instances (remote publishing, maintenance, etc).</p><p><a href="http://oauth.net/2/">oAuth2</a> is also supported as for Exponential 5.1 release.</p><h2>Session based</h2><p>This authentication method requires a Session cookie to be sent with the request. If this authentication method is used through a web browser, this session cookie is available as soon as your visitor logs in. Add it as a request cookie to your REST requests, and the user will be authenticated.</p><p> </p><h3>Setting it up</h3><p> </p><p>To enable session based authentication, you need to edit <code>exponential/config/security.yml</code>, and comment / remove the configuration block about REST</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-parameters="language=none|title=exponential.yml" style="background-image: url(../servlet/confluence/placeholder/macro-heading1687.png?definition=e2NvZGU6dGl0bGU9ZXpwdWJsaXNoLnltbHxsYW5ndWFnZT1ub25lfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>        exponential_rest:
            pattern: ^/api/ezp/v2
            stateless: true
            exponential_http_basic:
                realm: Exponential REST API</pre></td></tr></table><h3>Logging in</h3><p>It is also possible to create a session for the visitor if he isn't logged in yet. This is done by sending a <span style="color: rgb(0,0,255);"><strong><code>POST</code></strong></span> request to <span style="color: rgb(255,102,0);"><code>/user/sessions</code></span>. Logging out is done using a <strong><span style="color: rgb(0,0,255);"><code>DELETE</code></span></strong> request on the same resource.</p><p> </p><h3>Example</h3><table class="wysiwyg-macro" data-macro-name="code" data-macro-parameters="title=Session authentication with siteaccess header" style="background-image: url(../servlet/confluence/placeholder/macro-heading7d49.png?definition=e2NvZGU6dGl0bGU9U2Vzc2lvbiBhdXRoZW50aWNhdGlvbiB3aXRoIHNpdGVhY2Nlc3MgaGVhZGVyfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>GET / HTTP/1.1
Host: api.example.com
Accept: application/vnd.ez.api.Root+json
Cookie: eZSESSID22af645d1859cb5ca6da0c484f1f37ea=ca8123ccb543834fecd48f282a40156e</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="info" data-macro-parameters="title=More information" style="background-image: url(../servlet/confluence/placeholder/macro-headinge750.png?definition=e2luZm86dGl0bGU9TW9yZSBpbmZvcm1hdGlvbn0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p><a href="https://github.com/ezsystems/ezp-next/blob/master/doc/specifications/rest/REST-API-V2.rst#123%C2%A0%C2%A0%C2%A0session-based-authentication">Session based authentication chapter of the REST specifications</a></p></td></tr></table><h2>Basic HTTP authentication</h2><p>Basic authentication requires the password to be sent, based 64 encoded, with the request, as explained in <a href="http://tools.ietf.org/html/rfc2617">RFC 2617</a>.</p><p>Most HTTP client libraries as well as REST libraries, should support this method one way or another.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-parameters="language=none|title=Raw HTTP request with basic authentication" style="background-image: url(../servlet/confluence/placeholder/macro-headingfe60.png?definition=e2NvZGU6dGl0bGU9UmF3IEhUVFAgcmVxdWVzdCB3aXRoIGJhc2ljIGF1dGhlbnRpY2F0aW9ufGxhbmd1YWdlPW5vbmV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>GET / HTTP/1.1
Host: api.example.com
Accept: application/vnd.ez.api.Root+json
Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</pre></td></tr></table><h2>Specifying a siteaccess</h2><p>One of the constraints of REST is that the same resource (Content, Location, ContentType, ...) should be unique. The purpose is mostly to make it simple to cache your REST API using a reverse proxy like Varnish. If the same resource is available at multiple locations, cache purging becomes much more complex.</p><p>Due to this, we decided not to enable siteaccess matching with REST. In order to specify a siteaccess when talking to the REST API, a custom header, <code>X-Siteaccess</code>, needs to be provided. If it isn't, the default one will be used:</p><div><p> </p><table class="wysiwyg-macro" data-macro-name="code" data-macro-parameters="language=none|title=X-Siteaccess header example" style="background-image: url(../servlet/confluence/placeholder/macro-heading92d0.png?definition=e2NvZGU6dGl0bGU9WC1TaXRlYWNjZXNzIGhlYWRlciBleGFtcGxlfGxhbmd1YWdlPW5vbmV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>GET / HTTP/1.1
Host: api.example.com
Accept: application/vnd.ez.api.Root+json
X-Siteaccess: ezdemo_site_admin</pre></td></tr></table></div>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=20774965 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 16:49:24 GMT -->
</html>
