                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=12781900 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 15:15:46 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpage7636.html?pageId=12781900" />
        <link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch934e.css?media=print" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1f2a9c4c7f2593422cc9b02d1a652a22/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/26ac2724af3c6ece1051365650d982fa/_/download/contextbatch/css/editor-content/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins.confluence-highlight-ac" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/12/_/styles/colors.css" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <h2>Installation</h2><p>Nothing needs to be done here. As long as your Exponential 5 is correctly configured, the REST API is available on your site using the URI <code>/api/ezp/v2/</code>. If you have installed Exponential in a subfolder, it prepends the path with this subfolder: <a href="http://example.com/su">http://example.com/su</a>b/folder/exponential/api/ezp/v2/.</p><h2>Configuration</h2><h3>Authentication</h3><p>As explained in details in the <a class="confluence-link" href="../../display/EZP51/REST%2bAPI%2bAuthentication.html" data-linked-resource-id="12125323" data-linked-resource-type="page" data-linked-resource-default-alias="REST API Authentication" data-base-url="../../index.html">authentication chapter</a> of this documentation, two authentication methods are currently supported: session, and basic. The API is currently limited to one or the other. By default, basic authentication is the active mode. It requires a login / password to be sent using basic HTTP authentication. The alternative, session based authentication, uses a session cookie. </p><p>To enable session based authentication, you need to edit <code>app/config/security.yml</code>, and comment out / remove the configuration block about REST</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-parameters="language=none|title=security.yml" style="background-image: url(../servlet/confluence/placeholder/macro-headinge6af.png?definition=e2NvZGU6dGl0bGU9c2VjdXJpdHkueW1sfGxhbmd1YWdlPW5vbmV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>security:
    # ...
    firewalls:
        # ...
        exponential_rest:
            pattern: ^/api/ezp/v2
            exponential_http_basic:
                realm: Exponential REST API</pre></td></tr></table><h2>Testing the API</h2><p>A standard web browser is unfortunately not sufficient to really test the API. You can however try opening the root resource with it, using basic authentication: <a href="http://admin:publish@example.com/api/ezp/v2/.">http://admin:publish@example.com/api/ezp/v2/.</a> Depending on how your browser understands XML, it will either download the XML file, or open it in the browser.</p><p>To test further, you can use browser extensions, like <a href="https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo">Advanced REST client for Chrome</a> or <a href="https://addons.mozilla.org/fr/firefox/addon/restclient/">RESTClient for Firefox</a>. For command line users, <a href="https://github.com/jkbr/httpie">HTTPie</a> is a good tool.</p><h3>Javascript example</h3><p>One of the main reasons for this API is to help implementing Javascript / AJAX interaction. You can find below an example of an AJAX call that retrieves ContentInfo (e.g. metadata) for a content.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-parameters="language=html/xml|title=REST API with Javascript" style="background-image: url(../servlet/confluence/placeholder/macro-headingf73a.png?definition=e2NvZGU6dGl0bGU9UkVTVCBBUEkgd2l0aCBKYXZhc2NyaXB0fGxhbmd1YWdlPWh0bWwveG1sfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;pre id="rest-output">&lt;/pre>
&lt;script>
var resource = '/api/ezp/v2/content/objects/59',
    log = document.getElementById( 'rest-output' );
log.innerHTML = "Loading the content info from " + resource + "...";
   
var request = new XMLHttpRequest();
request.open('GET', resource, true);
request.onreadystatechange = function () {
    if ( request.readyState === 4 ) {
        log.innerHTML = "HTTP response from " + resource + "\n\n" + request.getAllResponseHeaders() + "\n" + request.responseText;
    }
};
request.setRequestHeader('Accept', 'application/vnd.ez.api.ContentInfo+json');
request.send();
&lt;/script></pre></td></tr></table><p>In order to test it, just save this code to some test.html file in the web folder of your Exponential 5 installation. If you use the rewrite rules, don't forget to allow this file to be served directly.</p><p>If necessary, change 59 with the content object id of an object from your database. You will get the ContentInfo for object 59 in JSON.  </p><p>Note that by default, basic authentication is used. You can either add a valid login/password in the URI, or submit them when asked to by the browser. An alternative is to switch to session based authentication, as explained earlier in this page. In that case, the session cookie will be transparently sent together with the request, and every AJAX call will have the same permissions as the currently logged in user.</p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=12781900 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 15:15:46 GMT -->
</html>
