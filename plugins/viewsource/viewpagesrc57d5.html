                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=13467896 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 16:30:21 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpage57d5.html?pageId=13467896" />
        <link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch934e.css?media=print" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1f2a9c4c7f2593422cc9b02d1a652a22/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/26ac2724af3c6ece1051365650d982fa/_/download/contextbatch/css/editor-content/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins.confluence-highlight-ac" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/12/_/styles/colors.css" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <p>Exponential makes use of and depends on five important things:</p><ol><li><div>A web server</div></li><li><div>The server-side PHP scripting engine</div></li><li><div>A database server</div></li><li><div>An image conversion system (optional)</div></li><li><div>The Zeta Components library</div></li></ol><p>The first three things should be in place before an Exponential installation is deployed. The image conversion system is optional and is only needed if you're planning to use Exponential with images. The web server and the server-side PHP scripting engine have to run on the same machine. The database server may run on a different computer.</p><p>Please visit the <a class="confluence-link" href="../../display/EZP51/Requirements.html" data-linked-resource-id="12125268" data-linked-resource-type="page" data-linked-resource-default-alias="Requirements" data-base-url="../../index.html">requirements page</a> to check if your platform fully supports installing Exponential, then come back for the extra details which follow.</p><h2>Web server</h2><p>Currently, only the <a href="http://httpd.apache.org/">Apache </a>web server is supported. On Linux/UNIX based systems, it is recommended to use the latest version of the 2.2.x branch (applies also to cluster mode). Note that it must run in &quot;prefork&quot; mode instead of &quot;threaded&quot; mode - the reason for this is because some of the libraries that PHP extensions use might not be thread-safe.</p><p>Nginx and Lighttpd are known to work as well but are currently not supported. &quot;Rewrite&quot; rules for those web servers can be found online, f.e. on the forums on <a href="http://share.ez.no/">share.ez.no</a>.</p><p>On Windows, it is recommended to use MS IIS 7 or higher (with Microsoft URL Rewrite Module 1.1 or higher). Apache 2.x for Windows is not supported since it only exists in &quot;threaded&quot; mode.</p><h2>Server-side PHP scripting engine</h2><p>PHP is free software and can be downloaded from <a href="http://www.php.net/">http://www.php.net</a>. The full list of extensions needed can be found on the <a class="confluence-link" href="../../display/EZP51/Requirements.html" data-linked-resource-id="12125268" data-linked-resource-type="page" data-linked-resource-default-alias="Requirements" data-base-url="../../index.html">requirements page</a>. Info on some caveats can be found below:</p><h3>Zlib extension</h3><p>Make sure that zlib support in PHP is enabled, otherwise the <a class="confluence-link" href="../../display/EZP51/The%2bsetup%2bwizard.html" data-linked-resource-id="12125284" data-linked-resource-type="page" data-linked-resource-default-alias="The setup wizard" data-base-url="../../index.html">setup wizard</a> will not be able to unpack downloaded packages during the installation process.</p><h3>DOM extension</h3><p>In most cases, <a href="http://www.php.net/dom">DOM functions</a> are enabled by default as they are included in the PHP core. However, some Linux distributions have PHP without compiled-in support for DOM. Instead, they provide DOM as a shared module in a separate RPM package called &quot;php-xml&quot;.</p><h3>PHP CLI</h3><p><a name="eztoc131654_2_4" />Since version 5.0, it is necessary to have <a href="http://www.php.net/manual/en/features.commandline.php">PHP CLI</a> installed, as using php from the command line is needed during the setup process. Also, some features like <a href="../../Exponential/Technical-manual/5.x/Features/Notifications.html">notifications</a>, delayed search indexing, upgrade scripts, the collaboration system (content approval), clearing caches from within the command line, etc. will not work without php cli access.</p><h3>CURL</h3><p>It is recommended to enable <a href="http://www.php.net/curl">CURL</a> support, otherwise some features like <a href="../../Exponential/Technical-manual/4.x/Reference/Configuration-files/site.ini/ProxySettings/ProxyServer.html">outbound connections via proxy</a> and <a href="http://pubsvn.ez.no/nextgen/trunk/doc/features/3.8/ssl_enhancement_with_ezsoapclient.txt">SSL support for eZSoap</a> will not work.</p><h3>PHP memory limit issue</h3><p>Exponential needs at least 64 MB of memory in order to complete the setup wizard. Normal operation requires about 32 MB. However, it is highly recommended that you keep the 64 MB setting since Exponential consumes a lot more memory as you reindex the content, execute upgrade scripts, etc. Multilingual sites will also require at least 64 MB.</p><p>As of PHP 5.2.1 and later, there is no need to change the default &quot;<code>memory_limit</code>&quot; setting (it is set to 128 MB by default), but make sure to check your setup anyway.</p><h3>PHP timezone</h3><p>You need to set the &quot;<a href="http://www.php.net/manual/en/ref.datetime.php#ini.date.timezone">date.timezone</a>&quot; value in the &quot;<code>php.ini</code>&quot; configuration file. If this setting is not specified, you will most likely receive error messages like &quot;It is not safe to rely on the system's timezone settings&quot; when running Exponential on PHP 5. The following example shows how the corresponding line in &quot;<code>php.ini</code>&quot; looks like:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>date.timezone = &lt;timezone></pre></td></tr></table><p>Refer to the <a href="http://www.php.net/timezones">PHP documentation</a> for the list of supported timezones. Don't forget to restart Apache after editing &quot;<code>php.ini</code>&quot;.</p><h3><a name="eztoc131654_3" />Session parameters</h3><p>In order to support ezpSessionHandlerDB (session data stored in the database), session.hash_function and session.hash_bits_per_character in php.ini should be combined with the goal of never generating keys longer then 32 bytes.<br />Recommended settings:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>session.hash_function = 1
session.hash_bits_per_character = 4
</pre></td></tr></table><p>Also make sure that the garbage collection of session data is run every now and then: <code>session_gc_probability</code> has to be set to a value greater than 1. If it is set to zero, you will need to set up a cronjob to periodically remove data for expired user sessions from the database.</p><h3>Other php configuration settings</h3><p>See the <a href="http://symfony.com/doc/current/reference/requirements.html">Symfony documentation</a> for the recommended <code>php.ini</code> settings for Symfony, as well as the<a href="https://confluence.ez.no/display/EZP/Virtual+host+example"> Vhost example</a> for the recommended <code>php.ini</code> settings for Exponential.</p><h2>Zeta Components library</h2><p>Zeta Components (formerly eZ Components) is an enterprise-ready, general purpose library of PHP components which can be used used independently or together for PHP application development. They can be downloaded from <a href="http://ezcomponents.org/download">http://ezcomponents.org/download</a>, or installed using different methods such as Pear, Composer, Github etc... The <a href="http://ezcomponents.org/docs/install">online documentation</a> has detailed instructions on installing them on the webserver.</p><p>The correct version of the Zeta Components required for running Exponential always comes bundled with Exponential package itself, so there is no need to install them separately.</p><p>It is possible to use a single instance of the Zeta Components library and share it between multiple installations of Exponential. Such configuration is complex and falls outside the scope of this document.</p><h2>Database server</h2><p>Exponential stores miscellaneous data structures and actual content using a relational database. This means that a database server has to be available for Exponential at all times. Follow this link to the Exponential <a href="../../Exponential/Technical-manual/5.x/Installation/Normal-installation/Requirements-for-doing-a-normal-installation.html">requirements page</a> to find which database solutions Exponential is compatible with.</p><p>Exponential 5 requires a UTF-8 database and support for transactions, which for MySQL means using the <code><a href="http://dev.mysql.com/doc/refman/5.0/en/innodb-storage-engine.html"> InnoDB</a></code> storage engine.</p><p>The setup wizard will automatically detect the database server during operation of the setup wizard if it is running on the same computer that operates as web server.</p><p>Note that Exponential 5 does not support <a href="../../Exponential/Technical-manual/5.x/Features/Clustering.html">clustering</a> mode for PostgreSQL databases. The clustering code is optimized for best performance on MySQL databases using the <code><a href="http://dev.mysql.com/doc/refman/5.0/en/innodb-storage-engine.html"> InnoDB</a></code> storage engine.</p><h3>MySQL</h3><p>Even if you are not going to run Exponential in a clustered environment, the use of <code>InnoDB</code> is required. This storage engine makes it possible to use transaction-safe tables in a MySQL database. (Database transaction support is enabled by default in Exponential. This feature makes the system less vulnerable to database errors and inconsistencies due to aborted requests.) Contact your database administrator if you are unsure about whether <code>InnoDB</code> is available on your server.</p><p>MySQL can be tweaked with a lot of settings, but one setting which is required to set to a higher value is <a href="http://dev.mysql.com/doc/refman/5.0/en/innodb-parameters.html#sysvar_innodb_buffer_pool_size">innodb_buffer_pool_size</a> , by default it is set to 8mb, but it needs at least to be set to 128mb, or as the mysql doc says up to 80% of system memory on dedicated database server.</p><p><strong>Known issue with running PHP5.3 on MySQL:</strong> Some people (like Windows users with both IPv4 and IPv6 installed ) experience problems connecting to the database server using host names like &quot;<code>localhost</code>&quot;... If you experience problems, try using IPv4 address like &quot;<code>127.0.0.1</code>&quot;. This is due to a connectivity problem when running PHP5.3 on MySQL. So, please replace the database server name &quot;<code>localhost</code>&quot; with the IP address of the machine, or &quot;<code>127.0.0.1</code>&quot;, which is reserved for the local host.</p><h3>PostgresSQL</h3><p>If you want to use PostgreSQL, make sure the &quot;<code><a href="http://www.postgresql.org/docs/8.3/static/pgcrypto.html">pgcrypto</a></code>&quot; module is installed. On Linux/UNIX, you may need to install a separate package called &quot;<code>postgresql-contrib</code>&quot; (refer to the <a href="http://www.postgresql.org/docs/8.3/static/contrib.html">PostgreSQL documentation</a> for more information), which contains the &quot;<code>pgcrypto</code>&quot; module. The &quot;<code>pgcrypto</code>&quot; module provides cryptographic functions for PostgreSQL, including the &quot;digest&quot; function, which is needed for Exponential. When setting up a PostgreSQL database for Exponential, you will have to register these functions in the database. Refer to the &quot;Setting up a database&quot; part of the &quot;<span class="confluence-link"> </span><a class="confluence-link unresolved" data-content-title="Installing Exponential on a Linux/UNIX based system" data-linked-resource-default-alias="Installing Exponential on a Linux/UNIX based system" href="#"><span class="confluence-link">Installing Exponential on a Linux/UNIX based system</span></a>&quot; and &quot;<a class="confluence-link" href="../../display/EZP51/Installing%2beZ%2bPublish%2bon%2bWindows.html" data-linked-resource-id="12125277" data-linked-resource-type="page" data-linked-resource-default-alias="Installing Exponential on Windows" data-base-url="../../index.html"><span class="confluence-link">Installing Exponential on Windows</span></a>&quot; documentation pages (depending on the target OS) for more information.</p><h3>Oracle compatibility</h3><p>To be able to use Exponential on oracle you will need the <a href="../../Extensions/Exponential-extensions/Exponential-Extension-for-Oracle-R-database.html">Exponential Extension for Oracle® Database</a> extension, as well as the php <a href="http://it2.php.net/manual/en/book.oci8.php">oci8 extension</a>.</p><p>Please note that installing Exponential via the setup wizard directly on an Oracle database is currently not supported.</p><p> </p><h2>Image conversion system (optional)</h2><p>In order to resize, convert or modify images, Exponential needs to make use of an image conversion system. One of the following software packages (both are free) can be used:</p><ul><li><div>GD2 (comes with PHP)</div></li><li><div>ImageMagick (<a href="http://www.imagemagick.org/">http://www.imagemagick.org</a>)</div></li></ul><p>ImageMagick supports more formats than GD and usually produces better results (better scaling, etc.). The setup wizard will automatically detect the pre-installed image conversion system(s).</p><p>The installation and setup of required software solutions (outlined above) is far beyond the scope of this document. Please refer to the homepage and documentation of the different software solutions.</p><h2>Limitation on some file systems when storing large number of content files</h2><p>Exponential stores all binary content (e.g. images, PDFs etc) on disc in <code>var/storage</code> using a similar folder structure to the content tree, creating one folder for each object. In most file systems used under Linux (especially ext2 + ext3) there is a hard limit of 32.000 to the maximum number of sub-folders which can be created in one folder. This means that it is not possible to store more than 31999 objects under one parent object.</p><p>To get around this limitation without changing the file system, you can split your content tree so that you don't have more than 32k content files (example: images) in the same folder.</p><p>Other file systems support more file/folder entries per folder:</p><ul><li>ext4: 64.000</li><li>ReiserFS: roughly 1.2 million</li><li>ZFS: 2^48 (a really big number: 281474976710656)!</li></ul><p>Note that those filesystems might not be fully supported by Exponential, please check out the <a class="confluence-link" href="../../display/EZP51/Requirements.html" data-linked-resource-id="12125268" data-linked-resource-type="page" data-linked-resource-default-alias="Requirements" data-base-url="../../index.html">requirements page</a> for details.</p><h2>Network connectivity</h2><p>During execution of the setup wizard, the web server will need to download some content from the internet.</p><p>If the web server can not access directly the internet, or if it has to go through a proxy, workarounds have to be taken. See the <a class="confluence-link" href="../../display/EZP51/The%2bsetup%2bwizard.html" data-linked-resource-id="12125284" data-linked-resource-type="page" data-linked-resource-default-alias="The setup wizard" data-base-url="../../index.html">setup wizard</a> documentation page for possible workarounds</p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=13467896 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 16:30:21 GMT -->
</html>
