                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=16286222 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 15:15:25 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpagef681.html?pageId=16286222" />
        <link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch934e.css?media=print" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1f2a9c4c7f2593422cc9b02d1a652a22/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/26ac2724af3c6ece1051365650d982fa/_/download/contextbatch/css/editor-content/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins.confluence-highlight-ac" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/12/_/styles/colors.css" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <p>This is a step-by-step guide on how to upload your Exponential installation to the cloud for the first time</p><h1>Ensure you meet the requirements</h1><p>In order to upload a Exponential to the cloud, these conditions needs to be met:</p><ul><li>You need a work installation of Exponential running locally</li><li>You need access to the cloud administration interface: <a href="http://cloud.ez.no/">http://admin.cloud.ez.no</a></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;">Your account needs to have a SSH key associated with your account</span></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;">Basic knowledge about SSH, Git and SFTP</span></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;">A Git and SFTP client installed locally<br /></span></li></ul><div>For the examples below, we assume you are on a unix based system with Git, openssh's SFTP client, mysqldump and rsync installed</div><h2>How to check that you have a SSH key</h2><p><span style="font-size: 10.0pt;line-height: 13.0pt;"> This is the procedure for checking that you have a SSH key associated with your cloud account</span></p><ol><li><span style="font-size: 10.0pt;line-height: 13.0pt;">Log in to <a href="http://admin.cloud.ez.no/">http://admin.cloud.ez.no</a></span></li><li>The frontpage will show you the list of environments you have access to</li><li>Click on the environment you want to inspect</li><li>Click the &quot;Manage Users&quot; button ((Maik: not all users have this button, just &quot;OWNER&quot;. All users might go to login.ez.no and find their key, if it was uploaded, in the corresponding field in their profile))</li><li>Your user should then be listed, including information about your SSH key</li></ol><h2>Upload a SSH key to your account</h2><p><span style="font-size: 10.0pt;line-height: 13.0pt;">If you do not have a SSH key associated with your account, this is how to upload it</span></p><ol><li><span style="font-size: 10.0pt;line-height: 13.0pt;">Log in to <a href="http://share.ez.no/">http://share.ez.no</a></span></li><li>Edit your profile on : <a href="http://share.ez.no/community/profile">http://share.ez.no/community/profile</a></li><li>Click on &quot;Edit account&quot; button ( do not confuse this with the &quot;Edit profile&quot; button !!! )</li><li>Cut and paste in your public SSH in the &quot;Public key (openSSH format only&quot; field</li><li>Save your changes</li><li>Log out of <a href="http://admin.cloud.ez.no/">http://admin.cloud.ez.no</a> ( if you where logged in )</li><li>Log in again on <a href="http://admin.cloud.ez.no/">http://admin.cloud.ez.no</a></li><li>Follow the steps explained in the &quot;How to check that you have a SSH key&quot; chapter</li></ol><h1>Obtain login information to Stage area, Git and SFTP</h1><p>This is how you get login information for Git and SFTP</p><ol><li>Log in to <a href="http://admin.cloud.ez.no/">http://admin.cloud.ez.no</a></li><li>The frontpage will show you the list of environments you have access to</li><li>Click on the environment you want to inspect</li><li>Click the &quot;Show Details&quot; link</li><li>Login information about how to access sites in stage and rollback state is displayed</li><li>Login information about how to access Git is displayed</li><li>Login information about how to access SFTP is displayed on the format : username@ftphostname:portno</li></ol><h1>Upload your installation to the cloud</h1><p>This is the overview on how to upload your installation to the cloud:</p><ul><li>your code ( exponential + extensions + settings ) must be uploaded to the git repository</li><li>Your database and content files ( like images) must be uploaded to the SFTP server</li></ul><h2>Uploading your code to Git</h2><p>The example below will assume</p><ul><li>you have your Exponential site locally in /var/www/mysite.com</li><li>your git repository is located at mysite<a href="mailto:vltest2p@git.ez.cloud.ixonos">@git.ez.cloud.ixonos</a>.<a href="http://comez.git/">com:ez.git</a></li></ul><h3>Clone the Git repository</h3><p>$cd ~</p><p>$git clone <a href="mailto:mysite@git.ez.cloud.ixonos">mysite@git.ez.cloud.ixonos</a>.<a href="http://comez.git/">com:ez.git</a> mysite</p><p>Copy your Exponential site to the Git directory ( except the var/ directory )</p><p>$rsync -av --filter=&quot;+ /.htaccess*&quot; --filter=&quot;- .**&quot; --filter &quot;- /var&quot; /var/www/mysite.com/ ~/mysite/</p><h3>Push your code to git</h3><p>$cd ~/mysite<br />$git add .<br />$git commit<br />$git push origin master</p><h3>Tag the code in Git</h3><p>$cd ~/mysite</p><p>$git tag mysite-v1.0<br />$git push origin mysite-v1.0</p><h2>Upload your database and var/ directory via SFTP</h2><h3>Make the DB dump</h3><p>Use mysqldump to create a dump like this:</p><p>$cd /tmp</p><p>$mysqldump -u [username ]-p [database] &gt; mysite-v1.0.sql</p><p>( replace username and database name according to your system )</p><h3>Upload the DB to SFTP</h3><p>cd /tmp</p><p>$sftp -P [portno] [username]@hostname</p><p>SFTP&gt; cd db</p><p>SFTP&gt; put mysite-v1.0.sql</p><p>SFTP&gt; exit</p><p>$rm /tmp/mysite-v1.0.sql</p><p> </p><h3>Make the var/ dump</h3><p> </p><p>$cd /var/www/mysite.com/var</p><p>$tar -czf /tmp/mysite-v1.0.tar.gz * ((Maik: this would also include all the temporary files))</p><h3>Upload the var dump to SFTP</h3><p>$cd /tmp</p><p>$sftp -P [portno] [username]@hostname</p><p>SFTP&gt; cd var</p><p>SFTP&gt; put mysite-v1.0.tar.gz</p><p>SFTP&gt; exit</p><p>$rm mysite-v1.0.tar.gz</p><h2>Stage your installation</h2><ol><li>Log in to <a href="http://admin.cloud.ez.no/">http://admin.cloud.ez.no</a></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;">The frontpage will show you the list of environments you have access to</span></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;">Click on the environment you want to stage</span></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;">Click the &quot;Edit&quot; button</span></li></ol><h3>Software Repository</h3><ol><li><span style="font-size: 10.0pt;line-height: 13.0pt;">Click &quot;New Deployment&quot; link</span></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;">Provide a &quot;Deployment name&quot; and check the git tag &quot;mysite-v1.0&quot;</span></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;">Click &quot;Next step&quot; button</span></li></ol><h3>Exponential Version</h3><ol><li>Select &quot;Exponential 4.7&quot; in the version drop down</li><li>Click &quot;Next Step&quot; button</li></ol><h3>Database and File Import</h3><ol><li>Click the checkbox &quot;I would like to create a new database from the database dump and import the corresponding files.&quot;</li><li>Click the checkbox &quot;mysite-v1.0.sql&quot;</li><li>Click the checkbox &quot;mysite-v1.0.tar.gz&quot;</li><li>Click &quot;Next Step&quot; button</li></ol><h3>Review</h3><ol><li>Review your configuration</li><li>Click &quot;Create Deployment&quot; button</li></ol><p> </p><p> </p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=16286222 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 15:15:25 GMT -->
</html>
