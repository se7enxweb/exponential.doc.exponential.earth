                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=11403308 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 15:20:10 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpage312b.html?pageId=11403308" />
        <link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch934e.css?media=print" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1f2a9c4c7f2593422cc9b02d1a652a22/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/26ac2724af3c6ece1051365650d982fa/_/download/contextbatch/css/editor-content/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins.confluence-highlight-ac" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/12/_/styles/colors.css" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <p>This section describes how to manually configure Exponential instead of using the setup wizard to do all the work. Keep in mind that the manual installation method is for expert users only. It should only be used by people who know what they are doing. The following steps will work on both Linux/UNIX and Windows environments.</p><p><a name="eztoc131639_1" /></p><h2>Database initialization</h2><p>A clean Exponential database is created using two very important SQL scripts: &quot;kernel_schema&quot; and &quot;cleandata&quot; (note that an empty database should be created before launching these scripts). The first of them initializes the necessary database structure and the second one imports the pre-defined data to the database. While the &quot;kernel_schema&quot; script differs for each database engine, the &quot;cleandata&quot; script is the same for all solutions.</p><p><a name="eztoc131639_1_1" /></p><h3>MySQL</h3><p>Use the following command to run the MySQL specific &quot;kernel_schema&quot; script:</p><pre class="wordwrap"><span class="line">$ mysql -u USERNAME -pPASSWORD DATABASE &lt; PATH/kernel/sql/mysql/kernel_schema.sql</span>
</pre><p>In Exponential 4.0.1 and later versions, the script will use the InnoDB storage engine when creating new tables. This storage engine is recommended (and will be required in the future) for running Exponential on a MySQL database. Contact your database administrator if you are unsure about whether InnoDB is available on your server.</p><p>In Exponential 4.0.0, the CREATE TABLE statements in the &quot;kernel_schema&quot; script do not specify which storage engine to use (no ENGINE or TYPE option), and thus the default storage engine will be used. Normally, it is MyISAM. Because of this, it is highly recommended to set the default storage engine to InnoDB before you run the &quot;kernel_schema&quot; script (refer to the <a href="http://dev.mysql.com/doc/refman/5.0/en/storage-engines.html">MySQL documentation</a> for information about how to set the default engine). Alternatively, you can run the &quot;kernel_schema&quot; script first and then convert the newly created tables to InnoDB. You can either use the &quot;bin/php/ezconvertmysqltabletype.php&quot; script for database conversion (recommended) or convert the tables individually by using the following SQL query for each table:</p><pre class="wordwrap"><span class="line">ALTER TABLE &lt;name_of_table&gt; TYPE = innodb;</span>
</pre><p>Use the following command to run the generic &quot;cleandata&quot; script:</p><pre class="wordwrap"><span class="line">$ mysql -u USERNAME -pPASSWORD DATABASE &lt; PATH/kernel/sql/common/cleandata.sql</span>
</pre><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p>USERNAME</p></td><td class="confluenceTd"><p>The MySQL user (if no user is set up, use &quot;root&quot;).</p></td></tr><tr><td class="confluenceTd"><p>PASSWORD</p></td><td class="confluenceTd"><p>The password that belongs to the username.</p></td></tr><tr><td class="confluenceTd"><p>DATABASE</p></td><td class="confluenceTd"><p>The name of the database, for example &quot;my_database&quot;.</p></td></tr><tr><td class="confluenceTd"><p>PATH</p></td><td class="confluenceTd"><p>The full path to the root directory of your Exponential installation, for example &quot;/opt/ezp&quot;.</p></td></tr></tbody></table><p><a name="eztoc131639_2" /></p><h2>File permissions</h2><p>Windows users can skip this part. If Exponential is installed on a Linux/UNIX based system, some of the file permissions need to be changed. There is a shell script that takes care of this. This script must be run, otherwise Exponential will not function properly. The script needs to be run from within the Exponential directory:</p><pre class="wordwrap"><span class="line">$ cd /opt/ezp</span>
<span class="line">$ bin/modfix.sh</span>
</pre><p>Replace &quot;/opt/ezp&quot; with the full path to the root directory of your Exponential installation.</p><p>The modfix script recursively alters the permission settings of the following directories inside the Exponential installation:</p><ul><li><div>var/*</div></li><li><div>settings/*</div></li><li><div>design/*</div></li><li><div>autoload/*</div></li></ul><p>If you know the user and group of the web server it is recommended to use a different set of permissions:</p><pre class="wordwrap"><span class="line"># chown -R user.usergroup var/ settings/ design/ autoload/</span>
<span class="line"># chmod -R 770 var/ settings/ design/ autoload/</span>
</pre><p>The &quot;user.usergroup&quot; notation must be changed to user and group name that the web server runs as.</p><p><a name="eztoc131639_3" /></p><h2>Configuring Exponential</h2><p>The &quot;site.ini.append.php&quot; configuration file located in the &quot;settings/override&quot; directory of your Exponential installation must be changed, or else Exponential will not function properly. This file is the global override for the <a href="../../Exponential/Technical-manual/4.x/Reference/Configuration-files/site.html">site.ini</a> configuration file. There are a lot of things that need to be configured (database, mail transport system, var directory, etc.). The following text shows a generic example of a configuration that can be used:</p><pre class="wordwrap copytoclipboard"><span class="line">&lt;?php /* #?ini charset=&quot;utf-8&quot;?</span>
<span class="line"> </span>
<span class="line">[DatabaseSettings]</span>
<span class="line">DatabaseImplementation=ezmysql</span>
<span class="line">Server=localhost</span>
<span class="line">User=root</span>
<span class="line">Password=</span>
<span class="line">Database=my_database</span>
<span class="line"> </span>
<span class="line">[FileSettings]</span>
<span class="line">VarDir=var/example</span>
<span class="line"> </span>
<span class="line">[Session]</span>
<span class="line">SessionNameHandler=custom</span>
<span class="line"> </span>
<span class="line">[SiteSettings]</span>
<span class="line">DefaultAccess=example</span>
<span class="line">SiteList[]</span>
<span class="line">SiteList[]=example</span>
<span class="line"> </span>
<span class="line">[SiteAccessSettings]</span>
<span class="line">CheckValidity=false</span>
<span class="line">AvailableSiteAccessList[]</span>
<span class="line">AvailableSiteAccessList[]=example</span>
<span class="line">AvailableSiteAccessList[]=example_admin</span>
<span class="line">RelatedSiteAccessList[]</span>
<span class="line">RelatedSiteAccessList[]=example</span>
<span class="line">RelatedSiteAccessList[]=example_admin</span>
<span class="line">MatchOrder=host;uri</span>
<span class="line"> </span>
<span class="line"># Host matching</span>
<span class="line">HostMatchMapItems[]=www.example.com;example</span>
<span class="line">HostMatchMapItems[]=admin.example.com;example_admin</span>
<span class="line"> </span>
<span class="line">[InformationCollectionSettings]</span>
<span class="line">EmailReceiver=webmaster@example.com</span>
<span class="line"> </span>
<span class="line">[MailSettings]</span>
<span class="line">Transport=sendmail</span>
<span class="line">AdminEmail=webmaster@example.com</span>
<span class="line">EmailSender=test@example.com</span>
<span class="line"> </span>
<span class="line">[RegionalSettings]</span>
<span class="line">Locale=eng-GB</span>
<span class="line">ContentObjectLocale=eng-GB</span>
<span class="line">TextTranslation=disabled</span>
<span class="line"> </span>
<span class="line">*/ ?&gt;</span>
</pre><p>In the example above the &quot;AvailableSiteAccessList[]&quot; array located in the &quot;[SiteAccessSettings]&quot; section of this file determines the available <a href="../../Exponential/Technical-manual/4.x/Concepts-and-basics/Configuration/Site-management.html">siteaccesses</a> called &quot;example&quot; and &quot;example_admin&quot;. The &quot;CheckValidity&quot; setting located in the same section should be set to false, otherwise the setup wizard will be initiated when trying to access the site.</p><p>In addition, two siteaccess configurations must be created, a public siteaccess (&quot;example&quot;) and an administration siteaccess (&quot;example_admin&quot;). The following sub-directories have to be created in the root of your Exponential installation:</p><ul><li><div>settings/siteaccess/example</div></li><li><div>settings/siteaccess/example_admin</div></li></ul><p>Both siteaccesses must have a file called &quot;site.ini.append.php&quot;.</p><p><a name="eztoc131639_3_1_1" /></p><h4>The public siteaccess</h4><p>The following text shows a generic solution for the &quot;example&quot; siteaccess:</p><pre class="wordwrap copytoclipboard"><span class="line">&lt;?php /* #?ini charset=&quot;utf-8&quot;?</span>
<span class="line"> </span>
<span class="line">[SiteSettings]</span>
<span class="line">SiteName=Example</span>
<span class="line">SiteURL=www.example.com</span>
<span class="line">LoginPage=embedded</span>
<span class="line"> </span>
<span class="line">[SiteAccessSettings]</span>
<span class="line">RequireUserLogin=false</span>
<span class="line">ShowHiddenNodes=false</span>
<span class="line"> </span>
<span class="line">[DesignSettings]</span>
<span class="line">SiteDesign=example</span>
<span class="line"> </span>
<span class="line">[ContentSettings]</span>
<span class="line">ViewCaching=disabled</span>
<span class="line"> </span>
<span class="line">[TemplateSettings]</span>
<span class="line">TemplateCache=disabled</span>
<span class="line">TemplateCompile=disabled</span>
<span class="line">#ShowXHTMLCode=enabled</span>
<span class="line">#Debug=enabled</span>
<span class="line"> </span>
<span class="line">[DebugSettings]</span>
<span class="line">DebugOutput=enabled</span>
<span class="line">Debug=inline</span>
<span class="line">#DebugRedirection=enabled</span>
<span class="line"> </span>
<span class="line">[RegionalSettings]</span>
<span class="line">SiteLanguageList[]</span>
<span class="line">SiteLanguageList[]=eng-GB</span>
<span class="line">ShowUntranslatedObjects=disabled</span>
<span class="line"> </span>
<span class="line">*/ ?&gt;</span>
</pre><p><a name="eztoc131639_3_1_2" /></p><h4>The admin siteaccess</h4><p>The following text shows a generic solution for the &quot;example_admin&quot; siteaccess:</p><pre class="wordwrap copytoclipboard"><span class="line">&lt;?php /* #?ini charset=&quot;utf-8&quot;?</span>
<span class="line"> </span>
<span class="line">[SiteSettings]</span>
<span class="line">SiteName=Example</span>
<span class="line">SiteURL=admin.example.com</span>
<span class="line">LoginPage=custom</span>
<span class="line"> </span>
<span class="line">[SiteAccessSettings]</span>
<span class="line">RequireUserLogin=true</span>
<span class="line">ShowHiddenNodes=true</span>
<span class="line"> </span>
<span class="line">[DesignSettings]</span>
<span class="line">SiteDesign=admin</span>
<span class="line"> </span>
<span class="line">[ContentSettings]</span>
<span class="line">CachedViewPreferences[full]=admin_navigation_content=0;admin_navigation_details=0;admin_navigation_languages=0;admin_navigation_locations=</span>
<span class="line">0;admin_navigation_relations=0;admin_navigation_roles=0;admin_navigation_policies=0;admin_navigation_content=0;admin_navigation_translatio</span>
<span class="line">ns=0;admin_children_viewmode=list;admin_list_limit=1;admin_edit_show_locations=0;admin_url_list_limit=10;admin_url_view_limit=10;admin_sec</span>
<span class="line">tion_list_limit=1;admin_orderlist_sortfield=user_name;admin_orderlist_sortorder=desc;admin_search_stats_limit=1;admin_treemenu=1;admin_boo</span>
<span class="line">kmarkmenu=1;admin_left_menu_width=13</span>
<span class="line"> </span>
<span class="line">[DebugSettings]</span>
<span class="line">DebugOutput=disabled</span>
<span class="line">Debug=inline</span>
<span class="line"> </span>
<span class="line">[RegionalSettings]</span>
<span class="line">SiteLanguageList[]</span>
<span class="line">SiteLanguageList[]=eng-GB</span>
<span class="line">ShowUntranslatedObjects=enabled</span>
<span class="line"> </span>
<span class="line">*/ ?&gt;</span>
</pre><p>Note that database settings, mail settings, regional and other settings defined in &quot;settings/override/site.ini.append.php&quot; will be used for each siteaccess regardless of what is specified in the siteaccess settings. In the example above, the &quot;Database=my_database&quot; is specified under the &quot;[DatabaseSettings]&quot; section of this file so this database will be used for both &quot;example&quot; and &quot;example_admin&quot; siteaccesses. Refer to the &quot;<a href="../../Exponential/Technical-manual/4.x/Concepts-and-basics/Configuration/Site-management.html">Site management</a>&quot; and &quot;<a href="../../Exponential/Technical-manual/4.x/Concepts-and-basics/Configuration.html">Configuration</a>&quot; sections of the &quot;Concepts and basics&quot; chapter for more information.</p><p><a name="eztoc131639_4" /></p><h2>Unicode support</h2><p>There is no need to override the &quot;i18n.ini&quot; configuration file since Unicode support is enabled by default in Exponential 4.</p><p><a name="eztoc131639_5" /></p><h2>Languages</h2><p>Available languages and their priorities can be controlled per siteaccess using the &quot;<a href="../../Exponential/Technical-manual/4.x/Reference/Configuration-files/site.ini/RegionalSettings/SiteLanguageList.html">SiteLanguageList</a>&quot; configuration setting located under the &quot;[RegionalSettings]&quot; section of the siteaccess &quot;site.ini.append.php&quot; file. If this setting is not specified, the system will use the old &quot;<a href="../../Exponential/Technical-manual/4.x/Reference/Configuration-files/site.ini/RegionalSettings/ContentObjectLocale.html">ContentObjectLocale</a>&quot; setting and thus only the default language will be shown. Refer to the &quot;<a href="../../index.html">Configuring the site languages</a>&quot; section for more information and examples.</p><p>The &quot;cleandata.sql&quot; script creates only one language which is the British English (eng-GB). All other languages should be added using the &quot;Setup - Languages&quot; part of the administration interface (<span class="nolink">http://admin.example.com</span> in the example above).</p><p><a name="eztoc131639_6" /></p><h2>Dynamic tree menu</h2><p>If you have a large site with many nodes, it is strongly recommended to enable the &quot;<a href="../../Exponential/Technical-manual/4.x/Reference/Configuration-files/contentstructuremenu.ini/TreeMenu/Dynamic.html">Dynamic</a>&quot; switch for your administration siteaccess. This will make the left tree menu in the administration interface work much faster and decrease the usage of network bandwidth.</p><p><a name="eztoc131639_7" /></p><h2>Administrator's log-in and password</h2><p>The following user name and password are set by the &quot;cleandata.sql&quot; script and can be used for logging in to the administration interface.</p><ul><li><div>User name: admin</div></li><li><div>Password: publish</div></li></ul><p>It is strongly recommended to change this password as soon as possible. Note that if you need another user name for site administrator, you can create a new administrator user, log in as this user and remove the old one.</p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=11403308 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 15:20:10 GMT -->
</html>
