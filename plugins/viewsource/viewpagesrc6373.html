                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=12125569 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 18:33:27 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpage6373.html?pageId=12125569" />
        <link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch934e.css?media=print" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1f2a9c4c7f2593422cc9b02d1a652a22/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/26ac2724af3c6ece1051365650d982fa/_/download/contextbatch/css/editor-content/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins.confluence-highlight-ac" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/12/_/styles/colors.css" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macrob964.png?definition=e2V4Y2VycHQtaW5jbHVkZTplWiBQdWJsaXNoIERvY3VtZW50YXRpb259&amp;locale=en_GB&amp;version=2" data-macro-name="excerpt-include" data-macro-default-parameter="Exponential Documentation"></p><p>The requirements for doing a normal installation must be met, read the &quot;<a class="confluence-link" href="../../display/EZP51/Requirements%2bfor%2bdoing%2ba%2bnormal%2binstallation.html" data-linked-resource-id="12125275" data-linked-resource-type="page" data-linked-resource-default-alias="Requirements for doing a normal installation" data-base-url="../../index.html">Requirements for doing a normal installation</a>&quot; section first!</p><p>This section will guide you through the following steps:</p><ul><li><div>Setting up / creating a database</div></li><li><div>Downloading a packaged Exponential distribution</div></li><li><div>Unpacking the Exponential distribution</div></li><li><div>Prepare the extracted files<ul><li><div>Setup folder permissions</div></li><li><div>Link your assets</div></li></ul></div></li><li><div>(Optional) Configure a <a class="confluence-link" href="../../display/EZP51/Virtual%2bhost%2bsetup.html" data-linked-resource-id="12125270" data-linked-resource-type="page" data-linked-resource-default-alias="Virtual host setup" data-base-url="../../index.html">VirtualHost</a></div></li><li><div>Initiating and going through the web based setup wizard at <code>http://&lt;your-host-name&gt;/ezsetup</code></div></li><li>(Optional) Set up cronjobs</li></ul><h2>Setting up a database</h2><p>A database must be created before running the setup wizard. The following text explains how to set up a database using either MySQL or PostgreSQL.</p><p><a name="eztoc131657_1_1" /></p><h3>MySQL</h3><ol><li><div><p>Log in as the root user (or any other MySQL user that has the <code>CREATE</code>, <code>CREATE USER</code> and <code>GRANT OPTION</code> <a href="http://dev.mysql.com/doc/refman/5.1/en/privileges-provided.html">privileges</a>):</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ mysql --host=&lt;mysql_host> --port=&lt;port> -u &lt;mysql_user> -p&lt;mysql_password></pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Note that if MySQL is installed on the same server, the &quot;<code>--host</code>&quot; parameter can be omitted. If the &quot;<code>--port</code>&quot; parameter is omitted, the default port for MySQL traffic will be used (port 3306).</p></td></tr></table><p> </p><p>The MySQL client should display a &quot;mysql&gt;&quot; prompt.</p></div></li><li><div><p>Create a new database:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>mysql> CREATE DATABASE &lt;database> CHARACTER SET utf8;</pre></td></tr></table></div></li><li><div><p>Grant access permissions:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>mysql> GRANT ALL ON &lt;database>.* TO &lt;user>@&lt;ezp_host> IDENTIFIED BY '&lt;password>';</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Note that if the specified user account does not exist, it will be created.</p></td></tr></table><p><br /><br /></p><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Reference</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">&lt;mysql_host&gt;</td><td class="confluenceTd">The hostname of the MySQL database server.</td></tr><tr><td class="confluenceTd">&lt;port&gt;</td><td class="confluenceTd">The port number that will be used to connect to the MySQL database server.</td></tr><tr><td class="confluenceTd">&lt;mysql_user&gt;</td><td class="confluenceTd">The MySQL user (if no user is set up, use &quot;<code>root</code>&quot;).</td></tr><tr><td class="confluenceTd">&lt;mysql_password&gt;</td><td class="confluenceTd">The password that belongs to the <code>&lt;mysql_user&gt;</code>.</td></tr><tr><td class="confluenceTd">&lt;database&gt;</td><td class="confluenceTd">The name of the database, for example &quot;<code>my_new_database</code>&quot;.</td></tr><tr><td class="confluenceTd">&lt;user&gt;</td><td class="confluenceTd">The username that will be used to access the database.</td></tr><tr><td class="confluenceTd">&lt;ezp_host&gt;</td><td class="confluenceTd">The hostname of the server on which Exponential will be running. (may be &quot;<code>localhost</code>&quot; if MySQL is installed on the same server).</td></tr><tr><td class="confluenceTd">&lt;password&gt;</td><td class="confluenceTd">The password you wish to set in order to limit access to the database.</td></tr></tbody></table></div></li></ol><p><a name="eztoc131657_1_2" /></p><h3>PostgreSQL</h3><ol><li><div><p>Log in as the postgres user (or any other PostgreSQL user that has sufficient <a href="http://www.postgresql.org/docs/current/interactive/sql-grant.html">privileges</a> to create roles and databases):</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ psql -h &lt;psql_host> -p &lt;port> -U &lt;psql_user> -W</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Note that if PostgreSQL is installed on the same server, the &quot;<code>-h</code>&quot; parameter can be omitted. If the &quot;<code>-p</code>&quot; parameter is omitted, the default port for PostgreSQL traffic will be used (in most cases, port 5432).</p></td></tr></table><p>The PostgreSQL client will ask you to specify the password that belongs to the <code>&lt;psql_user&gt;</code>. If the password is correct, the client should display a &quot;<code>&lt;psql_user&gt;=#</code>&quot; prompt.</p></div></li><li><div><p>Create a new database:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>postgres=# CREATE DATABASE &lt;database> ENCODING='utf8';</pre></td></tr></table></div></li><li><div><p>Create a new user:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>postgres=# CREATE USER &lt;user> PASSWORD '&lt;password>';</pre></td></tr></table></div></li><li><div><p>Grant access permissions:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>postgres=# GRANT ALL PRIVILEGES ON DATABASE &lt;database> TO &lt;user>;</pre></td></tr></table><p> </p></div><div><p>Import the &quot;<a href="http://www.postgresql.org/docs/8.3/static/pgcrypto.html">pgcrypto</a>&quot; module into the new database:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>postgres=# \c &lt;database>
&lt;database>=# \i '&lt;path_to_pgcrypto>'</pre></td></tr></table><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Reference</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">&lt;psql_host&gt;</td><td class="confluenceTd">The hostname of the PostgreSQL database server.</td></tr><tr><td class="confluenceTd">&lt;port&gt;</td><td class="confluenceTd">The port number that will be used to connect to the PostgreSQL database server.</td></tr><tr><td class="confluenceTd">&lt;psql_user&gt;</td><td class="confluenceTd">The PostgreSQL user (if no user is set up, use &quot;<code>postgresql</code>&quot;).</td></tr><tr><td class="confluenceTd">&lt;database&gt;</td><td class="confluenceTd">The name of the database, for example &quot;<code>my_new_database</code>&quot;.</td></tr><tr><td class="confluenceTd">&lt;user&gt;</td><td class="confluenceTd">The username that will be used to access the database.</td></tr><tr><td class="confluenceTd">&lt;password&gt;</td><td class="confluenceTd">The password you wish to set in order to limit access to the database.</td></tr><tr><td class="confluenceTd">&lt;path_to_pgcrypto&gt;</td><td class="confluenceTd">The path to the &quot;<code>pgcrypto.sql</code>&quot; file, for example &quot;<code>/usr/share/pgsql/contrib/pgcrypto.sql</code>&quot;.</td></tr></tbody></table><strong><br />Note for version 9.1+ of PostgreSQL users:</strong>The following changes might be necessary for these users:<table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>postgres=# \c &lt;database>
&lt;database>=# CREATE EXTENSION pgcrypto;</pre></td></tr></table></div></li></ol><h2>Downloading Exponential</h2><p>The latest community version of Exponential can be downloaded from <a href="http://share.ez.no/download-develop/downloads">http://share.ez.no/download-develop/downloads</a>, while enterprise version is available in your <a href="https://support.ez.no/">support portal</a> or via partner portal.</p><p><a name="eztoc131657_3" /></p><h2>Unpacking Exponential</h2><p>Use your favorite tool to unpack the downloaded Exponential distribution to a web-served directory (a directory that is reachable using a web browser), or in case of virtual host mode it can be any folder. The following example shows how to do this using the tar utility (to unpack a tar.gz file, assuming that the &quot;tar&quot; and the &quot;gzip&quot; utilities are installed on the system):</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>$ tar zxvf exponential-&lt;version_number>-gpl.tar.gz -C &lt;web_served_directory></pre></td></tr></table><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Reference</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><code>&lt;version_number&gt;</code></td><td class="confluenceTd">The version number of Exponential that was downloaded.</td></tr><tr><td class="confluenceTd"><code>&lt;web_served_directory&gt;</code></td><td class="confluenceTd">Full path to a directory that is served by the web server. This can be the path to the document root of the web server, or a personal web-directory (usually called &quot;<code>public_html</code>&quot; or &quot;<code>www</code>&quot;, and located inside a user's home directory).</td></tr></tbody></table><p> </p><p>The extraction utility will unpack Exponential into a sub-directory called &quot;<code>exponential-&lt;version_number&gt;</code>&quot;. Feel free to rename this directory to something more meaningful, for example &quot;<code>my_site</code>&quot;.</p><p><a name="eztoc131657_4" /></p><h2>Setting up folder permission</h2><p>Several cache, log and config folders must be writable both by the web server and the command line user, use <em>one</em> of the following two alternatives to do this:</p><ul><li><div><strong>Shell commands<br /></strong><br />These shell commands will give proper permission to the web server and command line users:<p> </p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>cd /&lt;ezp5-root>/
chmod -R a+rwx exponential/{cache,logs,config} \
    exponential_legacy/{design,extension,settings,var}</pre></td></tr></table></div></li></ul><pre class="wordwrap"> </pre><ul><li><div><strong>Recommended shell commands using setfacl<br /><br /></strong>These commands will setup the permission more correctly, but require use of <code>setfacl</code> which is not available on all systems (change &quot;<code>www-data</code>&quot; to your web server user if your system uses something else):<p> </p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>cd /&lt;ezp5-root>/
sudo setfacl -R -m u:www-data:rwx -m u:www-data:rwx \
    exponential/{cache,logs,config} \
    exponential_legacy/{design,extension,settings,var}
sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx \
    exponential/{cache,logs,config} \
    exponential_legacy/{design,extension,settings,var}</pre></td></tr></table></div></li></ul><h2>Link assets</h2><p>To be able to run Exponential 5 correctly, assets need to be exposed in the public &quot;<code>web</code>&quot; folder.</p><p>The following commands will first symlink Exponential 5 assets in &quot;Bundles&quot; and the second will symlink assets (design files like images, scripts and css, and files in var folder)  from Exponential Legacy</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>cd /&lt;ezp5-root>
php exponential/console assets:install --symlink web
php exponential/console exponential:legacy:assets_install --symlink web

# For 5.1 / 2013.4 and higher, also:
php exponential/console assetic:dump --env=prod web</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p><em><strong>Note</strong>: In both cases </em>&quot;<code>web</code>&quot;<em> is the default folder and can be skipped from the command. Further information about alternative options is available with <code>-h</code> just like it is with</em> &quot;<code>php exponential/console -h</code>&quot;.</p></td></tr></table><h2>Initiating the setup wizard</h2><p>The setup wizard can be started using a web browser immediately after the previous steps (described in this section) are completed. It will be automatically run the first time someone tries to access/browse the &quot;<code>/ezsetup</code>&quot; url. Let's assume that we are using a server with the host name &quot;<code>www.example.com</code>&quot; and that after unpacking, the Exponential directory was renamed to &quot;<code>my_site</code>&quot;.</p><p><a name="eztoc131657_6_3" /></p><h3>Document root example</h3><p>If Exponential was unpacked into a directory called &quot;<code>my_site</code>&quot; under the document root, the setup wizard can be initiated by browsing the following URL: <code><span class="nolink">http://www.example.com/my_site/web/index.php/ezsetup</span></code>.</p><p><a name="eztoc131657_6_4" /></p><h3>Home directory example</h3><p>If Exponential was unpacked to a web-served directory located inside the home directory of a user with the user name &quot;<code>peter</code>&quot;, (usually called &quot;<code>public_html</code>&quot;, &quot;<code>www</code>&quot;, &quot;<code>http</code>&quot;, &quot;<code>html</code>&quot; or &quot;<code>web</code>&quot;), the setup wizard can be initiated by browsing the following URL: <code><span class="nolink">http://www.example.com/~peter/my_site/web/index.php/ezsetup</span></code>.</p><p><a name="eztoc131657_6_5" /></p><h3>Virtual host example</h3><p>If you have setup the host name www.example.com to point to the web folder of Exponential using <a class="confluence-link" href="../../display/EZP51/Virtual%2bhost%2bsetup.html" data-linked-resource-id="12125270" data-linked-resource-type="page" data-linked-resource-default-alias="Virtual host setup" data-base-url="../../index.html">rewrite</a> rules, then you should access it at: <code><span class="nolink">http://www.example.com/ezsetup</span></code>.</p><p>Refer to the &quot;<a class="confluence-link" href="../../display/EZP51/The%2bsetup%2bwizard.html" data-linked-resource-id="12125284" data-linked-resource-type="page" data-linked-resource-default-alias="The setup wizard" data-base-url="../../index.html">The setup wizard</a>&quot; section for a detailed description of the web based setup wizard.</p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=12125569 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 18:33:27 GMT -->
</html>
