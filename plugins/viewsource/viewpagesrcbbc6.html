                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=6292869 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 09:09:43 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpagebbc6.html?pageId=6292869" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/51/_/styles/colorsb538.css?spaceKey=EZP" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/51/_/styles/customb538.css?spaceKey=EZP" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <h2>Installation</h2><p>Nothing needs to be done for this to work. As long as your Exponential 5 is correctly configured, the REST API is available on your site using the URI <code>/api/ezp/v2/</code>. If you have installed Exponential in a subfolder, prepend the path with this subfolder: <span class="nolink">http://example.com/<strong>su</strong></span><strong>b/folder/exponential</strong>/api/ezp/v2/.</p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="9699cb96-5923-4390-bb7c-f0db3e0377eb" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Please note that the <code>/api/ezp/v2</code> prefix will be used in all REST hrefs, but not in URIs.</p></td></tr></table><h2>Configuration</h2><h3>Authentication</h3><p>As explained in more detail in the <a class="confluence-link" href="../../display/EZP/REST%2bAPI%2bAuthentication.html" data-linked-resource-id="6292522" data-linked-resource-version="29" data-linked-resource-type="page" data-linked-resource-default-alias="REST API Authentication" data-base-url="../../index.html">authentication chapter</a>, two authentication methods are currently supported: session, and basic. By default, basic authentication is the active mode. It requires a login / password to be sent using <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">basic HTTP authentication</a>. The alternative, session based authentication, uses a session cookie. </p><p>To enable session based authentication, you need to edit <code><span>exponential/config/</span><span>security</span><span>.yml</span></code>, and comment out / remove the configuration block about REST</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="4d9d8e0e-cb2d-482b-84ad-9db8f831214d" data-macro-parameters="language=none|title=security.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headinge1e1.png?definition=e2NvZGU6bGFuZ3VhZ2U9bm9uZXx0aXRsZT1zZWN1cml0eS55bWx9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>security:
    # ...
    firewalls:
        # ...
        exponential_rest:
            pattern: ^/api/ezp/v2
            exponential_http_basic:
                realm: Exponential REST API</pre></td></tr></table><h2>Testing the API</h2><p>A standard web browser is not sufficient to fully test the API. You can however try opening the root resource with it, using basic authentication: <span class="nolink"><u>http://admin:publish@example.com/api/ezp/v2/</u>.</span> Depending on how your browser understands XML, it will either download the XML file, or open it in the browser.</p><p>To test further, you can use browser extensions, like <a href="https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo">Advanced REST client for Chrome</a> or <a href="https://addons.mozilla.org/firefox/addon/restclient/">RESTClient for Firefox</a>, or dedicated tools. For command line users, <a href="https://github.com/jkbr/httpie">HTTPie</a> is a good tool.</p><h3>Javascript example</h3><p>One of the main reasons for this API is to help implementing Javascript / AJAX interaction. You can see here an example of an AJAX call that retrieves ContentInfo (e.g. metadata) for a content item.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="7b1619a7-438f-4d7b-8de6-a2685fbb0c24" data-macro-parameters="language=html/xml|title=REST API with Javascript" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading2180.png?definition=e2NvZGU6bGFuZ3VhZ2U9aHRtbC94bWx8dGl0bGU9UkVTVCBBUEkgd2l0aCBKYXZhc2NyaXB0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;pre id="rest-output">&lt;/pre>
&lt;script>
var resource = '/api/ezp/v2/content/objects/59',
    log = document.getElementById( 'rest-output' );
log.innerHTML = "Loading the content info from " + resource + "...";
   
var request = new XMLHttpRequest();
request.open('GET', resource, true);
request.onreadystatechange = function () {
    if ( request.readyState === 4 ) {
        log.innerHTML = "HTTP response from " + resource + "\n\n" + request.getAllResponseHeaders() + "\n" + request.responseText;
    }
};
request.setRequestHeader('Accept', 'application/vnd.ez.api.ContentInfo+json');
request.send();
&lt;/script></pre></td></tr></table><p>In order to test it, just save this code to some test.html file in the web folder of your Exponential 5 installation. If you use the rewrite rules, don't forget to allow this file to be served directly.</p><p>If necessary, change 59 with the content object id of an object from your database. You will get the ContentInfo for object 59 in JSON encoding.  </p><p>Note that by default, basic authentication is used. You can either add a valid login/password in the URI, or submit them when asked to by the browser. An alternative is to switch to session based authentication, as explained earlier in this page. In that case, the session cookie will be transparently sent together with the request, and every AJAX call will have the same permissions as the currently logged in user.</p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=6292869 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 09:09:44 GMT -->
</html>
