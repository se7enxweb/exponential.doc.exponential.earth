                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=19891591 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 09:52:38 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpagecbda.html?pageId=19891591" />
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/f3685658010e413141854089096800b5/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/df762e50bc83a9608020a1ff1476cda6-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5a0f37b8e5a58a48983bc1f25fb099f6/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/5714bd5a5c86641cad10106916cda7c8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/49f5f7dfc888d48bff618d087d8044cc/_/download/contextbatch/css/editor-content/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/51/_/styles/colorsb538.css?spaceKey=EZP" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/51/_/styles/customb538.css?spaceKey=EZP" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <p><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro4170.png?definition=e3RvY30&amp;locale=en_GB&amp;version=2" data-macro-name="toc" data-macro-id="0e5a3f1d-4364-488d-8c3e-3f96aac7c892" data-macro-schema-version="1"></p><p>The <strong>content repository</strong> is where all your content is been stored. It is the heart of Exponential which you interact with using Public API.</p><p>To store data, the content repository <strong>uses a storage engine</strong>, that can virtually can work with any kind of storage (RDBMS, NoSQL...). Exponential 5 comes with a relational storage engine, compatible with v4.x: the <strong>Legacy storage engine</strong>, which is the default.</p><p>You can define several repositories within a single application. However, you can only use one per site.</p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="356233f2-4926-46b1-800c-0a305634513f" data-macro-parameters="title=Version compatibility" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading77d5.png?definition=e25vdGU6dGl0bGU9VmVyc2lvbiBjb21wYXRpYmlsaXR5fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Following configuration examples are compatible withÂ <strong>Exponential 5.3 / 2014.03</strong></p></td></tr></table><h2>Configuration examples</h2><h3>Using default values</h3><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="0719bc88-6e2f-415d-be18-4857d02e7ffa" data-macro-parameters="title=exponential.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading8bc7.png?definition=e2NvZGU6dGl0bGU9ZXpwdWJsaXNoLnltbH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>exponential:
    repositories:
        # Defining repository with alias "main"
        # Default storage engine is used, with default connection
        # Equals to:
        # main: { engine: legacy, connection: &lt;defaultConnectionName> }
        main: ~

    system:
        # All members of my_siteaccess_group will use "main" repository
        # No need to set "repository", it will take the first defined repository by default
        my_siteaccess_group:
            # ...</pre></td></tr></table><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="ae876346-0501-4f4d-bace-6a3d532dfc47" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-headingd35c.png?definition=e2luZm99&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>If no repository is specified for a siteaccess or siteaccess group, the first defined repository (under <code>exponential.repositories</code>) will be used.</p></td></tr></table><h3>All explicit</h3><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="49093e97-ed2b-4fca-b426-7f1abf58336c" data-macro-parameters="title=exponential.yml" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading8bc7.png?definition=e2NvZGU6dGl0bGU9ZXpwdWJsaXNoLnltbH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>doctrine:
    dbal:
        default_connection: my_connection_name
        connections:
            my_connection_name:
                driver:   pdo_mysql
                host:     localhost
                port:     3306
                dbname:   my_database
                user:     my_user
                password: my_password
                charset:  UTF8

            another_connection_name:
                # ...

exponential:
    repositories:
        first_repository: { engine: legacy, connection: my_connection_name, config: {} }
        second_repository: { engine: legacy, connection: another_connection_name, config: {} }

    # ...

    system:
        my_first_siteaccess:
            repository: first_repository

            # ...

        my_second_siteaccess:
            repository: second_repository</pre></td></tr></table><h3>Legacy storage engine</h3><p><span>As of Exponential 5.3, legacy storage engine uses <a href="http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/">Doctrine DBAL</a> (Database Abstraction Layer). Database settings are supplied by <a href="https://github.com/doctrine/DoctrineBundle">DoctrineBundle</a>. As such, you can refer to <a href="https://github.com/doctrine/DoctrineBundle/blob/master/Resources/doc/configuration.rst#doctrine-dbal-configuration">DoctrineBundle's documentation</a>.</span></p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="87fd5c6f-e220-4f24-8695-b7cb1ff0ab4d" data-macro-parameters="title=ORM" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading6a47.png?definition=e2luZm86dGl0bGU9T1JNfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Doctrine ORM is <strong>not</strong> provided by default. If you want to use it, you will need to add <code>doctrine/orm</code> as a dependency in your <code>composer.json</code>.</p></td></tr></table><h3>Limit of archived Content item versions</h3><p><img class="editor-inline-macro" height="18" width="88" src="../servlet/status-macro/placeholdera25c.png?=&amp;0=&amp;colour=Yellow&amp;title=v5.4.10" data-macro-name="status" data-macro-id="52331583-f432-4878-b9e0-ad08670b5d99" data-macro-parameters="colour=Yellow|title=v5.4.10" data-macro-default-parameter="" data-macro-schema-version="1"></p><p><code>default_version_archive_limit</code> controls the number of archived versions per Content item that will be stored in the repository, by default set to 5. This setting is configured in the following way (typically in <code>exponential.yml</code>):</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="e0f55152-9441-40e2-9ff2-c816f3fa35f8" data-macro-schema-version="1" style="background-image: url(../servlet/confluence/placeholder/macro-heading34e7.png?definition=e2NvZGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>exponential:
    repositories:
        default:
            options:
                default_version_archive_limit: 10</pre></td></tr></table><p><span>This limit is enforced on publishing a new version and only covers archived versions, not drafts.<br /> </span></p><p>Â </p><p>Â </p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=19891591 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 09:52:39 GMT -->
</html>
