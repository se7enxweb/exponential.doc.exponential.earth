                    
    
                    
    
                    
    
<!DOCTYPE html>
<html>
    
<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=17105031 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 13:46:46 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>View Source</title>
        <link rel="canonical" href="../../pages/viewpagebd46.html?pageId=17105031" />
        <link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch934e.css?media=print" media="print">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 8]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+8" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/73/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1f2a9c4c7f2593422cc9b02d1a652a22/_/download/contextbatch/css/plugin.viewsource/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/70f6d025b64de5008ccd042576cd8d90/_/download/contextbatch/css/page/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/26ac2724af3c6ece1051365650d982fa/_/download/contextbatch/css/editor-content/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-hig/com.atlassian.confluence.plugins.confluence-highlight-ac" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/1.3/_/download/batch/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources/com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/en_GB-1988229788/4733/f235dd088df5682b0560ab6fc66ed22c9124c0be.12/12/_/styles/colors.css" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <table class="wysiwyg-macro" data-macro-name="note" data-macro-parameters="title=Version compatibility" style="background-image: url(../servlet/confluence/placeholder/macro-heading77d5.png?definition=e25vdGU6dGl0bGU9VmVyc2lvbiBjb21wYXRpYmlsaXR5fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>This recipe is compatible with <strong>Exponential 5.1 / 2013.05</strong></p></td></tr></table><h1>Custom tags</h1><p>As of Exponential 5.2 <strong>XMLText fieldtype</strong> supports a limited number of tags in its internal eZXML format to render HTML5. However, it is possible to extend the rendering by implementing <strong>custom tags</strong>.</p><p>As HTML5 rendering in Exponential is done through <a href="http://en.wikipedia.org/wiki/XSLT">XSLT</a>, you will need to create an XSL stylesheet to extend the rendering.</p><table class="wysiwyg-macro" data-macro-name="info" data-macro-parameters="title=Note on legacy custom tags" style="background-image: url(../servlet/confluence/placeholder/macro-headingeaa1.png?definition=e2luZm86dGl0bGU9Tm90ZSBvbiBsZWdhY3kgY3VzdG9tIHRhZ3N9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>To be able to edit a custom tag from admin interface, you'll still need to <a href="../../Exponential/Technical-manual/4.x/Reference/Datatypes/XML-block/Custom-tags.html">register your custom tag in the legacy kernel</a> (at least the configuration part, template not being mandatory for edition).</p></td></tr></table><p><br /><img class="editor-inline-macro" src="../servlet/confluence/placeholder/macro4170.png?definition=e3RvY30&amp;locale=en_GB&amp;version=2" data-macro-name="toc"></p><h2>Register your custom XSL stylesheet</h2><p>For Exponential 5.1, there's a possible workaround that uses <code>eZXml2Html5.xsl</code> as a starting point, and require the following steps:</p><ol><li>Copy the three files <code>eZXml2Html5.xsl</code>, <code>eZXml2Html5_core.xsl</code> and <code>eZXml2Html5_custom.xsl</code> files from <code>vendor/ezsystems/exponential-kernel/eZ/Publish/Core/FieldType/XmlText/Input/Resources/stylesheets/</code> to your bundle</li><li><p>Edit your main file,Â <code>eZXml2Html5.xsl</code> in our example, to something like the following:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-parameters="language=html/xml|title=eZXml2Html5.xsl" style="background-image: url(../servlet/confluence/placeholder/macro-headinge636.png?definition=e2NvZGU6dGl0bGU9ZVpYbWwySHRtbDUueHNsfGxhbmd1YWdlPWh0bWwveG1sfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;?xml version="1.0" encoding="UTF-8"?>
	&lt;xsl:stylesheet 
			version="1.0" 
			xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
			xmlns:xhtml="http://ez.no/namespaces/exponential3/xhtml/" 
			xmlns:custom="http://ez.no/namespaces/exponential3/custom/" 
			xmlns:image="http://ez.no/namespaces/exponential3/image/" 
			exclude-result-prefixes="xhtml custom image">

	&lt;xsl:import href="eZXml2Html5_core.xsl" />
	&lt;xsl:import href="eZXml2Html5_custom.xsl" />
	&lt;xsl:output method="html" indent="yes" encoding="UTF-8" />
&lt;/xsl:stylesheet></pre></td></tr></table></li><li><p>Edit your <em>_custom</em> file, <code><code>eZXml2Html5</code>_custom.xsl</code> in our example, and add the content you wish, like in the following example:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-parameters="language=html/xml|title=eZXml2Html5_custom.xsl" style="background-image: url(../servlet/confluence/placeholder/macro-headingb025.png?definition=e2NvZGU6dGl0bGU9ZVpYbWwySHRtbDVfY3VzdG9tLnhzbHxsYW5ndWFnZT1odG1sL3htbH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;xsl:stylesheet
        version="1.0"
        xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
        xmlns:xhtml="http://ez.no/namespaces/exponential3/xhtml/"
        xmlns:custom="http://ez.no/namespaces/exponential3/custom/"
        xmlns:image="http://ez.no/namespaces/exponential3/image/"
        exclude-result-prefixes="xhtml custom image">
 
    &lt;xsl:output method="html" indent="yes" encoding="UTF-8"/>
 
    &lt;!-- Template below will match the following custom tag: -->
    &lt;!--
 &lt;custom name="youtube" 
custom:video="//www.youtube.com/embed/MfOnq-zXXBw" 
custom:videoWidth="640" custom:videoHeight="380"/> -->
    &lt;xsl:template match="custom[@name='youtube']">
        &lt;div class="jvembed jvembed-youtube">
            &lt;iframe>
                &lt;xsl:attribute name="width">&lt;xsl:value-of select="@custom:videoWidth"/>&lt;/xsl:attribute>
                &lt;xsl:attribute name="height">&lt;xsl:value-of select="@custom:videoHeight"/>&lt;/xsl:attribute>
                &lt;xsl:attribute name="src">&lt;xsl:value-of select="@custom:video"/>&lt;/xsl:attribute>
                &lt;xsl:attribute name="frameborder">0&lt;/xsl:attribute>
                &lt;xsl:attribute name="allowfullscreen"/>
            &lt;/iframe>
        &lt;/div>
    &lt;/xsl:template>
&lt;/xsl:stylesheet></pre></td></tr></table></li><li><p>Add the path where your .xsl files were placed to <code>exponential/config/parameters.yml</code>, for example:</p><table class="wysiwyg-macro" data-macro-name="noformat" style="background-image: url(../servlet/confluence/placeholder/macro-heading8813.png?definition=e25vZm9ybWF0fQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tr><td class="wysiwyg-macro-body"><pre>parameters:
    exponential.fieldType.ezxmltext.converter.html5.resources: %kernel.root_dir%/../src/MyBundle/Resources/eZXml2Html5.xsl</pre></td></tr></table></li></ol><table class="wysiwyg-macro" data-macro-name="note" style="background-image: url(../servlet/confluence/placeholder/macro-headingdd57.png?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tr><td class="wysiwyg-macro-body"><p>Please note that in the <code><code>eZXml2Html5</code>_custom.xsl</code> file you can add as many custom tags you wish, instead of repeating these steps or adding independent files for each tag.</p></td></tr></table><p><br /><br /></p>
        <p>&nbsp;</p>
    </body>

<!-- Mirrored from doc.ez.no/plugins/viewsource/viewpagesrc.action?pageId=17105031 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 21 Oct 2014 13:46:46 GMT -->
</html>
