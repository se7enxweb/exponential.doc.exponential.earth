<!DOCTYPE html>
<html>

<!-- Mirrored from doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711262 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:01:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <title>Extending the REST API - TECHDOC - eZ Documentation</title>

        

                        
    
                        
    
                        
    

    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="../../index.html">

<meta id="atlassian-token" name="atlassian-token" content="9996d8127abd36d1b757536de859090f8b455d10">


<meta id="confluence-space-key" name="confluence-space-key" content="TECHDOC">
<script type="text/javascript">
        var contextPath = '';
</script>

    

    <meta name="confluence-request-time" content="1485852615593">
        
    
        
            <meta name="ajs-is-space-admin" content=""> <meta name="ajs-has-space-config" content="">
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="$discoveredList">
            <meta name="stp-license-product-name" content="Confluence"/> <meta name="stp-license-days-to-expiry" content="807"/> <meta name="stp-license-is-admin" content="false"/> <meta name="stp-license-should-keep-banner-hidden" content="true"/>
            <meta name="ajs-keyboardshortcut-hash" content="206314443b3cf79696d4ad89324a059c">
            <meta id="team-calendars-has-jira-link" content="true">
            <meta name="ajs-team-calendars-display-time-format" content="displayTimeFormat12">
            <meta id="team-calendars-user-timezone" content="UTC">
            <script type="text/x-template" id="team-calendars-messages" title="team-calendars-messages"><fieldset class="i18n hidden"><input type="hidden" name="calendar3.month.long.july" value="July"><input type="hidden" name="calendar3.day.short.wednesday" value="Wed"><input type="hidden" name="calendar3.day.short.thursday" value="Thu"><input type="hidden" name="calendar3.month.short.march" value="Mar"><input type="hidden" name="calendar3.month.long.april" value="April"><input type="hidden" name="calendar3.month.long.october" value="October"><input type="hidden" name="calendar3.month.long.august" value="August"><input type="hidden" name="calendar3.month.short.july" value="Jul"><input type="hidden" name="calendar3.month.short.may" value="May"><input type="hidden" name="calendar3.month.short.november" value="Nov"><input type="hidden" name="calendar3.day.long.friday" value="Friday"><input type="hidden" name="calendar3.day.long.sunday" value="Sunday"><input type="hidden" name="calendar3.day.long.saturday" value="Saturday"><input type="hidden" name="calendar3.month.short.april" value="Apr"><input type="hidden" name="calendar3.day.long.wednesday" value="Wednesday"><input type="hidden" name="calendar3.month.long.december" value="December"><input type="hidden" name="calendar3.month.short.october" value="Oct"><input type="hidden" name="calendar3.day.long.monday" value="Monday"><input type="hidden" name="calendar3.month.short.june" value="Jun"><input type="hidden" name="calendar3.day.short.monday" value="Mon"><input type="hidden" name="calendar3.day.short.tuesday" value="Tue"><input type="hidden" name="calendar3.day.short.saturday" value="Sat"><input type="hidden" name="calendar3.month.long.march" value="March"><input type="hidden" name="calendar3.month.long.june" value="June"><input type="hidden" name="calendar3.month.short.february" value="Feb"><input type="hidden" name="calendar3.month.short.august" value="Aug"><input type="hidden" name="calendar3.month.short.december" value="Dec"><input type="hidden" name="calendar3.day.short.sunday" value="Sun"><input type="hidden" name="calendar3.month.long.february" value="February"><input type="hidden" name="calendar3.day.long.tuesday" value="Tuesday"><input type="hidden" name="calendar3.month.long.may" value="May"><input type="hidden" name="calendar3.month.long.september" value="September"><input type="hidden" name="calendar3.month.long.november" value="November"><input type="hidden" name="calendar3.month.short.january" value="Jan"><input type="hidden" name="calendar3.month.short.september" value="Sep"><input type="hidden" name="calendar3.day.long.thursday" value="Thursday"><input type="hidden" name="calendar3.month.long.january" value="January"><input type="hidden" name="calendar3.day.short.friday" value="Fri"></fieldset></script>
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            
    
    
            <meta name="ajs-page-id" content="30711255">
            <meta name="ajs-latest-page-id" content="30711255">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="Extending the REST API">
            <meta name="ajs-parent-page-title" content="REST API Tutorials">
            <meta name="ajs-parent-page-id" content="30711247">
            <meta name="ajs-space-key" content="TECHDOC">
            <meta name="ajs-space-name" content="TECHDOC">
            <meta name="ajs-comment-id" content="30711262">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://doc.ez.no">
            <meta name="ajs-version-number" content="5.8.5">
            <meta name="ajs-build-number" content="5983">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-remote-user-key" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_">
            <meta name="ajs-global-settings-attachment-max-size" content="10485760">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,file-annotations,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,confluence-inline-comments-dangling-comment,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent">
            <meta name="ajs-atl-token" content="9996d8127abd36d1b757536de859090f8b455d10">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="dd MMM yyyy">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch/osd.action" title="eZ Documentation"/>

<script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:atlassian-nps-plugin-resources.is-server-instance-data-provider"]="true";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details"]="{\"daysBeforeLicenseExpiry\":0,\"daysBeforeMaintenanceExpiry\":0,\"showLicenseExpiryBanner\":false,\"showMaintenanceExpiryBanner\":false,\"renewUrl\":null,\"salesEmail\":null}";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-javascript-data.link-active"]="{\"linkActive\":false,\"conditionsMet\":true,\"admin\":false}";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:nps-acknowledgement-resources.analytics-enabled-data-provider"]="\"false\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:nps-acknowledgement-resources.sen-data-provider"]="\"SEN-2255945\"";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode"]="false";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api.feature-data-provider"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/fcf875d0c4710a8c828036f5c6fb7fa5-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/b8d35340d2d85de2791f14a4692ecf7b/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop%2cmain%2cvi/batchd6a4.css?highlightactions=true&amp;flavour=VANILLA&amp;locale=en-GB" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/6c0981174e94142364564819dc0d1413-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/b8d35340d2d85de2791f14a4692ecf7b/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,atl.general,page,atl.comments/batch.css?conditionalComment=lt+IE+9&amp;locale=en-GB" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/7893b9affdc3bf828ad93d0610d3d5f3-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/b8d35340d2d85de2791f14a4692ecf7b/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,atl.general,page,atl.comments/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/3a21f7b21af4c67045d1e0255f2ac570/_/download/contextbatch/css/theme.doc/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/3.7.2/_/download/batch/confluence.extra.information_information-plugin/confluence.extra.information_information-plugin-adg-styles.cc" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.8.6/_/download/batch/org.randombits.confluence.toc_toc-plugin-styles/org.randombits.confluence.toc_toc-plugin-styles.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.1.7/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext.newcode-macro-plugin_syntaxhighl" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.1.7/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext.newcode-macro-plugin_sh-theme-ec" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8/_/styles/colors82a8.css?spaceKey=TECHDOC" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/8/_/styles/custom82a8.css?spaceKey=TECHDOC" media="all">
<script type="text/javascript" src="../../s/1f7b22082ef39a4bb134622dae929bdc-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/js/batch32f4.js?atlassian.aui.raphael.disabled=true&amp;locale=en-GB&amp;build-number=5983" ></script>
<script type="text/javascript" src="../../s/aa56759c03dcb293b394c4b46058625c-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/b8d35340d2d85de2791f14a4692ecf7b/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop%2cmain%2cvi/batcha41c.js?highlightactions=true&amp;flavour=VANILLA&amp;locale=en-GB&amp;anonymous-access-enabled=true&amp;is-server-instance=true&amp;hostenabled=true" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.8.6/_/download/batch/org.randombits.confluence.toc_client-side-toc-r/org.randombits.confluence.toc_client-side-toc-resources.cf.de" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.8.6/_/download/batch/org.randombits.confluence.toc_toc-plugin-analytics/org.randombits.confluence.toc_toc-plugin-analytics.js" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.1.7/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext-2.newcode-macro-plugin_syntaxhighl" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.1.7/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext-3.newcode-macro-plugin_syntaxhighl" ></script>
<script type="text/javascript" src="../../s/6c0981174e94142364564819dc0d1413-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.1.7/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext.newcode-macro-plugin_syntaxhighl?locale=en-GB" ></script>


        
            <meta name="stp-license-product-name" content="Confluence"/> <meta name="stp-license-days-to-expiry" content="807"/> <meta name="stp-license-is-admin" content="false"/> <meta name="stp-license-should-keep-banner-hidden" content="true"/>
    

        
        <meta name="ajs-site-title" content="eZ Documentation" />

    
    

    
                <link rel="canonical" href="Extending%2bthe%2bREST%2bAPI.html">
        <link rel="shortlink" href="Extending%2bthe%2bREST%2bAPI.html">
    <meta name="wikilink" content="[TECHDOC:Extending the REST API]">
    <meta name="page-version" content="4">

</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout">

        
            <div id='stp-licenseStatus-banner'></div>
    <div id="full-height-container">
    <div id="header-precursor">
        
                    </div>






<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class=" aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-controls="app-switcher" aria-haspopup="true" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default"><div class="app-switcher-loading">Loading&hellip;</div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="../../index.html"><img src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/logo/atl.site.logo" alt="eZ Documentation" /></a></h1><ul class="aui-nav">
                            <li>
            
        
        
<a  id="space-directory-link" href="../../spacedirectory/view.html"  class=" aui-nav-imagelink"   title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                            <li id="browseMenu" role="menu">
            
    
        <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse">
        <span class="browse">Browse</span>
    </a>
    <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul  id="browse-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a  id="space-pages-link" href="../../pages/listpages-alphaview9287.html?key=TECHDOC" class="    "      title="Browse pages in the TECHDOC space" >
        Pages
</a>
</li>
                                            <li>
    
            
<a  id="space-blogposts-link" href="../../pages/viewrecentblogposts9287.html?key=TECHDOC" class="    "      title="Browse blogs in the TECHDOC space" >
        Blog
</a>
</li>
                                            <li>
    
            
<a  id="space-labels-link" href="../../labels/listlabels-heatmap9287.html?key=TECHDOC" class="    "      title="Browse labels in the TECHDOC space" >
        Labels
</a>
</li>
                                            <li>
    
            
<a  id="space-advanced-link" href="../../spaces/viewspacesummary9287.html?key=TECHDOC" class="    "      title="Browse additional space functions in the TECHDOC space" >
        Space Operations
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
        </li>
        </ul>
</div><div class="aui-header-secondary"><ul class="aui-nav">
            <li>
        
    
            
<a  id="doctheme-anchor" href="#"  class=" aui-nav-imagelink"   title="">
            <span></span>
    </a>
    </li>
                    <li>
        <form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="https://doc.ez.no/dosearchsite.action" method="get"><fieldset><input type="hidden" name="where" value="TECHDOC"/><input type="hidden" name="spaceSearch" value="true"/><label for="quick-search-query" class="assistive">Quick Search</label><input id="quick-search-query" class="text app-search search quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" title="Quick Search" placeholder="Search space" /><input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search"/><div class="aui-dd-parent quick-nav-drop-down"></div></fieldset></form>
    </li>
        <li>
            
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help">
        <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul  id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
        
            
<a  id="confluence-help-link" href="https://docs.atlassian.com/confluence/docs-58/Getting+Help+And+Support" class="    "      title="Visit the Confluence documentation home"  target="_blank"
>
        Online Help
</a>
</li>
                                            <li>
    
                
<a  id="keyboard-shortcuts-link" href="#" class="    "      title="View available keyboard shortcuts" >
        Keyboard Shortcuts
</a>
</li>
                                            <li>
    
            
<a  id="feed-builder-link" href="../../dashboard/configurerssfeed.html" class="    "      title="Create your custom RSS feed." >
        Feed Builder
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="https://docs.atlassian.com/confluence/docs-58/whatsnew/iframe" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
                
<a  id="gadget-directory-link" href="#" class="   user-item administration-link "      title="Browse gadgets provided by Confluence" >
        Available Gadgets
</a>
</li>
                                            <li>
    
            
<a  id="confluence-about-link" href="../../aboutconfluencepage.html" class="    "      title="Get more information about Confluence" >
        About Confluence
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
    </li>
        <li>
                
    
    </li>
        <li>
            
    </li>
        <li>
                                            <li>
        
            
<a  id="login-link" href="../../login970a.html?os_destination=%2Fdisplay%2FTECHDOC%2FExtending%2Bthe%2BREST%2BAPI%3FfocusedCommentId%3D30711262" class="   user-item login-link "      title="" >
        Log in
</a>
</li>
                        
    </li>
    </ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    <div id="splitter">
    <div id="splitter-sidebar"  class="padding-div" >
        
        <p>&nbsp;</p>
<h4><a name="ExtendingtheRESTAPI-&amp;nbsp;General"></a>&nbsp; General</h4>
<p><font color="#999">&bull;</font>&nbsp;&nbsp;<a href="http://ez.no/" class="external-link" rel="nofollow">eZ Systems Website</a><br/>
<font color="#999">&bull;</font>&nbsp;&nbsp;<a href="../DEVELOPER/Documentation.html" class="external-link" rel="nofollow">Technical documentation</a><br/>
<font color="#999">&bull;</font>&nbsp;&nbsp;<a href="../USER.html" class="external-link" rel="nofollow">Editor documentation</a></p>

<p>This Documentation contains:<br/>
&nbsp;<br/>
<a href="eZ%2bTechnical%2bManual.html"><strong>Technical documentation:</strong></a></p>
    

                    
    


<div class="plugin_pagetree">

        
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input type="hidden" name="treeId" value="">
        <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false">
        <input type="hidden" name="treePageId" value="30711255">

        <input type="hidden" name="noRoot" value="false">
        <input type="hidden" name="rootPageId" value="30711113">

        <input type="hidden" name="rootPage" value="">
        <input type="hidden" name="startDepth" value="0">
        <input type="hidden" name="spaceKey" value="TECHDOC" >

        <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
        <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page.">
        <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
        <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fpages%2Fviewpage.action%3FspaceKey%3DTECHDOC%26title%3DExtending%2Bthe%2BREST%2BAPI%26focusedCommentId%3D30711262">
        <input type="hidden" name="mobile" value="false">

                <fieldset class="hidden">
                                                <input type="hidden" name="ancestorId" value="30711247">
                                    <input type="hidden" name="ancestorId" value="30711490">
                                    <input type="hidden" name="ancestorId" value="30711837">
                                    <input type="hidden" name="ancestorId" value="30711113">
                                    </fieldset>
    </fieldset>
</div>



            </div>
    <div id="splitter-content">

                    <script type="text/javascript" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5.8.5/_/download/resources/com.atlassian.confluence.plugins.doctheme_resources/doc-theme.js"></script>
    
                        
        <div id="theme-header">
            <div class="sectionColumnWrapper"><div class="sectionMacro">
<div class="sectionMacroRow"><div class="columnMacro"></div>
<div class="columnMacro">
<div class="panel" style="background-color: #EDBB43;border-color: #F58220;border-style: solid;border-width: 1px;"><div class="panelContent" style="background-color: #EDBB43;">
<p><br class="atl-forced-newline" /> <br class="atl-forced-newline" />
<strong>⚠ WARNING ! This documentation is deprecated !</strong><br class="atl-forced-newline" /> <br class="atl-forced-newline" /> </p>
<h1><a name="ExtendingtheRESTAPI-Pleasegoto[thecurrentTechnicalDocumentation|DEVELOPER:]\\\\"></a>Please go to <a href="../DEVELOPER/Documentation.html">the current Technical Documentation</a><br class="atl-forced-newline" /> <br class="atl-forced-newline" /></h1>
<p><span class="image-wrap" style=""><img src="../../download/attachments/30711113/smashingkeybrdd731.gif?version=1&amp;modificationDate=1464177849000&amp;api=v2" style="border: 0px solid black" /></span></p>
</div></div></div><div class="columnMacro"></div></div></div></div>
        </div>
    
            
<div id="main"  class="aui-page-panel" >
    <div id="main-header">
        
        
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                                        
                    
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action aui-dropdown2-trigger-arrowless aui-button aui-button-subtle ajs-menu-title aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation">
            <span>
                                    <span class="aui-icon aui-icon-small aui-iconfont-more"></span>
                                
            </span>
        </a>         <div id="action-menu" class="aui-dropdown2 aui-style-default">
                            <ul  id="action-menu-primary"                     class="section-primary first aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="view-attachments-link" href="../../pages/viewpageattachments64a5.html?pageId=30711255" rel="nofollow" class="action-view-attachments"  accessKey="t"  title="View Attachments">
                <span>
                        A<u>t</u>tachments (0)
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-view-history-link" href="../../pages/viewpreviousversions64a5.html?pageId=30711255" rel="nofollow" class="action-view-history"   title="">
                <span>
                        Page History
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-page-permissions-link" href="../../pages/viewinfo64a5.html?pageId=30711255" rel="nofollow" class="action-page-permissions"   title="Edit restrictions">
                <span>
                        Restrictions
        </span>    </a>
</li>
                                </ul>
                            <ul  id="action-menu-secondary"                     class="section-secondary aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="view-page-info-link" href="../../pages/viewinfo64a5.html?pageId=30711255" rel="nofollow" class="action-view-info"   title="">
                <span>
                        Page Information
        </span>    </a>
</li>
                                        <li>

    
            
                                            
    
    
    <a  id="view-resolved-comments" href="#" rel="nofollow" class=""   title="">
                <span>
                        Resolved comments
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="link-to-page-link" href="../../pages/viewinfo64a5.html?pageId=30711255" rel="nofollow" class=""   title="Link to this Page">
                <span>
                        Link to this Page…
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="view-in-hierarchy-link" href="../../pages/listpages-dirview3955.html?key=TECHDOC&amp;openId=30711255#selectedPageInHierarchy" rel="nofollow" class=""   title="">
                <span>
                        View in Hierarchy
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-view-source-link" href="../../plugins/viewsource/viewpagesrc64a5.html?pageId=30711255" rel="nofollow" class="action-view-source popup-link"   title="">
                <span>
                        View Source
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-export-pdf-link" href="../../download/temp/pdfexport-20170131-310117-0850-2927/TECHDOC-ExtendingtheRESTAPI-310117-0850-2928f1f7.pdf?pageId=30711255" rel="nofollow" class=""   title="">
                <span>
                        Export to PDF
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-export-word-link" href="../../exportword64a5?pageId=30711255" rel="nofollow" class="action-export-word"   title="">
                <span>
                        Export to Word
        </span>    </a>
</li>
                                </ul>
                    </div>
    </li>
            </ul>
    </div>

        
                <div id="title-heading" class="pagetitle with-breadcrumbs">
        
                            <div class="space-logo " data-key="TECHDOC" data-name="TECHDOC" data-entity-type="confluence.space">
            <a><img class="logo space custom" src="../../download/attachments/30711109/TECHDOCd78e?version=1&amp;modificationDate=1449834628000&amp;api=v2" alt=""></a>
        </div>            
                            <div id="breadcrumb-section">
                    
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first" >
                        
                            <span class=""><a href="eZ%2bTechnical%2bManual.html">TECHDOC</a></span>
                                                                                            <li id="ellipsis" title="Show all breadcrumbs"><span><strong>&#8230;</strong></span></li>
                                                
                        
        <li class="hidden-crumb" >
                        
                            <span class=""><a href="eZ%2bTechnical%2bManual.html">eZ Technical Manual</a></span>
                                                                                    
                        
        <li class="hidden-crumb" >
                        
                            <span class=""><a href="Cookbooks.html">Cookbooks</a></span>
                                                                                    
                        
        <li class="hidden-crumb" >
                        
                            <span class=""><a href="Advanced%2bTutorials.html">Advanced Tutorials</a></span>
                                                                    
                        
        <li>
                        
                            <span class=""><a href="REST%2bAPI%2bTutorials.html">REST API Tutorials</a></span>
                                                    </ol>


                </div>
            
            <h1 id="title-text" class="with-breadcrumbs">
                                        <a href="Extending%2bthe%2bREST%2bAPI.html">Extending the REST API</a>
                            </h1>
        </div>
    </div>

    

    
    
    
    
    

        




        




    

    

    







    
    
        
    
    
                    
    

    


<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



        <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="30711247">
        </fieldset>

                            
    

                    

        
        <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">

    
            
                                            
    
    
    <a  id="content-metadata-page-restrictions" href="#" rel="nofollow" class="hidden"   title="Restrictions apply">
                    <img alt="" src="../../download/resources/com.atlassian.confluence.plugins.confluence-page-banner_page-banner-resources/images/red_padlock.png" height="16" width="16" title="">
                <span>
                        
        </span>    </a>
</li>
                        <li class="page-metadata-modification-info">
                
        
    
        
    
        
            
            Created by <span class='author'>     <a href="../../login6716.html"
                       class="url fn"
                            >Bertrand Dunogier</a></span>, last modified by <span class='editor'>     <a href="../../loginee65.html"
                       class="url fn"
                            >Dominika Kurek</a></span> on <a class='last-modified' title='Show changes' href='../../pages/diffpagesbyversion9c31.html?pageId=30711255&amp;selectedPageVersions=3&amp;selectedPageVersions=4'>May 19, 2016</a>
                </li>
        </ul>
    </div>


<a href="#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div id="main-content" class="wiki-content">
                           
        <p> </p><p>The Exponential 5 REST API comes with a framework that makes it quite easy to extend the API for your own needs.</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>While most of what can be found here will still apply in the future, the structure of the REST API and its components will evolve before the actual release.</p></div></div><p><div class="toc-macro client-side-toc-macro " data-headerelements="H1,H2,H3,H4,H5,H6,H7"></div></p><h2 id="ExtendingtheRESTAPI-Requirements">Requirements</h2><p>As of version 2013.7 / 5.2, REST routes are required to use the Exponential 5 REST API prefix, <code>/api/ezp/v2</code>. You can create new resources below this prefix.</p><p>To do so, you will/may need to create</p><ul><li>a Controller that will handle your route actions</li><li>a Route, in your bundle's routing file</li><li>a Controller action</li><li>Optionally, a <code>ValueObjectVisitor</code> (if your Controller returns an object that doesn't already have a converter)</li><li>Optionally, an <code>InputParser</code></li></ul><h3 id="ExtendingtheRESTAPI-Controller">Controller</h3><p>To create a REST controller, you need to extend the <code>exponential_rest.controller.base</code> service, as well as the <code>eZ\Publish\Core\REST\Server\Controller</code> class.</p><p>Let's create a very simple controller, that has a <code>sayHello()</code> method, that takes a name as an argument.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Rest/Controller/DefaultController.php</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[namespace My\Bundle\RestBundle\Rest\Controller;
 
use eZ\Publish\Core\REST\Server\Controller as BaseController;
 
class DefaultController extends BaseController
{
    public function sayHello( $name )
    {
        // @todo Implement me
    }
}]]></script>
</div></div><h3 id="ExtendingtheRESTAPI-Route">Route</h3><p>As said earlier, your REST routes are required to use the REST URI prefix. To do so, the easiest way is to import your routing file using this prefix.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>app/config/routing.yml</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[myRestBundle_rest_routes:
    resource: &quot;@MyRestBundle/Resources/config/routing_rest.yml&quot;
    prefix:   %exponential_rest.path_prefix%]]></script>
</div></div><p>Using a distinct file for REST routes allows you to use the prefix for all this file's routes without affecting other routes from your bundle.</p><p>Next, you need to create the REST route. We need to define the route's <a href="http://symfony.com/doc/current/cookbook/controller/service.html" class="external-link" rel="nofollow">controller as a service</a> since our controller was defined as such.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Resources/config/routing_rest.yml</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[myRestBundle_hello_world:
    pattern: /my_rest_bundle/hello/{name}
    defaults:
        _controller: myRestBundle.controller.default:sayHello
    methods: [GET]]]></script>
</div></div><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Due to 
    <span class="jira-issue resolved" >
        <a href="https://jira.ez.no/browse/EZP-23016" class="jira-issue-key"><img class="icon" src="https://jira.ez.no/images/icons/issuetypes/bug.png" />EZP-23016</a>
                    -
            <span class="summary">Custom REST API routes (v2) are not accessible from the legacy backend</span>
                <!-- The new status lozengens support for JIRA 6.2 or later. Otherwise we use the icon.-->
                                            <span class="aui-lozenge aui-lozenge-subtle aui-lozenge-success jira-macro-single-issue-export-pdf">Closed</span>
            </span>
, custom REST routes must be prefixed with <code>exponential_rest_</code>, or they won't be detected correctly.</p></div></div><h2 id="ExtendingtheRESTAPI-Controlleraction">Controller action</h2><p>Unlike standard Symfony 2 controllers, the REST ones don't return an <code>HttpFoundation\Response</code> object, but a <code>ValueObject</code>. This object will during the kernel run be converted, using a ValueObjectVisitor, to a proper Symfony 2 response. One benefit is that when multiple controllers return the same object, such as a Content item or a Location, the visitor will be re-used.</p><p>Let's say that our Controller will return a <code>My\Bundle\RestBundle\Rest\Values\Hello</code></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Rest/Values/Hello.php</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[namespace My\Bundle\RestBundle\Rest\Values;
 
class Hello
{
    public $name;
 
    public function __construct( $name )
    {
        $this-&gt;name = $name;
    }
}]]></script>
</div></div><p>We will return an instance of this class from our <code>sayHello()</code> controller method.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Rest/Controller/DefaultController.php</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[namespace My\Bundle\RestBundle\Controller;

use eZ\Publish\Core\REST\Server\Controller as BaseController;
use My\Bundle\RestBundle\Rest\Values\Hello as HelloValue;

class DefaultController extends BaseController
{
    public function sayHello( $name )
    {
        return new HelloValue( $name );
    }
}]]></script>
</div></div><p>And that's it. Outputting this object in the Response requires that we create a ValueObjectVisitor.</p><h2 id="ExtendingtheRESTAPI-ValueObjectVisitor">ValueObjectVisitor</h2><p>A ValueObjectVisitor will take a Value returned by a REST controller, whatever the class, and will transform it into data that can be converted, either to json or XML. <span style="font-size: 10.0pt;line-height: 13.0pt;">Those visitors are registered as services, and tagged with <code>exponential_rest.output.value_object_visitor</code>. The tag attribute says which class this Visitor applies to.</span></p><p>Let's create the service for our ValueObjectVisitor first.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Resources/config/services.yml</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[services:
    myRestBundle.value_object_visitor.hello:
        parent: exponential_rest.output.value_object_visitor.base
        class: My\Bundle\RestBundle\Rest\ValueObjectVisitor\Hello
        tags:
            - { name: exponential_rest.output.value_object_visitor, type: My\Bundle\RestBundle\Rest\Values\Hello }]]></script>
</div></div><p>Let's create our visitor next. It must extend the <span style="font-size: 10.0pt;line-height: 13.0pt;"><code>eZ\Publish\Core\REST\Common\Output\ValueObjectVisitor</code> abstract class, and implement the <code>visit()</code> method.<br />It will receive as arguments:</span></p><ul style="list-style-type: square;"><li><code>$visitor</code>: The output visitor. Can be used to set custom response headers ( <code>setHeader( $name, $value )</code>), HTTP status code ( <code>setStatus( $statusCode )</code> )...</li><li><span style="font-size: 10.0pt;line-height: 13.0pt;"><code>$generator</code>: The actual Response generator. It provides you with a DOM like API.</span></li><li><span style="font-size: 10.0pt;line-height: 13.0pt;"><code>$data</code>: the visited data, the exact object you returned from the controller </span></li></ul><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Rest/Controller/Default.php</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[namespace My\Bundle\RestBundle\Rest\ValueObjectVisitor;

use eZ\Publish\Core\REST\Common\Output\ValueObjectVisitor;
use eZ\Publish\Core\REST\Common\Output\Generator;
use eZ\Publish\Core\REST\Common\Output\Visitor;

class Hello extends ValueObjectVisitor
{
    public function visit( Visitor $visitor, Generator $generator, $data )
    {
        $generator-&gt;startValueElement( &#39;Hello&#39;, $data-&gt;name );
        $generator-&gt;endValueElement( &#39;Hello&#39; );
    }
}]]></script>
</div></div><p>Do not hesitate to look into the built-in ValueObjectVisitors, in <code><a href="https://github.com/ezsystems/exponential-kernel/tree/master/eZ/Publish/Core/REST/Server/Output/ValueObjectVisitor" class="external-link" rel="nofollow">eZ/Publish/Core/REST/Server/Output/ValueObjectVisitor</a></code>, for more examples.</p><h3 id="ExtendingtheRESTAPI-Cachehandling">Cache handling</h3><p>The easiest way to handle cache is to re-use the <code><a href="https://github.com/ezsystems/exponential-kernel/blob/master/eZ/Publish/Core/REST/Server/Output/ValueObjectVisitor/CachedValue.php" class="external-link" rel="nofollow">CachedValue</a></code> Value Object. It acts as a proxy, and adds the cache headers, depending on the configuration, for a given object and set of options.</p><p>When you want the response to be cached, return an instance of CachedValue, with your Value Object as the argument. You can also pass a location id using the second argument, so that the Response is tagged with it:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[return new CachedValue($helloValue, [&#39;locationId&#39;, 42]);]]></script>
</div></div><h2 id="ExtendingtheRESTAPI-Inputparser">Input parser</h2><p>What we have seen above covers requests that don't require an input payload, such as GET or DELETE. <span style="font-size: 10.0pt;line-height: 13.0pt;">If you need to provide your controller with parameters, either in JSON or XML, the parameter struct requires an Input Parser so that the payload can be converted to an actual ValueObject. </span></p><p><span style="font-size: 10.0pt;line-height: 13.0pt;">Each payload is dispatched to its Input Parser based on the request's Content-Type header. For example, a request with a Content-Type of <code>application/vnd.ez.api.ContentCreate</code> will be parsed by <code>eZ\Publish\Core\REST\Server\Input\Parser\ContentCreate</code>. This parser will build and return a <code>ContentCreateStruct</code> that can then be used to create content with the Public API.</span></p><p><span style="font-size: 10.0pt;line-height: 13.0pt;">Those input parsers are provided with a pre-parsed version of the input payload, as an associative array, and don't have to care about the actual format (XML or JSON).</span></p><p><span style="font-size: 10.0pt;line-height: 13.0pt;">Let's see what it would look like with a Content-Type of application/vnd.my.Greetings, that would send this as XML:</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>application/vnd.my.Greetings+xml</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: html/xml; gutter: false; theme: Eclipse"><![CDATA[&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;Greetings&gt;
    &lt;name&gt;John doe&lt;/name&gt;
&lt;/Greetings&gt;]]></script>
</div></div><p><span style="font-size: 10.0pt;line-height: 13.0pt;">First, we need to create a service with the appropriate tag in services.yml.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Resources/config/services.yml</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[services:
    myRestBundle.input_parser.Greetings:
        parent: exponential_rest.input.parser
        class: My\Bundle\RestBundle\Rest\InputParser\Greetings
        tags:
            - { name: exponential_rest.input.parser, mediaType: application/vnd.my.Greetings }

]]></script>
</div></div><p><span style="font-size: 10.0pt;line-height: 13.0pt;">The mediaType attribute of the exponential_rest.input.parser tag maps our Content Type to the input parser.</span></p><p>Let's implement our parser. It must extend eZ\Publish\Core\REST\Server\Input\Parser, and implement the <code>parse()</code> method. It accepts as an argument the input payload, <code>$data</code>, as an array, and an instance of <code>ParsingDispatcher</code> that can be used to forward parsing of embedded content.</p><p>For convenience, we will consider that our input parser returns an instance of our <code>Value\Hello</code> class.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Rest/InputParser/Greetings.php</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[namespace My\Bundle\RestBundle\Rest\InputParser;
 
use eZ\Publish\Core\REST\Common\Input\BaseParser;
use eZ\Publish\Core\REST\Common\Input\ParsingDispatcher;
use My\Bundle\RestBundle\Rest\Value\Hello;
use eZ\Publish\Core\REST\Common\Exceptions;


class Greetings extends BaseParser
{
    /**
     * @return My\Bundle\RestBundle\Rest\Value\Hello
     */
    public function parse( array $data, ParsingDispatcher $parsingDispatcher )
	{
        // re-using the REST exceptions will make sure that those already have a ValueObjectVisitor
        if ( !isset( $data[&#39;name&#39;] ) )
            throw new Exceptions\Parser( &quot;Missing or invalid &#39;name&#39; element for Greetings.&quot; );


        return new Hello( $data[&#39;name&#39;] );
	}
}]]></script>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Resources/config/services.yml</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[services:
    myRestBundle.controller.default:
        class: My\Bundle\RestBundle\Rest\Controller\Default
        parent: exponential_rest.controller.base]]></script>
</div></div><p>Do not hesitate to look into the built-in InputParsers, in <code>eZ/Publish/Core/REST/Server/Input/Parser</code>, for more examples.</p>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API"
    dc:identifier="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API"
    dc:title="Extending the REST API"
    trackback:ping="https://doc.ez.no/rpc/trackback/30711255"/>
</rdf:RDF>
-->

            
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="30711255" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
                    
        <li class="aui-label " data-label-id="20971538"><a class="aui-label-split-main" href="../../label/TECHDOC/rest.html" rel="tag">rest</a></li><li class="aui-label " data-label-id="13336585"><a class="aui-label-split-main" href="../../label/TECHDOC/api.html" rel="tag">api</a></li><li class="aui-label " data-label-id="15630342"><a class="aui-label-split-main" href="../../label/TECHDOC/controller.html" rel="tag">controller</a></li><li class="aui-label " data-label-id="23986200"><a class="aui-label-split-main" href="../../label/TECHDOC/parser.html" rel="tag">parser</a></li><li class="aui-label " data-label-id="21430274"><a class="aui-label-split-main" href="../../label/TECHDOC/service.html" rel="tag">service</a></li><li class="aui-label " data-label-id="21430351"><a class="aui-label-split-main" href="../../label/TECHDOC/routing.html" rel="tag">routing</a></li>
            </ul>

    </div>
</div>
</div>

            
            




            
    








                        
    
<div id="comments-section" class="pageSection group">
                <div class="section-header">
            <h2 id="comments-section-title" class="section-title">
                                    9 Comments
                            </h2>
        </div>
    
    

            <ol class="comment-threads top-level" id="page-comments">
                    <li id="comment-thread-30711256" class="comment-thread">
        <div class="comment  " id="comment-30711256">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: marcos.loureiro@ez.no" title="marcos.loureiro@ez.no">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../login1185.html"
                       class="url fn"
                            >Marcos Loureiro</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p>On the &quot;ValueObjectVisitor&quot; topic (second code example):</p><p><strong>My/Bundle/RestBundle/Rest/Controller/Default.php</strong></p><div class="syntaxhighlighter nogutter  php"><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="php keyword">namespace</code> <code class="php plain">My\Bundle\RestBundle\Rest\ValueObjectVisitor;</code></div><div class="line number2 index1 alt1"> </div><div class="line number3 index2 alt2"><code class="php keyword">use</code> <code class="php plain">eZ\Publish\Core\REST\Common\Output\ValueObjectVisitor;</code></div><div class="line number4 index3 alt1"><code class="php keyword">use</code> <code class="php plain">eZ\Publish\Core\REST\Common\Output\Generator;</code></div><div class="line number5 index4 alt2"><code class="php keyword">use</code> <code class="php plain">eZ\Publish\Core\REST\Common\Output\Visitor;</code></div><div class="line number6 index5 alt1"> </div><div class="line number7 index6 alt2"><code class="php keyword">class</code> <code class="php plain">Hello </code><code class="php keyword">extends</code> <code class="php plain">ValueObjectVisitor</code></div><div class="line number8 index7 alt1"><code class="php plain">{</code></div><div class="line number9 index8 alt2"><code class="php spaces">    </code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">visit( Visitor </code><code class="php variable">$visitor</code><code class="php plain">, Generator </code><code class="php variable">$generator</code><code class="php plain">, </code><code class="php variable">$data</code> <code class="php plain">)</code></div><div class="line number10 index9 alt1"><code class="php spaces">    </code><code class="php plain">{</code></div><div class="line number11 index10 alt2"><code class="php spaces">        </code><code class="php variable">$this</code><code class="php plain">-&gt;generator-&gt;startValueElement( </code><code class="php string">'Hello'</code><code class="php plain">, </code><code class="php variable">$data</code><code class="php plain">-&gt;name );</code></div><div class="line number12 index11 alt1"><code class="php spaces">        </code><code class="php variable">$this</code><code class="php plain">-&gt;generator-&gt;endValueElement( </code><code class="php string">'Hello'</code> <code class="php plain">);</code></div><div class="line number13 index12 alt2"><code class="php spaces">    </code><code class="php plain">}</code></div><div class="line number14 index13 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div><p>Is the file path correct?</p></div>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Extending%2bthe%2bREST%2bAPI0017.html?focusedCommentId=30711256#comment-30711256"
                 id="comment-permalink-30711256"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Jul 11, 2013 15:34" href="Extending%2bthe%2bREST%2bAPI0017.html?focusedCommentId=30711256#comment-30711256"
                                    ><span>Jul 11, 2013</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711256#comment-30711256"
    dc:identifier="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711256#comment-30711256"
    dc:title="Extending the REST API"
    trackback:ping="https://doc.ez.no/rpc/trackback/30711256"/>
</rdf:RDF>
-->

    
</li>
                    <li id="comment-thread-30711257" class="comment-thread">
        <div class="comment  " id="comment-30711257">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: philippe.vincent-royol@ez.no" title="philippe.vincent-royol@ez.no">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../logina3c6.html"
                       class="url fn"
                            >Philippe Vincent-Royol</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p>Moreover $this-&gt;generator is wrong.. you have to use directly $generator-&gt;. But got an error: </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: html/xml; gutter: false; theme: Eclipse"><![CDATA[&lt;errorDescription&gt;Output visiting failed: Invalid start: Trying to open valueElement inside document, valid parent nodes are: objectElement, hashElement, list.&lt;/errorDescription&gt;]]></script>
</div></div><p>So i replace code via </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[&lt;?php

namespace Ez\RestBundle\Rest\ValueObjectVisitor;

use eZ\Publish\Core\REST\Common\Output\ValueObjectVisitor;
use eZ\Publish\Core\REST\Common\Output\Generator;
use eZ\Publish\Core\REST\Common\Output\Visitor;

class Hello extends ValueObjectVisitor
{
    public function visit( Visitor $visitor, Generator $generator, $data )
    {
        $generator-&gt;startObjectElement( &#39;Test&#39; );

        $generator-&gt;startValueElement( &#39;Hello&#39;, $data-&gt;name );
        $generator-&gt;endValueElement( &#39;Hello&#39; );

        $generator-&gt;endObjectElement( &#39;Test&#39; );
    }
}]]></script>
</div></div><p>and it works..</p><p>Maybe to complete this tutorial, if you would like to generate your result with json, you just have to pass to header Accept: application/vnd.ez.api.Test+json</p><p>Got an other issue; your controller is wrong <img class="emoticon emoticon-smile" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/emoticons/smile.png" data-emoticon-name="smile" alt="(smile)" /> If you create on service</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: html/xml; gutter: false; theme: Eclipse"><![CDATA[myRestBundle.controller.default:
    class: Ez\RestBundle\Rest\Controller\DefaultController
    parent: exponential_rest.controller.base]]></script>
</div></div><p>you have to create your DefaultController.php which contains</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[&lt;?php

namespace Ez\RestBundle\Rest\Controller;

use eZ\Publish\Core\REST\Server\Controller as BaseController;
use Ez\RestBundle\Rest\Values\Hello as HelloValue;

class DefaultController extends BaseController
{
    public function sayHello( $name )
    {
        return new HelloValue( $name );
    }
}]]></script>
</div></div><p>Promise, i'm done for now <img class="emoticon emoticon-wink" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/emoticons/wink.png" data-emoticon-name="wink" alt="(wink)" /></p>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Extending%2bthe%2bREST%2bAPI9326.html?focusedCommentId=30711257#comment-30711257"
                 id="comment-permalink-30711257"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Oct 07, 2013 20:44" href="Extending%2bthe%2bREST%2bAPI9326.html?focusedCommentId=30711257#comment-30711257"
                                    ><span>Oct 07, 2013</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711257#comment-30711257"
    dc:identifier="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711257#comment-30711257"
    dc:title="Extending the REST API"
    trackback:ping="https://doc.ez.no/rpc/trackback/30711257"/>
</rdf:RDF>
-->

    
</li>
                    <li id="comment-thread-30711258" class="comment-thread">
        <div class="comment  " id="comment-30711258">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: gaetano.giunta@ez.no" title="gaetano.giunta@ez.no">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../loginf4f0.html"
                       class="url fn"
                            >Gaetano Giunta</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p>One more thing: when adding your rest routes, in exponential/config/routing.yml, it is important to put them ABOVE the routes form the EzPublishRestBundle, as those ones contain a last &quot;catchall&quot; route which will prevent the new ones to be triggered</p>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Extending%2bthe%2bREST%2bAPI3b98.html?focusedCommentId=30711258#comment-30711258"
                 id="comment-permalink-30711258"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Jan 17, 2014 17:52" href="Extending%2bthe%2bREST%2bAPI3b98.html?focusedCommentId=30711258#comment-30711258"
                                    ><span>Jan 17, 2014</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711258#comment-30711258"
    dc:identifier="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711258#comment-30711258"
    dc:title="Extending the REST API"
    trackback:ping="https://doc.ez.no/rpc/trackback/30711258"/>
</rdf:RDF>
-->

    
</li>
                    <li id="comment-thread-30711259" class="comment-thread">
        <div class="comment  " id="comment-30711259">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: jgamez" title="jgamez">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../login12f1.html"
                       class="url fn"
                            >Jérôme Gamez</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p>If you want a custom REST route to be recognized from the legacy backend, it MUST be prefixed with <code>exponential_rest_</code>, so, in your routing_rest.yml, this will not work:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Resources/config/routing_rest.yml</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: text; gutter: false; theme: Eclipse"><![CDATA[my_custom_bundle_rest_route:
	pattern: /customroute
	defaults:
		_controller: my_custom_bundle.rest.controller.action:getStuff
	methods: [GET]]]></script>
</div></div><p>but this will:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>My/Bundle/RestBundle/Resources/config/routing_rest.yml</b></div><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: text; gutter: false; theme: Eclipse"><![CDATA[exponential_rest_my_custom_bundle_rest_route:
	pattern: /customroute
	defaults:
		_controller: my_custom_bundle.rest.controller.action:getStuff
	methods: [GET]]]></script>
</div></div>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Extending%2bthe%2bREST%2bAPI213a.html?focusedCommentId=30711259#comment-30711259"
                 id="comment-permalink-30711259"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Jun 16, 2014 14:35" href="Extending%2bthe%2bREST%2bAPI213a.html?focusedCommentId=30711259#comment-30711259"
                                    ><span>Jun 16, 2014</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711259#comment-30711259"
    dc:identifier="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711259#comment-30711259"
    dc:title="Extending the REST API"
    trackback:ping="https://doc.ez.no/rpc/trackback/30711259"/>
</rdf:RDF>
-->

    
</li>
                    <li id="comment-thread-30711260" class="comment-thread">
        <div class="comment  " id="comment-30711260">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: gaetano.giunta@ez.no" title="gaetano.giunta@ez.no">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../loginf4f0.html"
                       class="url fn"
                            >Gaetano Giunta</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p><a class="confluence-userlink user-mention" data-username="jgamez" href="../../login12f1.html" data-linked-resource-id="18093956" data-linked-resource-version="2" data-linked-resource-type="userinfo" data-base-url="https://doc.ez.no">J&eacute;r&ocirc;me Gamez</a> there is a parameter you can use for that:</p><pre class="diff-line-pre">legacy_aware_routes</pre>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Extending%2bthe%2bREST%2bAPIdc37.html?focusedCommentId=30711260#comment-30711260"
                 id="comment-permalink-30711260"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Jun 16, 2014 14:36" href="Extending%2bthe%2bREST%2bAPIdc37.html?focusedCommentId=30711260#comment-30711260"
                                    ><span>Jun 16, 2014</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711260#comment-30711260"
    dc:identifier="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711260#comment-30711260"
    dc:title="Extending the REST API"
    trackback:ping="https://doc.ez.no/rpc/trackback/30711260"/>
</rdf:RDF>
-->

    
</li>
                    <li id="comment-thread-30711261" class="comment-thread">
        <div class="comment  " id="comment-30711261">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: jerome.vieilledent-obsolete@ez.no" title="jerome.vieilledent-obsolete@ez.no">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../login2ed8.html"
                       class="url fn"
                            >Jérôme Vieilledent</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p><a class="confluence-userlink user-mention" data-username="gaetano.giunta@ez.no" href="../../loginf4f0.html" data-linked-resource-id="2720565" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://doc.ez.no">Gaetano Giunta</a> : What <code>legacy_aware_routes</code> have to do with REST ?</p>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Extending%2bthe%2bREST%2bAPIeb63.html?focusedCommentId=30711261#comment-30711261"
                 id="comment-permalink-30711261"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Jun 16, 2014 14:51" href="Extending%2bthe%2bREST%2bAPIeb63.html?focusedCommentId=30711261#comment-30711261"
                                    ><span>Jun 16, 2014</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711261#comment-30711261"
    dc:identifier="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711261#comment-30711261"
    dc:title="Extending the REST API"
    trackback:ping="https://doc.ez.no/rpc/trackback/30711261"/>
</rdf:RDF>
-->

    
</li>
                    <li id="comment-thread-30711262" class="comment-thread">
        <div class="comment  focused  " id="comment-30711262">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: jerome.vieilledent-obsolete@ez.no" title="jerome.vieilledent-obsolete@ez.no">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../login2ed8.html"
                       class="url fn"
                            >Jérôme Vieilledent</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p><a class="confluence-userlink user-mention" data-username="jgamez" href="../../login12f1.html" data-linked-resource-id="18093956" data-linked-resource-version="2" data-linked-resource-type="userinfo" data-base-url="https://doc.ez.no">J&eacute;r&ocirc;me Gamez</a> AFAICT, you need above all to use the right prefix:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[myRestBundle_rest_routes:
    resource: &quot;@MyRestBundle/Resources/config/routing_rest.yml&quot;
    prefix:   %exponential_rest.path_prefix%]]></script>
</div></div><p>Besides, you should use <code>path</code> instead of <code>pattern</code> to be forward compatible with Symfony 3.0 <img class="emoticon emoticon-wink" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/emoticons/wink.png" data-emoticon-name="wink" alt="(wink)" /></p>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Extending%2bthe%2bREST%2bAPI5032.html?focusedCommentId=30711262#comment-30711262"
                 id="comment-permalink-30711262"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Jun 16, 2014 14:53" href="Extending%2bthe%2bREST%2bAPI5032.html?focusedCommentId=30711262#comment-30711262"
                                    ><span>Jun 16, 2014</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711262#comment-30711262"
    dc:identifier="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711262#comment-30711262"
    dc:title="Extending the REST API"
    trackback:ping="https://doc.ez.no/rpc/trackback/30711262"/>
</rdf:RDF>
-->

    
</li>
                    <li id="comment-thread-30711263" class="comment-thread">
        <div class="comment  " id="comment-30711263">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: jgamez" title="jgamez">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../login12f1.html"
                       class="url fn"
                            >Jérôme Gamez</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p><a class="confluence-userlink user-mention" data-username="gaetano.giunta@ez.no" href="../../loginf4f0.html" data-linked-resource-id="2720565" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://doc.ez.no">Gaetano Giunta</a>: Sadly, setting the <code>legacy_aware_routes</code> parameter didn't work for me.</p><p><a class="confluence-userlink user-mention" data-username="jerome.vieilledent-obsolete@ez.no" href="../../login2ed8.html" data-linked-resource-id="2719808" data-linked-resource-version="2" data-linked-resource-type="userinfo" data-base-url="https://doc.ez.no">J&eacute;r&ocirc;me Vieilledent</a>: I will exchange <code>pattern</code> with <code>path</code>, thank you for the hint! I have imported the routes like you said, and stated in the docs above, but still no luck. Only prefixing my distinct routes with <code>exponential_rest_ </code>worked so far to make them available for the legacy backend. For the non-legacy environment, everything worked fine without the &quot;special&quot; route names.</p>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Extending%2bthe%2bREST%2bAPI15fa.html?focusedCommentId=30711263#comment-30711263"
                 id="comment-permalink-30711263"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Jun 16, 2014 15:26" href="Extending%2bthe%2bREST%2bAPI15fa.html?focusedCommentId=30711263#comment-30711263"
                                    ><span>Jun 16, 2014</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711263#comment-30711263"
    dc:identifier="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711263#comment-30711263"
    dc:title="Extending the REST API"
    trackback:ping="https://doc.ez.no/rpc/trackback/30711263"/>
</rdf:RDF>
-->

    
</li>
                    <li id="comment-thread-30711264" class="comment-thread">
        <div class="comment  " id="comment-30711264">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: jerome.vieilledent-obsolete@ez.no" title="jerome.vieilledent-obsolete@ez.no">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../login2ed8.html"
                       class="url fn"
                            >Jérôme Vieilledent</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p>Ah my bad, sorry <a class="confluence-userlink user-mention" data-username="gaetano.giunta@ez.no" href="../../loginf4f0.html" data-linked-resource-id="2720565" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://doc.ez.no">Gaetano Giunta</a>... Using <code>legacy_aware_routes</code> should indeed work. I think an issue should be reported <img class="emoticon emoticon-wink" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/emoticons/wink.png" data-emoticon-name="wink" alt="(wink)" /></p>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Extending%2bthe%2bREST%2bAPI2a79.html?focusedCommentId=30711264#comment-30711264"
                 id="comment-permalink-30711264"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Jun 16, 2014 15:16" href="Extending%2bthe%2bREST%2bAPI2a79.html?focusedCommentId=30711264#comment-30711264"
                                    ><span>Jun 16, 2014</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711264#comment-30711264"
    dc:identifier="https://doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711264#comment-30711264"
    dc:title="Extending the REST API"
    trackback:ping="https://doc.ez.no/rpc/trackback/30711264"/>
</rdf:RDF>
-->

    
</li>
            </ol>


</div>


            
</div>


    




    
    

    
    
    








</div>
  
        <div id="theme-footer">
            <p>© 1999-2016 <a href="http://ez.no/" class="external-link" rel="nofollow">eZ Systems AS</a> and others</p>
        </div>
    
    </div>
</div>


        
            
            

<div id="footer" role="contentinfo">
    <section class="footer-body">

                                                            <p class="license license-opensource">
                    Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to Exponential. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                    
        

        <ul id="poweredby">
            <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> <span id='footer-build-information'>5.8.5</span>, <a href="http://www.atlassian.com/software/confluence/overview/team-collaboration-software?utm_source=confluence-footer" class="hover-footer-link">Team Collaboration Software</a></li>
            <li class="print-only">Printed by Atlassian Confluence 5.8.5, Team Collaboration Software.</li>
            <li class="noprint"><a href="https://jira.atlassian.com/browse/CONF" class="hover-footer-link">Report a bug</a></li>
            <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
        </ul>

        

        <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>

                    <script>
AJS.toInit(function(){
 if(AJS.params.spaceKey &&
    AJS.params.spaceKey === 'MAIN' ||
    AJS.params.spaceKey === 'EZMA' ||
    AJS.params.spaceKey === 'ODC' ||
    AJS.params.spaceKey === 'EZP50' ||
    AJS.params.spaceKey === 'EZP51' ||
    AJS.params.spaceKey === 'EZP52' ||
    AJS.params.spaceKey === 'EZPCLOUD' ||
    AJS.params.spaceKey === 'EZP' ||
    AJS.params.spaceKey === 'TECHDOC' ||
    AJS.params.spaceKey === 'USERGUIDE' ||
    AJS.params.spaceKey === 'EZRECO'
){

(function()
{var isSecure=('https:'==document.location.protocol);var ff=document.createElement('script');ff.type='text/javascript';ff.async=true;ff.src=(isSecure?'https':'http')+'://'+(isSecure?'secure.':'lb.')+'liveviewer.ez.no/statjs/sst-120-1304513615/stat.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ff,s);}
)();

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-303624-13', 'ez.no');
  ga('send', 'pageview');
}}
);
</script>
        
    </section>
</div>

    </div>
</body>

<!-- Mirrored from doc.ez.no/display/TECHDOC/Extending+the+REST+API?focusedCommentId=30711262 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 10:01:41 GMT -->
</html>
