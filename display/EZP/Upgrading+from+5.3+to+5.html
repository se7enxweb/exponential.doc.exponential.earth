<!DOCTYPE html>
<html>

<!-- Mirrored from doc.ez.no/display/EZP/Upgrading+from+5.3+to+5.4 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 08:25:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <title>Upgrading from 5.3 to 5.4 - Exponential 5.x - eZ Documentation</title>

        

                        
    
                        
    
                        
    

    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">
<meta charset="UTF-8">
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="../../index.html">

<meta id="atlassian-token" name="atlassian-token" content="9996d8127abd36d1b757536de859090f8b455d10">


<meta id="confluence-space-key" name="confluence-space-key" content="EZP">
<script type="text/javascript">
        var contextPath = '';
</script>

    

    <meta name="confluence-request-time" content="1485845199672">
        
    
        
            <meta name="ajs-is-space-admin" content=""> <meta name="ajs-has-space-config" content="">
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="$discoveredList">
            <meta name="stp-license-product-name" content="Confluence"/> <meta name="stp-license-days-to-expiry" content="807"/> <meta name="stp-license-is-admin" content="false"/> <meta name="stp-license-should-keep-banner-hidden" content="true"/>
            <meta name="ajs-keyboardshortcut-hash" content="206314443b3cf79696d4ad89324a059c">
            <meta id="team-calendars-has-jira-link" content="true">
            <meta name="ajs-team-calendars-display-time-format" content="displayTimeFormat12">
            <meta id="team-calendars-user-timezone" content="UTC">
            <script type="text/x-template" id="team-calendars-messages" title="team-calendars-messages"><fieldset class="i18n hidden"><input type="hidden" name="calendar3.month.long.july" value="July"><input type="hidden" name="calendar3.day.short.wednesday" value="Wed"><input type="hidden" name="calendar3.day.short.thursday" value="Thu"><input type="hidden" name="calendar3.month.short.march" value="Mar"><input type="hidden" name="calendar3.month.long.april" value="April"><input type="hidden" name="calendar3.month.long.october" value="October"><input type="hidden" name="calendar3.month.long.august" value="August"><input type="hidden" name="calendar3.month.short.july" value="Jul"><input type="hidden" name="calendar3.month.short.may" value="May"><input type="hidden" name="calendar3.month.short.november" value="Nov"><input type="hidden" name="calendar3.day.long.friday" value="Friday"><input type="hidden" name="calendar3.day.long.sunday" value="Sunday"><input type="hidden" name="calendar3.day.long.saturday" value="Saturday"><input type="hidden" name="calendar3.month.short.april" value="Apr"><input type="hidden" name="calendar3.day.long.wednesday" value="Wednesday"><input type="hidden" name="calendar3.month.long.december" value="December"><input type="hidden" name="calendar3.month.short.october" value="Oct"><input type="hidden" name="calendar3.day.long.monday" value="Monday"><input type="hidden" name="calendar3.month.short.june" value="Jun"><input type="hidden" name="calendar3.day.short.monday" value="Mon"><input type="hidden" name="calendar3.day.short.tuesday" value="Tue"><input type="hidden" name="calendar3.day.short.saturday" value="Sat"><input type="hidden" name="calendar3.month.long.march" value="March"><input type="hidden" name="calendar3.month.long.june" value="June"><input type="hidden" name="calendar3.month.short.february" value="Feb"><input type="hidden" name="calendar3.month.short.august" value="Aug"><input type="hidden" name="calendar3.month.short.december" value="Dec"><input type="hidden" name="calendar3.day.short.sunday" value="Sun"><input type="hidden" name="calendar3.month.long.february" value="February"><input type="hidden" name="calendar3.day.long.tuesday" value="Tuesday"><input type="hidden" name="calendar3.month.long.may" value="May"><input type="hidden" name="calendar3.month.long.september" value="September"><input type="hidden" name="calendar3.month.long.november" value="November"><input type="hidden" name="calendar3.month.short.january" value="Jan"><input type="hidden" name="calendar3.month.short.september" value="Sep"><input type="hidden" name="calendar3.day.long.thursday" value="Thursday"><input type="hidden" name="calendar3.month.long.january" value="January"><input type="hidden" name="calendar3.day.short.friday" value="Fri"></fieldset></script>
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            
    
    
            <meta name="ajs-page-id" content="25985666">
            <meta name="ajs-latest-page-id" content="25985666">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="Upgrading from 5.3 to 5.4">
            <meta name="ajs-parent-page-title" content="Upgrade">
            <meta name="ajs-parent-page-id" content="19234967">
            <meta name="ajs-space-key" content="EZP">
            <meta name="ajs-space-name" content="Exponential 5.x">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="https://doc.ez.no">
            <meta name="ajs-version-number" content="5.8.5">
            <meta name="ajs-build-number" content="5983">
            <meta name="ajs-remote-user" content="">
            <meta name="ajs-remote-user-key" content="">
            <meta name="ajs-current-user-fullname" content="">
            <meta name="ajs-current-user-avatar-url" content="">
            <meta name="ajs-static-resource-url-prefix" content="/s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_">
            <meta name="ajs-global-settings-attachment-max-size" content="10485760">
            <meta name="ajs-user-locale" content="en_GB">
            <meta name="ajs-enabled-dark-features" content="confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,file-annotations,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,atlassian.aui.raphael.disabled,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,previews.sharing.pushstate,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,file-annotations.likes,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,confluence-inline-comments-dangling-comment,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent">
            <meta name="ajs-atl-token" content="9996d8127abd36d1b757536de859090f8b455d10">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="dd MMM yyyy">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/favicon.ico">
    <link rel="icon" type="image/x-icon" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/favicon.ico">

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch/osd.action" title="eZ Documentation"/>

<script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:atlassian-nps-plugin-resources.is-server-instance-data-provider"]="true";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:browser-metrics.feature-data-provider-legacy"]="true";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:(?:/s/.*?/_)?/download)\"";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details"]="{\"daysBeforeLicenseExpiry\":0,\"daysBeforeMaintenanceExpiry\":0,\"showLicenseExpiryBanner\":false,\"showMaintenanceExpiryBanner\":false,\"renewUrl\":null,\"salesEmail\":null}";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-javascript-data.link-active"]="{\"linkActive\":false,\"conditionsMet\":true,\"admin\":false}";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:nps-acknowledgement-resources.analytics-enabled-data-provider"]="\"false\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-nps-plugin:nps-acknowledgement-resources.sen-data-provider"]="\"SEN-2255945\"";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode"]="false";
WRM._unparsedData["com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api.feature-data-provider"]="true";
</script>
<link type="text/css" rel="stylesheet" href="../../s/1b9968ac17721e3a6947d14e3a43c3f8-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch9c16.css?build-number=5983" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lt+IE+9" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/css/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/fcf875d0c4710a8c828036f5c6fb7fa5-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/b8d35340d2d85de2791f14a4692ecf7b/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop%2cmain%2cvi/batchd6a4.css?highlightactions=true&amp;flavour=VANILLA&amp;locale=en-GB" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/6c0981174e94142364564819dc0d1413-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/b8d35340d2d85de2791f14a4692ecf7b/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,atl.general,page,atl.comments/batch.css?conditionalComment=lt+IE+9&amp;locale=en-GB" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/7893b9affdc3bf828ad93d0610d3d5f3-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/b8d35340d2d85de2791f14a4692ecf7b/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,atl.general,page,atl.comments/batch.css?conditionalComment=lte+IE+9" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/3a21f7b21af4c67045d1e0255f2ac570/_/download/contextbatch/css/theme.doc/batch.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/3.7.2/_/download/batch/confluence.extra.information_information-plugin/confluence.extra.information_information-plugin-adg-styles.cc" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.8.6/_/download/batch/org.randombits.confluence.toc_toc-plugin-styles/org.randombits.confluence.toc_toc-plugin-styles.css" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.1.7/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext.newcode-macro-plugin_syntaxhighl" media="all">
<link type="text/css" rel="stylesheet" href="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.1.7/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext.newcode-macro-plugin_sh-theme-ec" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/51/_/styles/colorsb538.css?spaceKey=EZP" media="all">
<link type="text/css" rel="stylesheet" href="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/51/_/styles/customb538.css?spaceKey=EZP" media="all">
<script type="text/javascript" src="../../s/1f7b22082ef39a4bb134622dae929bdc-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/89/_/download/superbatch/js/batch32f4.js?atlassian.aui.raphael.disabled=true&amp;locale=en-GB&amp;build-number=5983" ></script>
<script type="text/javascript" src="../../s/aa56759c03dcb293b394c4b46058625c-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/b8d35340d2d85de2791f14a4692ecf7b/_/download/contextbatch/js/atl.confluence.plugins.pagetree-desktop%2cmain%2cvi/batcha41c.js?highlightactions=true&amp;flavour=VANILLA&amp;locale=en-GB&amp;anonymous-access-enabled=true&amp;is-server-instance=true&amp;hostenabled=true" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.8.6/_/download/batch/org.randombits.confluence.toc_client-side-toc-r/org.randombits.confluence.toc_client-side-toc-resources.cf.de" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.8.6/_/download/batch/org.randombits.confluence.toc_toc-plugin-analytics/org.randombits.confluence.toc_toc-plugin-analytics.js" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.1.7/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext-2.newcode-macro-plugin_syntaxhighl" ></script>
<script type="text/javascript" src="../../s/d41d8cd98f00b204e9800998ecf8427e-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.1.7/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext-3.newcode-macro-plugin_syntaxhighl" ></script>
<script type="text/javascript" src="../../s/6c0981174e94142364564819dc0d1413-CDN/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/2.1.7/_/download/batch/com.atlassian.confluence.ext.newcode-macro-plug/com.atlassian.confluence.ext.newcode-macro-plugin_syntaxhighl?locale=en-GB" ></script>


        
            <meta name="stp-license-product-name" content="Confluence"/> <meta name="stp-license-days-to-expiry" content="807"/> <meta name="stp-license-is-admin" content="false"/> <meta name="stp-license-should-keep-banner-hidden" content="true"/>
    

        
        <meta name="ajs-site-title" content="eZ Documentation" />

    
    

    
                <link rel="canonical" href="Upgrading%2bfrom%2b5.3%2bto%2b5.html">
        <link rel="shortlink" href="Upgrading%2bfrom%2b5.3%2bto%2b5.html">
    <meta name="wikilink" content="[EZP:Upgrading from 5.3 to 5.4]">
    <meta name="page-version" content="19">

</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-documentation  aui-theme-default aui-layout">

        
            <div id='stp-licenseStatus-banner'></div>
    <div id="full-height-container">
    <div id="header-precursor">
        
                    </div>






<header id="header" role="banner">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation"><div class="aui-header-inner"><div class="aui-header-before"><a class=" aui-dropdown2-trigger app-switcher-trigger" aria-owns="app-switcher" aria-controls="app-switcher" aria-haspopup="true" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a><div id="app-switcher" class="aui-dropdown2 aui-style-default"><div class="app-switcher-loading">Loading&hellip;</div></div><script>
            (function (NL) {
                var initialise = function () {
                    // For some milestones of AUI, the atlassian soy namespace was renamed to aui. Handle that here by ensuring that window.atlassian is defined.
                    window.atlassian = window.atlassian || window.aui;
                    new NL.AppSwitcher({
                        dropdownContents: '#app-switcher'
                    });
                };
                if (NL.AppSwitcher) {
                    initialise();
                } else {
                    NL.onInit = initialise;
                }
            }(window.NL = (window.NL || {})));
            window.NL.isUserAdmin = false</script></div><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="../../index.html"><img src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/logo/atl.site.logo" alt="eZ Documentation" /></a></h1><ul class="aui-nav">
                            <li>
            
        
        
<a  id="space-directory-link" href="../../spacedirectory/view.html"  class=" aui-nav-imagelink"   title="Spaces">
            <span>Spaces</span>
    </a>
        </li>
                            <li id="browseMenu" role="menu">
            
    
        <a id="browse-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="browse-menu-link-content" title="Browse">
        <span class="browse">Browse</span>
    </a>
    <nav id="browse-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul  id="browse-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
    
            
<a  id="space-pages-link" href="../../pages/listpages-dirview4915.html?key=EZP" class="    "      title="Browse pages in the Exponential 5.x space" >
        Pages
</a>
</li>
                                            <li>
    
            
<a  id="space-blogposts-link" href="../../pages/viewrecentblogposts4915.html?key=EZP" class="    "      title="Browse blogs in the Exponential 5.x space" >
        Blog
</a>
</li>
                                            <li>
    
            
<a  id="space-labels-link" href="../../labels/listlabels-heatmap4915.html?key=EZP" class="    "      title="Browse labels in the Exponential 5.x space" >
        Labels
</a>
</li>
                                            <li>
    
            
<a  id="space-advanced-link" href="../../spaces/viewspacesummary4915.html?key=EZP" class="    "      title="Browse additional space functions in the Exponential 5.x space" >
        Space Operations
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
        </li>
        </ul>
</div><div class="aui-header-secondary"><ul class="aui-nav">
            <li>
        
    
            
<a  id="doctheme-anchor" href="#"  class=" aui-nav-imagelink"   title="">
            <span></span>
    </a>
    </li>
                    <li>
        <form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="https://doc.ez.no/dosearchsite.action" method="get"><fieldset><input type="hidden" name="where" value="EZP"/><input type="hidden" name="spaceSearch" value="true"/><label for="quick-search-query" class="assistive">Quick Search</label><input id="quick-search-query" class="text app-search search quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" title="Quick Search" placeholder="Search space" /><input id="quick-search-submit" class="quick-search-submit" type="submit" value="Search"/><div class="aui-dd-parent quick-nav-drop-down"></div></fieldset></form>
    </li>
        <li>
            
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="help-menu-link-content" title="Help">
        <span class="aui-icon aui-icon-small aui-iconfont-help">Help</span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default" aria-hidden="true">
                    <div class="aui-dropdown2-section">
                                <ul  id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
        
            
<a  id="confluence-help-link" href="https://docs.atlassian.com/confluence/docs-58/Getting+Help+And+Support" class="    "      title="Visit the Confluence documentation home"  target="_blank"
>
        Online Help
</a>
</li>
                                            <li>
    
                
<a  id="keyboard-shortcuts-link" href="#" class="    "      title="View available keyboard shortcuts" >
        Keyboard Shortcuts
</a>
</li>
                                            <li>
    
            
<a  id="feed-builder-link" href="../../dashboard/configurerssfeed.html" class="    "      title="Create your custom RSS feed." >
        Feed Builder
</a>
</li>
                                            <li>
    
            
<a  id="whats-new-menu-link" href="https://docs.atlassian.com/confluence/docs-58/whatsnew/iframe" class="    "      title="" >
        What’s new
</a>
</li>
                                            <li>
    
                
<a  id="gadget-directory-link" href="#" class="   user-item administration-link "      title="Browse gadgets provided by Confluence" >
        Available Gadgets
</a>
</li>
                                            <li>
    
            
<a  id="confluence-about-link" href="../../aboutconfluencepage.html" class="    "      title="Get more information about Confluence" >
        About Confluence
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
    </li>
        <li>
                
    
    </li>
        <li>
            
    </li>
        <li>
                                            <li>
        
            
<a  id="login-link" href="../../login8f8f.html?os_destination=%2Fdisplay%2FEZP%2FUpgrading%2Bfrom%2B5.3%2Bto%2B5.4" class="   user-item login-link "      title="" >
        Log in
</a>
</li>
                        
    </li>
    </ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>

    <div id="splitter">
    <div id="splitter-sidebar"  class="padding-div" >
        
        <p>&nbsp;<br/>
<strong>Global navigation</strong></p>

<p>&nbsp;<font color="#999">&bull;</font>&nbsp; <a href="../MAIN/eZ%2bDocumentation%2bCenter.html">Documentation Center</a><br/>
&nbsp;<font color="#999">&bull;</font>&nbsp; <a href="../TECHDOC/eZ%2bTechnical%2bManual.html">eZ Studio &amp; eZ Platform</a><br/>
&nbsp; &nbsp;<font color="#999">&bull;</font>&nbsp; <a href="../USERGUIDE/eZ%2bUser%2bManual.html">User Manual</a><br/>
&nbsp; &nbsp;<font color="#999">&bull;</font>&nbsp; <a href="../TECHDOC/eZ%2bTechnical%2bManual.html">Technical Manual</a><br/>
&nbsp; &nbsp;<font color="#999">&bull;</font>&nbsp; <a href="../MAIN/Glossary.html" title="Glossary">Glossary</a><br/>
&nbsp;<font color="#999">&bull;</font>&nbsp; <a href="../../Exponential/index.html" class="external-link" rel="nofollow">Exponential 4.x / legacy</a></p>



<p>&nbsp;<br/>
<a href="eZ%2bPublish%2b5.html"><strong>Exponential (5.x)</strong></a></p>
    

                    
    


<div class="plugin_pagetree">

        
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input type="hidden" name="treeId" value="">
        <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false">
        <input type="hidden" name="treePageId" value="25985666">

        <input type="hidden" name="noRoot" value="false">
        <input type="hidden" name="rootPageId" value="1114149">

        <input type="hidden" name="rootPage" value="">
        <input type="hidden" name="startDepth" value="0">
        <input type="hidden" name="spaceKey" value="EZP" >

        <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
        <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page.">
        <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
        <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fpages%2Fviewpage.action%3FspaceKey%3DEZP%26title%3DUpgrading%2Bfrom%2B5.3%2Bto%2B5.4">
        <input type="hidden" name="mobile" value="false">

                <fieldset class="hidden">
                                                <input type="hidden" name="ancestorId" value="19234967">
                                    <input type="hidden" name="ancestorId" value="6292016">
                                    <input type="hidden" name="ancestorId" value="1114149">
                                    </fieldset>
    </fieldset>
</div>



            </div>
    <div id="splitter-content">

                    <script type="text/javascript" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/5.8.5/_/download/resources/com.atlassian.confluence.plugins.doctheme_resources/doc-theme.js"></script>
    
                        
        <div id="theme-header">
            <div class="sectionColumnWrapper"><div class="sectionMacro">
<div class="sectionMacroRow"><div class="columnMacro"></div>
<div class="columnMacro">
<div class="panel" style="background-color: #F0F0F0;border-color: #999999;border-style: solid;border-width: 1px;"><div class="panelContent" style="background-color: #F0F0F0;">
<p><strong>Exponential 5.x</strong> | For <em>eZ Platform</em> &amp; <em>eZ Studio</em> topics see <a href="../DEVELOPER/Documentation.html">Technical manual</a> and <a href="../USER.html">User manual</a>, for <em>Exponential 4.x</em> and <em>Legacy</em> topics see <a href="../../Exponential/index.html" class="external-link" rel="nofollow">Exponential legacy</a></p>
</div></div></div><div class="columnMacro"></div></div></div></div>
        </div>
    
            
<div id="main"  class="aui-page-panel" >
    <div id="main-header">
        
        
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                                        
                    
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action aui-dropdown2-trigger-arrowless aui-button aui-button-subtle ajs-menu-title aui-dropdown2-trigger" href="#" aria-haspopup="true" aria-owns="action-menu" data-container="#navigation">
            <span>
                                    <span class="aui-icon aui-icon-small aui-iconfont-more"></span>
                                
            </span>
        </a>         <div id="action-menu" class="aui-dropdown2 aui-style-default">
                            <ul  id="action-menu-primary"                     class="section-primary first aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="view-attachments-link" href="../../pages/viewpageattachments92f4.html?pageId=25985666" rel="nofollow" class="action-view-attachments"  accessKey="t"  title="View Attachments">
                <span>
                        A<u>t</u>tachments (0)
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-view-history-link" href="../../pages/viewpreviousversions92f4.html?pageId=25985666" rel="nofollow" class="action-view-history"   title="">
                <span>
                        Page History
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-page-permissions-link" href="../../pages/viewinfo92f4.html?pageId=25985666" rel="nofollow" class="action-page-permissions"   title="Edit restrictions">
                <span>
                        Restrictions
        </span>    </a>
</li>
                                </ul>
                            <ul  id="action-menu-secondary"                     class="section-secondary aui-dropdown2-section">
                                            <li>

    
        
                                            
    
    
    <a  id="view-page-info-link" href="../../pages/viewinfo92f4.html?pageId=25985666" rel="nofollow" class="action-view-info"   title="">
                <span>
                        Page Information
        </span>    </a>
</li>
                                        <li>

    
            
                                            
    
    
    <a  id="view-resolved-comments" href="#" rel="nofollow" class=""   title="">
                <span>
                        Resolved comments
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="link-to-page-link" href="../../pages/viewinfo92f4.html?pageId=25985666" rel="nofollow" class=""   title="Link to this Page">
                <span>
                        Link to this Page…
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="view-in-hierarchy-link" href="../../pages/listpages-dirview8bb6.html?key=EZP&amp;openId=25985666#selectedPageInHierarchy" rel="nofollow" class=""   title="">
                <span>
                        View in Hierarchy
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-view-source-link" href="../../plugins/viewsource/viewpagesrc92f4.html?pageId=25985666" rel="nofollow" class="action-view-source popup-link"   title="">
                <span>
                        View Source
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-export-pdf-link" href="../../download/temp/pdfexport-20170131-310117-0825-2531/EZP-Upgradingfrom5.3to5.4-310117-0825-2532f1f7.pdf?pageId=25985666" rel="nofollow" class=""   title="">
                <span>
                        Export to PDF
        </span>    </a>
</li>
                                        <li>

    
        
                                            
    
    
    <a  id="action-export-word-link" href="../../exportword92f4?pageId=25985666" rel="nofollow" class="action-export-word"   title="">
                <span>
                        Export to Word
        </span>    </a>
</li>
                                </ul>
                    </div>
    </li>
            </ul>
    </div>

        
                <div id="title-heading" class="pagetitle with-breadcrumbs">
        
                            <div class="space-logo " data-key="EZP" data-name="Exponential 5.x" data-entity-type="confluence.space">
            <a><img class="logo space custom" src="../../download/attachments/1736738/EZPc728?version=5&amp;modificationDate=1434758205000&amp;api=v2" alt=""></a>
        </div>            
                            <div id="breadcrumb-section">
                    
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first" >
                        
                            <span class=""><a href="eZ%2bPublish%2b5.html">Exponential 5.x</a></span>
                                                                                            <li id="ellipsis" title="Show all breadcrumbs"><span><strong>&#8230;</strong></span></li>
                                                
                        
        <li class="hidden-crumb" >
                        
                            <span class=""><a href="eZ%2bPublish%2b5.html">Exponential 5.x Developer Documentation</a></span>
                                                                                    
                        
        <li class="hidden-crumb" >
                        
                            <span class=""><a href="Installation%2band%2bUpgrade%2bGuides.html">Installation and Upgrade Guides</a></span>
                                                                    
                        
        <li>
                        
                            <span class=""><a href="Upgrade.html">Upgrade</a></span>
                                                    </ol>


                </div>
            
            <h1 id="title-text" class="with-breadcrumbs">
                                        <a href="Upgrading%2bfrom%2b5.3%2bto%2b5.html">Upgrading from 5.3 to 5.4</a>
                            </h1>
        </div>
    </div>

    

    
    
    
    
    

        




        




    

    

    







    
    
        
    
    
                    
    

    


<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



        <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="19234967">
        </fieldset>

                            
    

                    

        
        <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">

    
            
                                            
    
    
    <a  id="content-metadata-page-restrictions" href="#" rel="nofollow" class="hidden"   title="Restrictions apply">
                    <img alt="" src="../../download/resources/com.atlassian.confluence.plugins.confluence-page-banner_page-banner-resources/images/red_padlock.png" height="16" width="16" title="">
                <span>
                        
        </span>    </a>
</li>
                        <li class="page-metadata-modification-info">
                
        
    
        
    
        
            
            Created by <span class='author'>     <a href="../../login2ee6.html"
                       class="url fn"
                            >André Rømcke</a></span>, last modified by <span class='editor'>     <a href="../../login4b9a.html"
                       class="url fn"
                            >Yannick Roger</a></span> on <a class='last-modified' title='Show changes' href='../../pages/diffpagesbyversion03f3.html?pageId=25985666&amp;selectedPageVersions=18&amp;selectedPageVersions=19'>Jul 20, 2015</a>
                </li>
        </ul>
    </div>


<a href="#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>

        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div id="main-content" class="wiki-content">
                           
        <div class="attribute-heading"><p><span style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.4285715;"><div class="toc-macro client-side-toc-macro " data-headerelements="H1,H2,H3,H4,H5,H6,H7"></div><br /></span></p><p><span style="color: rgb(51,51,51);font-size: 14.0px;line-height: 1.4285715;">This section describes how to upgrade your existing Exponential 5.3 installation to version 5.4. Make sure that you have a working backup of the site before you do the actual upgrade, and make sure that the installation you are performing the upgrade on is offline.</span></p></div><h2 id="Upgradingfrom5.3to5.4-NoteonPaths">Note on Paths</h2><ul><li><em>/&lt;ezp5-root&gt;/</em>: The root directory where Exponential 5 is installed in, examples: &quot;<em>/home/myuser/www</em>/&quot; or &quot;<em>/var/sites/exponential/</em>&quot;</li><li><em>/&lt;ezp5-root&gt;/exponential_legacy/</em>:  Root directory of &quot;Legacy&quot; (aka &quot;Legacy Stack&quot;, refers to the Exponential 4.x installation which is bundled with Exponential 5) normally inside &quot;<em>exponential_legacy</em>/&quot;, example: &quot;<em>/home/myuser/www/exponential_legacy/</em>&quot;</li></ul><h2 id="Upgradingfrom5.3to5.4-Checkforrequirements">Check for requirements</h2><p>PHP 5.4.4 and higher is needed. Further information regarding system requirements can be found on <a href="https://confluence.ez.no/display/EZP/Requirements" class="external-link" rel="nofollow">Requirements Documentation Page</a>.<a name="eztoc126882_2" rel="nofollow"></a></p><h2 id="Upgradingfrom5.3to5.4-Upgradesteps">Upgrade steps<a name="eztoc126882_1" rel="nofollow"></a></h2><h3 id="Upgradingfrom5.3to5.4-Step1:Upgradethelegacydistributionfiles">Step 1: Upgrade the legacy distribution files</h3><p>The easiest way to upgrade the distribution files is to unpack Exponential 5.4 to a separate directory and then copy the directories that contain site-specific files from the existing 5.3 installation into &quot;<em>/&lt;ezp5-root&gt;/</em>&quot;. Make sure you copy the following directories:</p><ul><li><code>exponential_legacy/design/&lt;your designs&gt;</code> (do NOT include built-in designs: admin, base, standard or admin2)</li><li><code>exponential_legacy/var/&lt;your_var_dir&gt;/storage</code></li><li><code>exponential_legacy/var/storage/packages</code></li><li><code>exponential_legacy/settings/siteaccess/&lt;your_siteaccesses&gt;</code></li><li><code>exponential_legacy/settings/override/*</code></li><li><code>exponential_legacy/extension/*</code> (not including the built-in / standalone ones: ezflow, ezjscore, ezoe, ezodf, ezie, ezmultiupload, ezmbpaex, ez_network, ezprestapiprovider, ezscriptmonitor, ezsi, ezfind)</li><li>src/</li><li><code><span>exponential_legacy/</span>config.php</code> &amp; <span>exponential_legacy/</span><code>config.cluster.php</code>, if applicable</li><li><code>exponential/config/*.yml</code></li></ul><p><em><strong>NB:</strong> Since writable directories and files have been replaced / copied, their permissions might have changed. You may have to reconfigure webserver user permissions on specific folders as explained in the file <a href="https://confluence.ez.no/pages/viewpage.action?pageId=7438581#InstallingExponentialonaLinux%2FUNIXbasedsystem-Settingupfolderpermission" class="external-link" rel="nofollow">permissions chapter of the installation process</a>.</em></p><h3 id="Upgradingfrom5.3to5.4-Step2:upgradecustomlegacyextensions">Step 2: upgrade custom legacy extensions</h3><p>If you are using custom extensions, the sub-directories inside the &quot;extension&quot; directory will also have to be copied from the existing 5.3 installation into &quot;<em>/&lt;ezp5-root&gt;/exponential_legacy/extension/</em>&quot;. However, make sure that you do not overwrite any extensions that are included in Exponential distribution, which currently are (<em><strong>Note:</strong> In Exponential Platform 5.4, extensions have version number 5.3 with exception of ezdemo, ezoe, ezformtoken, ezjscore and ezfind</em>):</p><p>Note that upgrading the distribution files will overwrite the autoload arrays for extensions. You will need to re-generate the autoload arrays for active extensions later.</p><p><em><strong>Important: </strong>If you plan to upgrade your eZ Website Interface, eZ Flow or eZ Demo site package as well, then additional extensions will be updated and the step for re-generate the autoload arrays can be skipped until that is done (links to documentation for upgrading these site packages can be found in the last step of this page).</em><a name="eztoc126882_4" rel="nofollow"></a></p><h3 id="Upgradingfrom5.3to5.4-Step3:upgradethedatabase">Step 3: upgrade the database</h3><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><span>This step assumes use of the built in database drivers, mysql (incl mariadb) and PostgreSQL, for other databases supported via extension please use scripts and documentation provided by extension.</span></p></div></div><p>Import to your database the changes provided in</p><p><code>/&lt;ezp5-root&gt;/exponential_legacy/update/database/&lt;mysql|postgresql&gt;/5.4/dbupdate-5.3.0-to-5.4.0.sql</code></p><p>If the installation is using the DFS cluster, import the cluster database changes provided in<br /><code>/&lt;ezp5-root&gt;/exponential_legacy/update/database/mysql/5.4/dbupdate-cluster-5.3.0-to-5.4.0.sql</code></p><h3 id="Upgradingfrom5.3to5.4-Step4:Apply5.4configurationchanges"><span style="color: rgb(0,98,147);">Step 4: Apply 5.4 configuration changes</span></h3><h4 id="Upgradingfrom5.3to5.4-YAMLfiles">YAML files</h4><p>Since default configuration files have been overwritten during step one, the few additions to those files that were made in 5.3 need to be applied manually to the configuration files.<br />All of those changes are <strong>additions</strong>, none of them replaces what you already have.</p><p>For most of them, at least one, if not all hierarchy elements (monolog, handler, framework, router...) will already be there. All you have to do is <strong>add the missing bits in the existing configuration block</strong>s.</p><h5 id="Upgradingfrom5.3to5.4-exponential/config/config.yml">exponential/config/config.yml</h5><p><em>trusted_hosts</em> has been changed and <em>session.handler_id</em> is added to the <em>framework</em> block making Symfony pick what has been configured in PHP instead.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[framework:
    trusted_hosts:   ~

    session:
        handler_id:  ~]]></script>
</div></div><p>Additionally configuration for <em>swift_mailer</em> has been added:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[swiftmailer:
    transport: &quot;%mailer_transport%&quot;
    host:      &quot;%mailer_host%&quot;
    username:  &quot;%mailer_user%&quot;
    password:  &quot;%mailer_password%&quot;
    spool:     { type: memory }]]></script>
</div></div><h5 id="Upgradingfrom5.3to5.4-exponential/config/config_dev.yml">exponential/config/config_dev.yml</h5><p>In framework, set <em>router.strict_requirements</em> to true.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[framework:
    router:
        resource: &quot;%kernel.root_dir%/config/routing_dev.yml&quot;
        strict_requirements: true]]></script>
</div></div><h5 id="Upgradingfrom5.3to5.4-exponential/config/config_prod.yml">exponential/config/config_prod.yml</h5><p>Remove <em>framework.router.strict_requirements</em> completely.</p><h5 id="Upgradingfrom5.3to5.4-exponential/config/routing.yml">exponential/config/routing.yml</h5><p>Add the liip imagine routes to the file:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[_liip_imagine:
  resource: &quot;@LiipImagineBundle/Resources/config/routing.xml&quot;]]></script>
</div></div><h5 id="Upgradingfrom5.3to5.4-exponential/config/parameters.yml.dist">exponential/config/parameters.yml.dist</h5><p class="wordwrap"><span style="font-family: Arial , sans-serif;font-size: 14.0px;line-height: 1.4285715;">If you have added anything to <code>parameters.yml</code>, we suggest that you add your custom settings to <code>parameters.yml.dist</code>, so that the composer post-update script handles those, and generates their values correctly.</span></p><p><em>exponential_legacy.default.view_default_layout</em> can be removed from this file, and the following added:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[parameters:
    mailer_transport:  smtp
    mailer_host:       127.0.0.1
    mailer_user:       ~
    mailer_password:   ~]]></script>
</div></div><p class="wordwrap">composer will ask for your own values when you run <em>composer update</em>.</p><h5 id="Upgradingfrom5.3to5.4-exponential/config/exponential*.yml">exponential/config/exponential*.yml</h5><p>In all exponential.yml files (prod, dev, etc), replace the &quot;<strong>handlers</strong>&quot; key in <em>stash.caches.*</em> with &quot;<strong>drivers</strong>&quot;.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[stash:
     caches:
         default:
            drivers:]]></script>
</div></div><h4 id="Upgradingfrom5.3to5.4-exponential/EzPublishKernel.php">exponential/EzPublishKernel.php</h4><p>It is not possible to just copy your old <code>EzPublishKernel.php</code> file over from the previous installation, since quite a few changes were made to this file in this release. We suggest that you simply update the new kernel file with any changes you made in the previous version.</p><p>New bundles in this version are <span style="color: rgb(52,52,52);"><em>EzPublishIOBundle</em>, </span><span style="color: rgb(52,52,52);"><em>FOSHttpCacheBundle</em>, </span><span style="color: rgb(52,52,52);"><em>LiipImagineBundle</em>, </span><span style="color: rgb(52,52,52);"><em>WhiteOctoberBreadcrumbsBundle</em>, </span><span style="color: rgb(52,52,52);"><em>KnpMenuBundle</em>, </span><span style="color: rgb(52,52,52);"><em>OneupFlysystemBundle</em> and </span><span style="color: rgb(52,52,52);"><em>SensioFrameworkExtraBundle</em>.</span></p><h4 id="Upgradingfrom5.3to5.4-composer.json">composer.json</h4><p>If you had modified <code>composer.json</code> to add your own requirements, you must re-apply those changes to the new version.</p><p><em>Note: Besides requirements changes there are also changes to other parts of composer.json, including improvements also found in <a href="5.3-5.html">5.3.3</a></em><em> and <a href="5.3-6.html">5.3.4</a></em><em>.</em></p><h4 id="Upgradingfrom5.3to5.4-Varnish(ifapplicable)">Varnish (if applicable)</h4><p>The recommended varnish (3 and 4) VCL configuration can now be found in the <code>doc/varnish</code> folder. See also the <a href="Using%2bVarnish.html">Using Varnish</a> page.</p><h4 id="Upgradingfrom5.3to5.4-UpdatetheDFSclusterconfiguration">Update the DFS cluster configuration</h4><p>If your legacy installation uses DFS clustering, you need to <a href="Upgrading%2bDFS%2bcluster%2bto%2b5.html">create the new stack configuration for it</a>.</p><h4 id="Upgradingfrom5.3to5.4-Webserverconfiguration">Web server configuration</h4><p>The officially recommended virtual configuration is now shipped in the <code>doc</code> folder, for both apache2 (<code>doc/apache2</code>) and nginx (<code>doc/nginx</code>). Both are built to be easy to understand and use, but aren't meant as drop-in replacements for your existing configuration.</p><p>One notable change is that <code>SetEnvIf</code> is now used to dynamically change rewrite rules depending on the Symfony environment. It is currently used for the assetic production rewrite rules.</p><p>Read more on the <a href="Web%2bservers.html">Web servers</a> page.</p><h4 id="Upgradingfrom5.3to5.4-Finalstep:webserverrewriterules"><span style="font-size: 14.0px;line-height: 1.5;">Final step: web server rewrite rules</span></h4><p>This is reflected in the apache2 and nginx configuration files that are shipped in the doc folder. The main change from legacy is that requests for images can now be rewritten to <code>web/index.php</code> instead of <code>exponential_legacy/index_cluster.php</code>.</p><h3 id="Upgradingfrom5.3to5.4-Step5:Runcomposerupdate">Step 5: Run composer update</h3><p>Run <code>composer update --no-dev --prefer-dist</code> to get the latest Exponential dependencies.</p><p>At the end of the process, you will be asked for values for the parameters previously added to <code>parameters.yml.dist</code>.</p><h3 id="Upgradingfrom5.3to5.4-Step6:Regeneratetheautoloadarrayforextensions">Step 6: Regenerate the autoload array for extensions</h3><p>To regenerate the autoload array, execute the following script from the root of your Exponential Legacy directory:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[cd exponential_legacy
php bin/php/ezpgenerateautoloads.php --extension]]></script>
</div></div><h3 id="Upgradingfrom5.3to5.4-Step7:Linkassets">Step 7: Link assets</h3><p>Assets from the various bundles need to be made available for the webserver through the web/ document root.</p><p>The following commands will first symlink Exponential 5 assets in &quot;Bundles&quot; and the second will symlink assets (design files like images, scripts and css, and files in var folder)  from Exponential Legacy:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<script type="syntaxhighlighter" class="brush: php; gutter: false; theme: Eclipse"><![CDATA[php exponential/console assets:install --symlink
php exponential/console exponential:legacy:assets_install --symlink
php exponential/console assetic:dump --env=prod]]></script>
</div></div><h3 id="Upgradingfrom5.3to5.4-Step8:Clearthecaches">Step 8: Clear the caches</h3><p>Whenever an Exponential solution is upgraded, all caches must be cleared in a proper way. This should be done from within a system shell:<br />Navigate into the new Exponential directory.Run the script using the following shell command: <code>cd /&lt;ezp5-root&gt;/exponential_legacy/; php bin/php/ezcache.php --clear-all --purge</code>. Purging ensures that the caches are physically removed. When the &quot;--purge&quot; parameter is not specified, the caches will be expired but not removed.<br />Note: Sometimes the script is unable to clear all cache files because of restrictive file/directory permission settings. Make sure that all cache files have been cleared by inspecting the contents of the various cache sub-directories within the &quot;var&quot; directory (typically the &quot;var/cache/&quot; and &quot;var/&lt;name_of_siteaccess&gt;/cache/&quot; directories). If there are any cache files left, you need to remove them manually.</p><h3 id="Upgradingfrom5.3to5.4-MinorVersionsUpdateWarning">Minor Versions Update Warning</h3><p>Please have in mind that, after the upgrade to a major version of Exponential, you will need to perform regular updates with composer.</p><p>Before any minor update with composer, please execute all require steps described in the <span class="confluence-link"><a href="5.4-10.html">5.4.x Update Instructions</a></span>.</p>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/EZP/Upgrading+from+5.3+to+5.4"
    dc:identifier="https://doc.ez.no/display/EZP/Upgrading+from+5.3+to+5.4"
    dc:title="Upgrading from 5.3 to 5.4"
    trackback:ping="https://doc.ez.no/rpc/trackback/25985666"/>
</rdf:RDF>
-->

            
    



<div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="25985666" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right ">
                    
        <li class="aui-label " data-label-id="21430346"><a class="aui-label-split-main" href="../../label/EZP/upgrade.html" rel="tag">upgrade</a></li>
            </ul>

    </div>
</div>
</div>

                    <div id="children-section" class="pageSection children-showing group">
                
        <div class="section-header ">
            <h2 id="children-section-title" class="section-title">
                <a href="Upgrading%2bfrom%2b5.3%2bto%2b56da2.html?showChildren=false#children" class="children-show-hide">
                                            1 Child Page
                                    </a>
            </h2>

            <a href="Upgrading%2bfrom%2b5.3%2bto%2b56da2.html?showChildren=false#children" class="children-show-hide icon"></a>
            <!--
            <span class="noprint grey">
                <a class="children-subtitle" href="/pages/listpages-dirview.action?key=EZP&amp;openId=25985666#selectedPageInHierarchy">Reorder Pages</a>
                            </span>
            -->
        </div>
        <div id="page-children" class="pageSectionBody children-loaded">
                                        <span class="child-display">
                                 <span class="icon aui-icon aui-icon-small aui-iconfont-page-default" title="Page">Page:</span>                 <a href="Upgrading%2bDFS%2bcluster%2bto%2b5.html">Upgrading DFS cluster to 5.4</a>
                         </span>
                                </div>
        </div>
    
            




            
    








                        
    
<div id="comments-section" class="pageSection group">
                <div class="section-header">
            <h2 id="comments-section-title" class="section-title">
                                    3 Comments
                            </h2>
        </div>
    
    

            <ol class="comment-threads top-level" id="page-comments">
                    <li id="comment-thread-26673314" class="comment-thread">
        <div class="comment  " id="comment-26673314">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: arnottg" title="arnottg">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../login47b7.html"
                       class="url fn"
                            >Gareth Arnott</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <blockquote><p>It is not possible to just copy your old <code>EzPublishKernel.php</code> file over from the previous installation</p></blockquote><p>If you choose to ignore this warning then take care: the <code>new</code> instances must be kept in order. Specifically: <code>EzPublishCoreBundle() </code>must appear after <code>LiipImagineBundle()</code>, as eZ overrides parameters in that bundle.</p>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Upgrading%2bfrom%2b5.3%2bto%2b5bb65.html?focusedCommentId=26673314#comment-26673314"
                 id="comment-permalink-26673314"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Dec 09, 2014 15:01" href="Upgrading%2bfrom%2b5.3%2bto%2b5bb65.html?focusedCommentId=26673314#comment-26673314"
                                    ><span>Dec 09, 2014</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/EZP/Upgrading+from+5.3+to+5.4?focusedCommentId=26673314#comment-26673314"
    dc:identifier="https://doc.ez.no/display/EZP/Upgrading+from+5.3+to+5.4?focusedCommentId=26673314#comment-26673314"
    dc:title="Upgrading from 5.3 to 5.4"
    trackback:ping="https://doc.ez.no/rpc/trackback/26673314"/>
</rdf:RDF>
-->

    
</li>
                    <li id="comment-thread-26673316" class="comment-thread">
        <div class="comment  " id="comment-26673316">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: Hakim" title="Hakim">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../login32b3.html"
                       class="url fn"
                            >Hakim Bouras</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p>&quot;composer update --no-dev --prefer-dist&quot; does not work (tried on windows 7). It gives the following error :</p><p>[InvalidArgumentException]</p><p>  The &quot;../exponential/../exponential_legacy/design/&quot; directory does not exist.</p><p>(<a href="https://jira.ez.no/browse/EZP-23710" class="external-link" rel="nofollow">see bug on Jira</a>)</p>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Upgrading%2bfrom%2b5.3%2bto%2b5f8c1.html?focusedCommentId=26673316#comment-26673316"
                 id="comment-permalink-26673316"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Dec 10, 2014 07:42" href="Upgrading%2bfrom%2b5.3%2bto%2b5f8c1.html?focusedCommentId=26673316#comment-26673316"
                                    ><span>Dec 10, 2014</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/EZP/Upgrading+from+5.3+to+5.4?focusedCommentId=26673316#comment-26673316"
    dc:identifier="https://doc.ez.no/display/EZP/Upgrading+from+5.3+to+5.4?focusedCommentId=26673316#comment-26673316"
    dc:title="Upgrading from 5.3 to 5.4"
    trackback:ping="https://doc.ez.no/rpc/trackback/26673316"/>
</rdf:RDF>
-->

    
</li>
                    <li id="comment-thread-32114521" class="comment-thread">
        <div class="comment  " id="comment-32114521">
        <p class="comment-user-logo">
            <img class="userLogo logo anonymous" src="../../s/en_GB/5983/f3e491afc761ac0a6981cfa3dcbc04fc7e88c149.16/_/images/icons/profilepics/anonymous.png"
           alt="User icon: arnaud.lafon@gmail.com" title="arnaud.lafon@gmail.com">        </p>
        <div class="comment-header">
            <h4 class="author">    <a href="../../loginb5bd.html"
                       class="url fn"
                            >Arnaud Lafon</a></h4>
        </div>
        <div class="comment-body">
            <div class="comment-content wiki-content">
                <p>Due to liip_imagine implementation, it seems that custom filters need to be redefined under liip_imagine:filter_sets in config.yml or exponential.yml (previously under exponential:imagemagick:filters). Can someone confirm ?</p><p>Not clear also for me if backward compatibility requires filters to be defined under liip_imagine:filters_sets AND exponential:imagemagick:filters...</p>
            </div>
            <div class="comment-actions">
                                                <ul class="comment-actions-secondary">
                                                              <li class="first comment-permalink"><a title="Permanent link to this comment" href="Upgrading%2bfrom%2b5.3%2bto%2b5fb04.html?focusedCommentId=32114521#comment-32114521"
                 id="comment-permalink-32114521"                     ><span>Permalink</span></a></li>
            </ul>
                                    <ul class="comment-actions-primary">
                                                              <li class="first comment-date"><a title="Aug 05, 2016 09:38" href="Upgrading%2bfrom%2b5.3%2bto%2b5fb04.html?focusedCommentId=32114521#comment-32114521"
                                    ><span>Aug 05, 2016</span></a></li>
            </ul>
                </div>
        </div>
    </div>

    <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="https://doc.ez.no/display/EZP/Upgrading+from+5.3+to+5.4?focusedCommentId=32114521#comment-32114521"
    dc:identifier="https://doc.ez.no/display/EZP/Upgrading+from+5.3+to+5.4?focusedCommentId=32114521#comment-32114521"
    dc:title="Upgrading from 5.3 to 5.4"
    trackback:ping="https://doc.ez.no/rpc/trackback/32114521"/>
</rdf:RDF>
-->

    
</li>
            </ol>


</div>


            
</div>


    




    
    

    
    
    








</div>
  
        <div id="theme-footer">
            <p>© 1999-2016 <a href="http://ez.no/" class="external-link" rel="nofollow">eZ Systems AS</a> and others</p>
        </div>
    
    </div>
</div>


        
            
            

<div id="footer" role="contentinfo">
    <section class="footer-body">

                                                            <p class="license license-opensource">
                    Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to Exponential. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                    
        

        <ul id="poweredby">
            <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> <span id='footer-build-information'>5.8.5</span>, <a href="http://www.atlassian.com/software/confluence/overview/team-collaboration-software?utm_source=confluence-footer" class="hover-footer-link">Team Collaboration Software</a></li>
            <li class="print-only">Printed by Atlassian Confluence 5.8.5, Team Collaboration Software.</li>
            <li class="noprint"><a href="https://jira.atlassian.com/browse/CONF" class="hover-footer-link">Report a bug</a></li>
            <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
        </ul>

        

        <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>

                    <script>
AJS.toInit(function(){
 if(AJS.params.spaceKey &&
    AJS.params.spaceKey === 'MAIN' ||
    AJS.params.spaceKey === 'EZMA' ||
    AJS.params.spaceKey === 'ODC' ||
    AJS.params.spaceKey === 'EZP50' ||
    AJS.params.spaceKey === 'EZP51' ||
    AJS.params.spaceKey === 'EZP52' ||
    AJS.params.spaceKey === 'EZPCLOUD' ||
    AJS.params.spaceKey === 'EZP' ||
    AJS.params.spaceKey === 'TECHDOC' ||
    AJS.params.spaceKey === 'USERGUIDE' ||
    AJS.params.spaceKey === 'EZRECO'
){

(function()
{var isSecure=('https:'==document.location.protocol);var ff=document.createElement('script');ff.type='text/javascript';ff.async=true;ff.src=(isSecure?'https':'http')+'://'+(isSecure?'secure.':'lb.')+'liveviewer.ez.no/statjs/sst-120-1304513615/stat.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ff,s);}
)();

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-303624-13', 'ez.no');
  ga('send', 'pageview');
}}
);
</script>
        
    </section>
</div>

    </div>
</body>

<!-- Mirrored from doc.ez.no/display/EZP/Upgrading+from+5.3+to+5.4 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 08:25:45 GMT -->
</html>
