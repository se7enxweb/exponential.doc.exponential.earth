
<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from doc.ez.no/Exponential/Technical-manual/3.8/Installation/Upgrading/from-3.6.x-or-3.7.x-to-3.8.0 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 07:45:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

<link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/core.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer-lookfeel.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/pagelayout.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/buttons.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/960.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/superfish.css" /><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery-1.6.3.min.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/superfish.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery.popmenu.min.js" charset="utf-8"></script>
<style type="text/css">
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                                    
    <title>from 3.6.x or 3.7.x to 3.8.0 / Upgrading / Installation / 3.8 / Technical manual / Exponential / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="Exponential Documentation" />
                    <meta name="keywords" content="Exponential, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="Exponential" />
    <link rel="Home" href="../../../../../index.html" title="Doc front page" />
<link rel="Search" href="../../../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


    <div class="topmenu-anchor"></div>
    <div id="topmenu-bg">
	    <div id="logo" class="container_12">

    <div class="grid_3">
        <a href="https://exponential.doc.exponential.earth/Exponential/" title="Exponential Platform, CXM &amp; CMS">
            <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/exponential.png"
                 alt="" height="45px"/>
        </a>
    </div>

    <div class="grid_9">
                <div class="topmenu-design">
	<!-- Top menu content: START -->
	<div id="topmenu-firstlevel-position">
	<ul id="topmenu-firstlevel" class="sf-menu sf-js-enabled sf-shadow">
		
		
		        </ul>
    </div>
        <!-- Top menu content: END -->
</div>        </div>
</div>    </div>


<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="https://exponential.doc.exponential.earth/">7x</a> /
                        <a href="../../../../../index.html">documentation</a>
        
                        /
                            <a href="../../../../../Exponential.html">exponential</a>
        
                        /
                            <a href="../../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../../3-3.html">3.8</a>
        
                        /
                            <a href="../../Installation.html">installation</a>
        
                        /
                            <a href="../Upgrading.html">upgrading</a>
        
                        /
                            from 3.6.x or 3.7.x to 3.8.0
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>Exponential</strong>, from version 3.x to 6.x.<br/>
                For 5.x documentation covering <em>Platform</em> see <a href="../../../../../display/MAIN/eZ%2bDocumentation%2bCenter.html">Exponential Platform Documentation</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="../../../../../pages/viewpage0139.html?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../../3-3.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter-selected  "
		
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Normal-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Normal installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Normal-installation/Requirements-for-doing-a-normal-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements for doing a normal installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Normal-installation/Installing-eZ-publish-on-a-Linux-UNIX-based-system.html" title="">
	    	    		                    		    <span class="node-name-normal">Installing eZ publish on a Linux/UNIX based system</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Normal-installation/Installing-eZ-publish-on-Windows.html" title="">
	    	    		                    		    <span class="node-name-normal">Installing eZ publish on Windows</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Bundled-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Bundled installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Bundled-installation/Requirements-for-doing-a-bundled-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements for doing a bundled installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Bundled-installation/Installing-an-eZ-publish-bundle-on-a-Linux-based-system.html" title="">
	    	    		                    		    <span class="node-name-normal">Installing an eZ publish bundle on a Linux based system</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Bundled-installation/Installing-an-eZ-publish-bundle-on-Windows.html" title="">
	    	    		                    		    <span class="node-name-normal">Installing an eZ publish bundle on Windows</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Manual-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Manual-installation/Requirements-for-doing-a-manual-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements for doing a manual installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Manual-installation/Manual-installation-on-a-Linux-UNIX-based-system.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual installation on a Linux/UNIX based system</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Manual-installation/Manual-installation-on-Windows.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual installation on Windows</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Manual-installation/Manual-configuration-of-eZ-publish.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual configuration of eZ publish</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Automated-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Automated installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Automated-installation/Requirements-for-doing-an-automated-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements for doing an automated installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Automated-installation/Automated-installation-of-eZ-publish.html" title="">
	    	    		                    		    <span class="node-name-normal">Automated installation of eZ publish</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-setup-wizard.html" title="">
	    	    		                    		    <span class="node-name-normal">The setup wizard</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Virtual-host-setup.html" title="">
	    	    		                    		    <span class="node-name-normal">Virtual host setup</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Virtual-host-setup/Virtual-host-example.html" title="">
	    	    		                    		    <span class="node-name-normal">Virtual host example</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			class="currentnode"
		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="from-3.6.x-or-3.7.x-to-3.8.html" title="">
	    	    		                    		    <span class="node-name-normal">from 3.6.x or 3.7.x to 3.8.0</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="from-3.8.x-to-3.8.html" title="">
	    	    		                    		    <span class="node-name-normal">from 3.8.x to 3.8.y</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Removing-Exponential.html" title="">
	    	    		                    		    <span class="node-name-normal">Removing Exponential</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Removing-Exponential/Removing-an-Exponential-bundle.html" title="">
	    	    		                    		    <span class="node-name-normal">Removing an Exponential bundle</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Extensions.html" title="">
	    	    		                    		    <span class="node-name-normal">Extensions</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Extensions/Extracting-the-files.html" title="">
	    	    		                    		    <span class="node-name-normal">Extracting the files</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Extensions/Activating-the-extension.html" title="">
	    	    		                    		    <span class="node-name-normal">Activating the extension</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Troubleshooting.html" title="">
	    	    		                    		    <span class="node-name-normal">Troubleshooting</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Concepts-and-basics.html" title="">
	    	    		                    		    <span class="node-name-normal">Concepts and basics</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Templates.html" title="">
	    	    		                    		    <span class="node-name-normal">Templates</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Features.html" title="">
	    	    		                    		    <span class="node-name-normal">Features</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../../Reference.html" title="">
	    	    		                    		    <span class="node-name-normal">Reference</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>from 3.6.x or 3.7.x to 3.8.0</h1>
</div>

 <p>This section describes how to upgrade your existing Exponential 3.6.x / 3.7.x installation to version 3.8.0. If you are upgrading from a version prior to Exponential 3.6.0, you need to first <a href="../../../../Upgrading/Upgrading-to-3.6/from-3.5.2-to-3.6.html" target="_self">upgrade to 3.6.0</a> before you can upgrade to 3.8.0.</p>    <a name="eztoc23434_0_0_1" id="eztoc23434_0_0_1"></a><h4>Important note</h4> <p>Before continuing, note that it is recommended to upgrade directly to the latest stable release in the 3.8 branch, which is version 3.8.10. Refer to &quot;<a href="../../../../Upgrading/Upgrading-from-3.a.b-to-3.x.html" target="_self">Upgrading from 3.a.b to 3.x.y</a>&quot; and &quot;<a href="../../../../Upgrading/Upgrading-to-3.8/from-3.8.x-to-3.8.html" target="_self">Upgrading from 3.8.x to 3.8.y</a>&quot; to learn how this can be done. Note that there is a significant problem with Exponential 3.8.0-3.8.8. More precisely, the discount functionality of the shop module contains a security vulnerability. The issue has been fixed in version 3.8.9. Refer to the <a href="http://ez.no/community/news/ez_publish_security_fixes_3_9_3_and_3_8_9" target="_blank">announcement</a> and the upgrade instructions for details. </p> <p>Make sure that you have a working <a href="../../../../Upgrading.html#backup" target="_self">backup</a> of the site before you do the actual upgrade. The upgrade procedure consists of the following steps:</p> 
<ol>
 <li><div> Upgrading the distribution files to 3.8.0 </div></li> <li><div> Upgrading the database to 3.8.0 </div></li> <li><div> Running the system upgrade scripts </div></li> <li><div> Updating the system configuration </div></li> <li><div> Clearing the caches </div></li> 
</ol>
     <a name="eztoc23434_1" id="eztoc23434_1"></a><h2>Step 1: Upgrading the distribution files</h2> <p>The easiest way to upgrade the distribution files is to unpack Exponential 3.8.0 to a directory and then copy the directories that contain site-specific files from the existing installation. Make sure that you copy the following directories:</p> 
<ul>
 <li><div> design/example </div></li> <li><div> design/example_admin </div></li> <li><div> var </div></li> <li><div> settings/siteaccess </div></li> <li><div> settings/override </div></li> 
</ul>
 <p>Replace &quot;example&quot; and &quot;example_admin&quot; with actual names used by your siteaccesses.</p>  <a name="eztoc23434_1_1" id="eztoc23434_1_1"></a><h3>Custom extensions</h3> <p>If you are using custom extensions then the subdirectories inside the &quot;extension&quot; directory will also have to be copied. However, make sure that you do not overwrite any extensions that come with Exponential (for example the &quot;PayPal&quot; extension).</p>    <a name="eztoc23434_2" id="eztoc23434_2"></a><h2>Step 2: Upgrading the database</h2> <p>The following text describes how a 3.6.0 database can be upgraded to 3.8.0.</p>  <a name="eztoc23434_2_2" id="eztoc23434_2_2"></a><h3>MySQL</h3> 
<ol>
 <li><div> Navigate into the Exponential 3.8.0 directory. </div></li> <li><div> Run the database upgrade script: <pre class="wordwrap"><span class="line">mysql -u &lt;username&gt; -p&lt;password&gt; &lt;database&gt; &lt; update/database/mysql/3.8/dbupdate-3.6.0-to-3.8.0.sql</span>
</pre>  </div></li> 
</ol>
 <p>Note that the CREATE TABLE statements in the database upgrade script do not specify which storage engine to use (no ENGINE or TYPE option), and thus the default storage engine will be used. Normally, it is MyISAM (starting from MySQL v.3.23). If you are using InnoDB, make sure the default storage engine is set to InnoDB before you run the database upgrade script (refer to <a href="http://dev.mysql.com/doc/refman/5.0/en/storage-engines.html" target="_blank">MySQL documentation</a> for information about how to set the default engine). If you were not able to change the MySQL configuration on your server, and the upgrade left you with a mix of table types, you can use the &quot;bin/php/ezconvertmysqltabletype.php&quot; script for database conversion. It is also possible to convert the newly created tables to InnoDB using ALTER TABLE statements as shown in the following example:</p> <pre class="wordwrap"><span class="line">ALTER TABLE table_name1 TYPE = innodb;</span>
<span class="line">ALTER TABLE table_name2 TYPE = innodb;</span>
<span class="line">...</span>
</pre> <p>Replace &quot;table_name1&quot;, &quot;table_name2&quot; with the actual names of the tables that need to be converted.</p>   <a name="eztoc23434_2_3" id="eztoc23434_2_3"></a><h3>PostgreSQL</h3> 
<ol>
 <li><div> Navigate into the Exponential 3.8.0 directory. </div></li> <li><div> Run the database upgrade script: <pre class="wordwrap"><span class="line">psql -d &lt;database&gt; -U &lt;dbowner&gt; &lt; update/database/postgresql/3.8/dbupdate-3.6.0-to-3.8.0.sql</span>
</pre>  </div></li> 
</ol>
    <a name="eztoc23434_3" id="eztoc23434_3"></a><h2>Step 3: Running the system upgrade scripts</h2> <p>The 3.8.0 version of Exponential introduces a couple of new features. In order to make sure that your site is compatible with these features, you'll have to run a couple of upgrade scripts.</p> <p> <a name="updatemultilingual"></a>
 </p>  <a name="eztoc23434_3_4" id="eztoc23434_3_4"></a><h3>Improved multi-language functionality</h3> <p>The 3.8.0 version of Exponential introduces <a href="http://ez.no/download/ez_publish/changelogs/ez_publish_3_8/multi_language_features_for_the_content_model" target="_self">improved multi-language functionality</a>. In order to make sure that your site is compatible with this new feature, you will have to update the configuration settings and run the &quot;updatemultilingual.php&quot; script. This step must be done even though your site has only one language.</p>  <a name="eztoc23434_3_4_2" id="eztoc23434_3_4_2"></a><h4>Configuring languages</h4> <p>Before running the upgrade script you need to <a href="../../Features/Multi-language/Configuring-the-site-languages.html" target="_self">configure how the languages must be displayed on your site</a>. </p> <p>
For the public siteaccess(es) where only specific languages should be shown, add the following lines into the &quot;<a href="../../Reference/Configuration-files/site.ini/RegionalSettings.html" target="_self">[RegionalSettings]</a>&quot; section of the &quot;settings/siteaccess/example/site.ini.append.php&quot; file (replace &quot;example&quot; with the actual name of the siteaccess):<br /></p><pre class="wordwrap copytoclipboard"><span class="line">SiteLanguageList[]</span>
<span class="line">SiteLanguageList[]=&lt;my-first-language&gt;</span>
<span class="line">SiteLanguageList[]=&lt;my-second-language&gt;</span>
<span class="line">ShowUntranslatedObjects=disabled</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'SiteLanguageList[]\r\nSiteLanguageList[]=&lt;my-first-language&gt;\r\nSiteLanguageList[]=&lt;my-second-language&gt;\r\nShowUntranslatedObjects=disabled' ); return false;" /></p>
<![endif]--><p>&nbsp;</p> <p>
e.g. for British English and German languages you would do:<br /></p><pre class="wordwrap copytoclipboard"><span class="line">SiteLanguageList[]</span>
<span class="line">SiteLanguageList[]=eng-GB</span>
<span class="line">SiteLanguageList[]=ger-DE</span>
<span class="line">ShowUntranslatedObjects=disabled</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'SiteLanguageList[]\r\nSiteLanguageList[]=eng-GB\r\nSiteLanguageList[]=ger-DE\r\nShowUntranslatedObjects=disabled' ); return false;" /></p>
<![endif]--><p>&nbsp;</p> <p>This will tell the system that English has the highest priority and German is the second language. Any other languages will not be shown.</p> <p>
For the siteaccess(es) like administration interface where all languages should be shown, add the following lines into the &quot;[RegionalSettings]&quot; section of the &quot;settings/example_admin/site.ini.append.php&quot; file (replace &quot;example_admin&quot; with the actual name of the siteaccess):<br /></p><pre class="wordwrap copytoclipboard"><span class="line">SiteLanguageList[]</span>
<span class="line">SiteLanguageList[]=&lt;my-first-language&gt;</span>
<span class="line">SiteLanguageList[]=&lt;my-second-language&gt;</span>
<span class="line">ShowUntranslatedObjects=enabled</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'SiteLanguageList[]\r\nSiteLanguageList[]=&lt;my-first-language&gt;\r\nSiteLanguageList[]=&lt;my-second-language&gt;\r\nShowUntranslatedObjects=enabled' ); return false;" /></p>
<![endif]--><p>&nbsp;</p> <p>
e.g. for British English and German languages you would do:<br /></p><pre class="wordwrap copytoclipboard"><span class="line">SiteLanguageList[]</span>
<span class="line">SiteLanguageList[]=eng-GB</span>
<span class="line">SiteLanguageList[]=ger-DE</span>
<span class="line">ShowUntranslatedObjects=enabled</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'SiteLanguageList[]\r\nSiteLanguageList[]=eng-GB\r\nSiteLanguageList[]=ger-DE\r\nShowUntranslatedObjects=enabled' ); return false;" /></p>
<![endif]--><p>&nbsp;</p> <p>This will tell the system that English has the highest priority and German is the second language. All other languages will still be shown (and editable) but will have less priority. The &quot;ShowUntranslatedObjects&quot; setting controls whether all languages are shown or not.</p>   <a name="eztoc23434_3_4_3" id="eztoc23434_3_4_3"></a><h4>Running the upgrade script</h4> <p>The &quot;updatemultilingual.php&quot; script should be run for all siteaccesses that use different databases. If you only have a public and an administration siteaccess (which is the most typical/usual case), then you will only need to run the script for one of the siteaccesses. If the siteaccess isn't specified, the default siteaccess will be used. Note that you will need to either publish or remove all the unpublished drafts in your system before launching this script.</p> <p>The following example shows how to run the script:</p>
<ol>
 <li><div> Navigate into the Exponential 3.8.0 directory. </div></li> <li><div> 
Run the script (replace &quot;example&quot; with the actual name of your siteaccess):<br /> <pre class="wordwrap"><span class="line">php update/common/scripts/updatemultilingual.php -s example</span>
</pre>  </div></li> 
</ol>
 <p>It is strongly recommended to read the information the script provides before continuing. If unsure press Control + C on your keyboard while the shell/console is active.</p> <p> <a name="updaterssimport"></a>
 </p>    <a name="eztoc23434_3_5" id="eztoc23434_3_5"></a><h3>RSS import enhancements (optional)</h3> <p>The 3.8.0 version of Exponential introduces <a href="https://github.com/ezsystems/exponential-legacy/blob/master/doc/features/3.8/generic_rss_import.txt" target="_self">more generic RSS import</a> that allows using custom RSS import definitions. If you are using the RSS import functionality on your site, you will have to run the &quot;updaterssimport.php&quot; script. This script should be run for all siteaccesses that use different databases. If you only have a public and an administration siteaccess (which is the most typical/usual case), then you will only need to run the script for one of the siteaccesses. If the siteaccess isn't specified, the <a href="../../../3.9/Reference/Configuration-files/site.ini/SiteSettings/DefaultAccess.html" target="_self">default siteaccess</a> will be used. </p> <p>The following text shows how this can be done.</p> 
<ol>
 <li><div> Navigate into the Exponential 3.8.0 directory. </div></li> <li><div> 
Run the script (replace &quot;example&quot; with the actual name of your siteaccess):<br /> <pre class="wordwrap"><span class="line">php update/common/scripts/updaterssimport.php -s example</span>
</pre>  </div></li> 
</ol>
    <a name="eztoc23434_4" id="eztoc23434_4"></a><h2>Step 4: Updating the system configuration</h2>  <a name="eztoc23434_4_6" id="eztoc23434_4_6"></a><h3>Treemenu configuration</h3> <p>In Exponential 3.8, the default configuration for the left treemenu in the administration interface has changed i.e. only folder, forum, gallery and user group objects are visible in the menu by default. (In previous versions, objects of any class were shown in the treemenu and this could cause problems when the number of objects in the system increased.)</p> <p>The classes that the visible objects belong to are determined by the &quot;ShowClasses[]&quot; array located under the &quot;[TreeMenu]&quot; section of the &quot;settings/contentstructuremenu.ini&quot; configuration file. The following configuration is used by default: </p><pre class="wordwrap copytoclipboard"><span class="line">[TreeMenu]</span>
<span class="line">ShowClasses[]</span>
<span class="line">ShowClasses[]=folder</span>
<span class="line">ShowClasses[]=forum</span>
<span class="line">ShowClasses[]=gallery</span>
<span class="line">ShowClasses[]=user_group</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[TreeMenu]\r\nShowClasses[]\r\nShowClasses[]=folder\r\nShowClasses[]=forum\r\nShowClasses[]=gallery\r\nShowClasses[]=user_group' ); return false;" /></p>
<![endif]--> <p>If you want to display other objects in the treemenu, e.g. user and article objects, do the following:</p> 
<ol>
 <li><div> Open the &quot;contentstructuremenu.ini.append.php&quot; configuration file located in the &quot;settings/override&quot; or &quot;settings/siteaccess/example_admin&quot; directory (replace &quot;example_admin&quot; with the actual name of your admin siteaccess) and edit it. If the file does not exist, create it. </div></li> <li><div> Add the following lines under the &quot;[TreeMenu]&quot; section: <pre class="wordwrap"><span class="line">[TreeMenu]</span>
<span class="line">ShowClasses[]=user</span>
<span class="line">ShowClasses[]=article</span>
</pre>where &quot;user&quot; and &quot;article&quot; are class identifiers. </div></li> 
</ol>
 <p>It is possible (but not recommended) to make the treemenu showing objects of all classes as in previous versions of Exponential. To do this, use the following configuration in the &quot;contentstructuremenu.ini.append.php&quot; file: </p><pre class="wordwrap"><span class="line">[TreeMenu]</span>
<span class="line">ShowClasses[]</span>
</pre>   <a name="eztoc23434_4_7" id="eztoc23434_4_7"></a><h3>Binary files indexing configuration</h3> <p>
In Exponential versions prior to 3.8.0, the following default settings for <a href="http://ez.no/products/ez_publish/documentation/configuration/configuration/search_engine/configuring_binary_file_indexing" target="_self">binary file indexing</a> were specified in the &quot;binaryfile.ini&quot; configuration file:<br /></p><pre class="wordwrap copytoclipboard"><span class="line">[HandlerSettings]</span>
<span class="line">MetaDataExtractor[text/plain]=plaintext</span>
<span class="line">MetaDataExtractor[application/pdf]=pdf</span>
<span class="line">MetaDataExtractor[application/msword]=word</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[HandlerSettings]\r\nMetaDataExtractor[text/plain]=plaintext\r\nMetaDataExtractor[application/pdf]=pdf\r\nMetaDataExtractor[application/msword]=word' ); return false;" /></p>
<![endif]--><p>&nbsp;</p> <p>
In Exponential 3.8.0, the default settings for binary file indexing have been changed. This is how the new settings look like:<br /></p><pre class="wordwrap copytoclipboard"><span class="line">[HandlerSettings]</span>
<span class="line">MetaDataExtractor[text/plain]=ezplaintext</span>
<span class="line">MetaDataExtractor[application/pdf]=ezpdf</span>
<span class="line">MetaDataExtractor[application/msword]=ezword</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '[HandlerSettings]\r\nMetaDataExtractor[text/plain]=ezplaintext\r\nMetaDataExtractor[application/pdf]=ezpdf\r\nMetaDataExtractor[application/msword]=ezword' ); return false;" /></p>
<![endif]--><p>&nbsp;</p> <p>If you have overridden these settings in your &quot;binaryfile.ini.append.php&quot; then you need to review your settings.</p>   <a name="eztoc23434_4_8" id="eztoc23434_4_8"></a><h3>Default configuration of unique user emails</h3> <p>
In Exponential versions prior to 3.8.0, the default configuration does not allow different users to be registered with the exact same email address. This is just a built-in precaution mechanism which can be easily turned off by setting the &quot;<a href="../../Reference/Configuration-files/site.ini/UserSettings/RequireUniqueEmail.html" target="_self">RequireUniqueEmail</a>&quot; directive within the [UserSettings] block of a configuration override for &quot;site.ini&quot; to &quot;false&quot;. However, this default configuration has been accidentally changed in Exponential version 3.8.0 (refer to <a href="http://issues.ez.no/9643" target="_blank">http://issues.ez.no/9643</a> for more information). The change is reverted in Exponential version 3.8.7. If you are going to use Exponential 3.8.0-3.8.6, it is recommended to add the following line to the [UserSettings] block of the &quot;override/site.ini.append.php&quot; configuration file:<br /></p><pre class="wordwrap"><span class="line">RequireUniqueEmail=true</span>
</pre><p>&nbsp;</p>    <a name="eztoc23434_5" id="eztoc23434_5"></a><h2>Step 5: Clearing the caches</h2> <p>Whenever an Exponential solution is upgraded, all caches must be cleared in a proper way. This should be done from within a system shell:</p> 
<ol>
 <li><div> Navigate into the Exponential 3.8.0 directory. </div></li> <li><div> 
Run the clear cache script:<br /> <pre class="wordwrap"><span class="line">bin/shell/clearcache.sh --clear-all</span>
</pre>  </div></li> 
</ol>
 <p>Make sure that all caches are cleared. Sometimes the script is unable to clear caches because of restrictive file/directory permission settings. Make sure that all caches have been cleared by inspecting the contents of the various cache subdirectories within the &quot;var&quot; directory.</p> 

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Balazs Halasy&nbsp;(22/04/2005 9:48 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Julia Shymova&nbsp;(26/12/2007 4:24 pm)</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<div id="comments-content">
<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment6392" class="attribute-heading">
<h2>Policies / Siteaccess needs update too</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Saturday 19 August 2006 2:23:57 pm</p>
    <p class="author">Georg</p>
</div>

<div class="attribute-short">
Hi,<br />
<br />
after you have upgraded, you need to adjust all roles too.<br />
<br />
a) You need to specify the role -&gt; policy -&gt; login (Siteaccesses) again (maybe a bug)<br />
b) There is a new policy setting for &quot;self edit&quot;. If you allow anonymous users to write content, you should alter the anonymous policy: content / edit: Owner( Self or anonymous users per HTTP session ) - thats a new setting.<br />
<br />
Best wishes,<br />
Georg.
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="6392" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/3.8/Installation/Upgrading/from-3.6.x-or-3.7.x-to-3.8.0" />

</form>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment6408" class="attribute-heading">
<h2>Re: Policies / Siteaccess needs update too</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Sunday 27 August 2006 7:30:06 am</p>
    <p class="author">Ole</p>
</div>

<div class="attribute-short">
It's must easer whit WordPress, Drupal og Joomla.<br />
This is to much work 
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="6408" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/3.8/Installation/Upgrading/from-3.6.x-or-3.7.x-to-3.8.0" />

</form>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment6641" class="attribute-heading">
<h2>Cache and RelatedSiteAccessList</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 28 November 2006 5:54:32 pm</p>
    <p class="author">Vincent Lepot @ Smile.fr</p>
</div>

<div class="attribute-short">
When installing 3.8 from scratch, it adds 2 lines in settings/siteaccess/example/site.ini.append.php in [SiteAccessSettings] section<br />
<br />
RelatedSiteAccessList[]=example<br />
RelatedSiteAccessList[]=example_admin<br />
<br />
Those lines are used in view caching invalidation during publishing content.<br />
<br />
I think that they should be added too.<br />

</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="6641" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/3.8/Installation/Upgrading/from-3.6.x-or-3.7.x-to-3.8.0" />

</form>


</div>
</div>    </div></li></ul>
</div>
<div class="toolbar">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">
<input class="button" type="submit" name="NewButton" value="New comment" />
<input type="hidden" name="NodeID" value="4412" />
<input type="hidden" name="RedirectURIAfterPublish" value="Exponential/Technical-manual/3.8/Installation/Upgrading/from-3.6.x-or-3.7.x-to-3.8.0" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>

        <div id="footer-bg">
        <div id="footer" class="container_12">

            <div class="grid_3">
                <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/exponential.png" alt="exponential" />
                <div id="footer-copyright" class="grid_3 alpha omega">
                                    </div>
            </div>

            <div class="grid_6 middle">
                <div class="grid_6 alpha omega">
                    <div class="grid_3 alpha"><div></div></div>
                    <div class="grid_3 omega"><div></div></div>
                </div>
            </div>

            <div class="grid_3 right">
                <div class="contact-ez">
                        Get the support you need faster! Ask the experts at 7x. <a id="cta-contact" href="https://se7enx.com/contact" title="Contact 7x!" class="btn-green btn--small">Call or Contact 7x Today!</a>
                </div>

                <div class="adress"></div>
            </div>

        </div>
    </div>
<div id="footer-connect-bg">
    <div id="footer" class="container_12">
        <div id="footer-connect-copyright" class="grid_8 alpha omega">
            Copyright © 1998 - 2025 <a href="https://se7enx.com">7x</a> (except where otherwise noted). All rights reserved.
            <br/><br/>
            Powered by <a href="https://se7enx.com/exponential" title="Exponential CMS">The Exponential CMS</a> and the groundbreaking <a href="https://exponential.earth">Exponential</a> <a href="https://share.exponential.earth">Community</a>.<br />
        </div>

        <div id="footer-connect-social" class="grid_4 right"> <b>Find Exponential on Your Favorite Social Network:</b>&nbsp; 
            <a href="https://www.youtube.com/@ExponentialCMSInsights" class="youtube" target="_blank">YouTube</a>,

            <a href="http://www.Linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="Linkedin" target="_blank">Linkedin</a>,
            <a href="https://www.Instagram.com/se7enxweb" class="Instagram" target="_blank">Instagram</a>,
            <a href="http://facebook.exponential.earth" class="Facebook" target="_blank">Facebook</a>,
            <a href="https://bsky.app/profile/exponentialcms.bsky.social" class="BlueSky" target="_blank">BlueSky</a>,
            <a href="https://twitter.com/se7enxweb" class="X" target="_blank">X</a>
        </div>

    </div>
</div>


</div>
<!-- Complete page area: END -->




<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1VMV65H63V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1VMV65H63V');
</script>






</body>

<!-- Mirrored from doc.ez.no/Exponential/Technical-manual/3.8/Installation/Upgrading/from-3.6.x-or-3.7.x-to-3.8.0 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 07:45:28 GMT -->
</html>

<!-- th[eZ] 20050804 -->
