
<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from doc.ez.no/Exponential/Technical-manual/4.4/Installation/Virtual-host-setup by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 07:26:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

<link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/core.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer-lookfeel.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/pagelayout.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/buttons.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/960.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/superfish.css" /><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery-1.6.3.min.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/superfish.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery.popmenu.min.js" charset="utf-8"></script>
<style type="text/css">
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                              
    <title>Virtual host setup / Installation / 4.4 / Technical manual / Exponential / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="Exponential Documentation" />
                    <meta name="keywords" content="Exponential, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="Exponential" />
    <link rel="Home" href="../../../../index.html" title="Doc front page" />
<link rel="Search" href="../../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">


    <div class="topmenu-anchor"></div>
    <div id="topmenu-bg">
	    <div id="logo" class="container_12">

    <div class="grid_3">
        <a href="https://exponential.doc.exponential.earth/Exponential/" title="Exponential Platform, CXM &amp; CMS">
            <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/exponential.png"
                 alt="" height="45px"/>
        </a>
    </div>

    <div class="grid_9">
                <div class="topmenu-design">
	<!-- Top menu content: START -->
	<div id="topmenu-firstlevel-position">
	<ul id="topmenu-firstlevel" class="sf-menu sf-js-enabled sf-shadow">
		
		
		        </ul>
    </div>
        <!-- Top menu content: END -->
</div>        </div>
</div>    </div>


<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="https://exponential.doc.exponential.earth/">7x</a> /
                        <a href="../../../../index.html">documentation</a>
        
                        /
                            <a href="../../../../Exponential.html">exponential</a>
        
                        /
                            <a href="../../../Technical-manual.html">technical manual</a>
        
                        /
                            <a href="../../4-4.html">4.4</a>
        
                        /
                            <a href="../Installation.html">installation</a>
        
                        /
                            virtual host setup
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>Exponential</strong>, from version 3.x to 6.x.<br/>
                For 5.x documentation covering <em>Platform</em> see <a href="../../../../display/MAIN/eZ%2bDocumentation%2bCenter.html">eZ Documentation Center</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="../../../../pages/viewpage0139.html?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../../4-4.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    
                                                                        
            <ul>
	    
                                                    
	<li 
		    		class="topchapter-selected  "
		
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Requirements-4.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements 4.4</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			class="currentnode"
		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Virtual-host-setup.html" title="">
	    	    		                    		    <span class="node-name-normal">Virtual host setup</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Virtual-host-setup/Virtual-host-example.html" title="">
	    	    		                    		    <span class="node-name-normal">Virtual host example</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Virtual-host-setup/eZ-JS-Core-rewrite-rules.html" title="">
	    	    		                    		    <span class="node-name-normal">eZ JS Core rewrite rules</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Normal-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Normal installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Normal-installation/Requirements-for-doing-a-normal-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements for doing a normal installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Normal-installation/Installing-Exponential-on-a-Linux-UNIX-based-system.html" title="">
	    	    		                    		    <span class="node-name-normal">Installing Exponential on a Linux/UNIX based system</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Normal-installation/Installing-Exponential-on-Windows.html" title="">
	    	    		                    		    <span class="node-name-normal">Installing Exponential on Windows</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Manual-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Manual-installation/Requirements-for-doing-a-manual-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements for doing a manual installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Manual-installation/Manual-installation-on-a-Linux-UNIX-based-system.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual installation on a Linux/UNIX based system</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Manual-installation/Manual-installation-on-Windows.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual installation on Windows</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Manual-installation/Manual-configuration-of-Exponential.html" title="">
	    	    		                    		    <span class="node-name-normal">Manual configuration of Exponential</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Automated-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Automated installation</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Automated-installation/Requirements-for-doing-an-automated-installation.html" title="">
	    	    		                    		    <span class="node-name-normal">Requirements for doing an automated installation</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Automated-installation/Automated-installation-of-Exponential.html" title="">
	    	    		                    		    <span class="node-name-normal">Automated installation of Exponential</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="The-setup-wizard.html" title="">
	    	    		                    		    <span class="node-name-normal">The setup wizard</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Removing-Exponential.html" title="">
	    	    		                    		    <span class="node-name-normal">Removing Exponential</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Extensions.html" title="">
	    	    		                    		    <span class="node-name-normal">Extensions</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Extensions/Extension-load-ordering.html" title="">
	    	    		                    		    <span class="node-name-normal">Extension load ordering</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Extensions/Extracting-the-files.html" title="">
	    	    		                    		    <span class="node-name-normal">Extracting the files</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Extensions/Activating-the-extension.html" title="">
	    	    		                    		    <span class="node-name-normal">Activating the extension</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
					    			class="last"
		    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Troubleshooting.html" title="">
	    	    		                    		    <span class="node-name-normal">Troubleshooting</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Concepts-and-basics.html" title="">
	    	    		                    		    <span class="node-name-normal">Concepts and basics</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Templates.html" title="">
	    	    		                    		    <span class="node-name-normal">Templates</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Features.html" title="">
	    	    		                    		    <span class="node-name-normal">Features</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Reference3.html" title="">
	    	    		                                                           </a><a href="../../4.x/Reference.html"><span class="node-name-normal">Reference</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>Virtual host setup</h1>
</div>

<p>This section describes how to set up a virtual host for Exponential using the Apache web-server. A virtual host setup is only needed if Exponential has been configured to use the host access method, which is the most secure method.</p><p>By making use of virtual hosts, it is possible to have several sites running on the same server. The sites are usually differentiated by the name they are accessed. Apache will look for a specified set of domains and use different configuration settings based on the domain that is accessed.</p><a name="eztoc115340_1" id="eztoc115340_1"></a><h2>Generic virtual host setup</h2><p>Virtual hosts are usually defined at the end of &quot;httpd.conf&quot;, which is the main configuration file for Apache. Adding a virtual host for Exponential can be done by copying the following lines and replacing the text encapsulated by the square brackets with actual values. Please refer to the next section for a real life example of using virtual hosts.</p><pre class="wordwrap copytoclipboard"><span class="line">NameVirtualHost [IP_ADDRESS]</span>
<span class="line">&nbsp;</span>
<span class="line">&lt;VirtualHost [IP_ADDRESS]:[PORT]&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;Directory [PATH_TO_EZPUBLISH]&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options FollowSymLinks</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride None</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Directory&gt;</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;IfModule mod_php5.c&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;php_admin_flag safe_mode Off</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;php_admin_value register_globals 0</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;php_value magic_quotes_gpc 0</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;php_value magic_quotes_runtime 0</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;php_value allow_call_time_pass_reference 0</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/IfModule&gt;</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;DirectoryIndex index.php</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;IfModule mod_rewrite.c&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteEngine On</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/([^/]+/)?content/treemenu.* /index_treemenu\.php [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/var/([^/]+/)?storage/images(-versioned)?/.* - [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/var/([^/]+/)?cache/(texttoimage|public)/.* - [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/design/[^/]+/(stylesheets|images|javascript)/.* - [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/share/icons/.* - [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/extension/[^/]+/design/[^/]+/(stylesheets|flash|images|lib|javascripts?)/.* - [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/packages/styles/.+/(stylesheets|images|javascript)/[^/]+/.* - [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/packages/styles/.+/thumbnail/.* - [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/var/storage/packages/.* - [L]</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# &nbsp;Makes it possible to place your favicon at the root of your</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# &nbsp;Exponential instance. It will then be served directly.</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/favicon\.ico - [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Uncomment the line below if you want your favicon to be served</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# from the standard design. You can customize the path to</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# favicon.ico by changing /design/standard/images/favicon\.ico</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#RewriteRule ^/favicon\.ico /design/standard/images/favicon\.ico [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/design/standard/images/favicon\.ico - [L]</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Give direct access to robots.txt for use by crawlers (Google,</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Bing, Spammers..)</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/robots\.txt - [L]</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Platform for Privacy Preferences Project ( P3P ) related files</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# for Internet Explorer</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# More info here : http://en.wikipedia.org/wiki/P3p</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule ^/w3c/p3p\.xml - [L]</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Uncomment the following lines when using popup style debug</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# RewriteRule ^/var/cache/debug\.html.* - [L]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# RewriteRule ^/var/[^/]+/cache/debug\.html.* - [L]</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule .* /index\.php</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/IfModule&gt;</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;DocumentRoot [PATH_TO_EZPUBLISH]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;ServerName [SERVER_NAME]</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;ServerAlias [SERVER_ALIAS]</span>
<span class="line">&nbsp;</span>
<span class="line">&lt;/VirtualHost&gt;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'NameVirtualHost [IP_ADDRESS]\r\n\r\n&lt;VirtualHost [IP_ADDRESS]:[PORT]&gt;\r\n    &lt;Directory [PATH_TO_EZPUBLISH]&gt;\r\n        Options FollowSymLinks\r\n        AllowOverride None\r\n    &lt;/Directory&gt;\r\n\r\n    &lt;IfModule mod_php5.c&gt;\r\n        php_admin_flag safe_mode Off\r\n        php_admin_value register_globals 0\r\n        php_value magic_quotes_gpc 0\r\n        php_value magic_quotes_runtime 0\r\n        php_value allow_call_time_pass_reference 0\r\n    &lt;/IfModule&gt;\r\n\r\n    DirectoryIndex index.php \r\n\r\n    &lt;IfModule mod_rewrite.c&gt;\r\n        RewriteEngine On\r\n        RewriteRule ^/([^/]+/)?content/treemenu.* /index_treemenu\.php [L]\r\n        RewriteRule ^/var/([^/]+/)?storage/images(-versioned)?/.* - [L]\r\n        RewriteRule ^/var/([^/]+/)?cache/(texttoimage|public)/.* - [L]\r\n        RewriteRule ^/design/[^/]+/(stylesheets|images|javascript)/.* - [L]\r\n        RewriteRule ^/share/icons/.* - [L]\r\n        RewriteRule ^/extension/[^/]+/design/[^/]+/(stylesheets|flash|images|lib|javascripts?)/.* - [L]\r\n        RewriteRule ^/packages/styles/.+/(stylesheets|images|javascript)/[^/]+/.* - [L]\r\n        RewriteRule ^/packages/styles/.+/thumbnail/.* - [L]\r\n        RewriteRule ^/var/storage/packages/.* - [L]\r\n\r\n        #  Makes it possible to place your favicon at the root of your\r\n        #  Exponential instance. It will then be served directly.\r\n        RewriteRule ^/favicon\.ico - [L]\r\n        # Uncomment the line below if you want your favicon to be served\r\n        # from the standard design. You can customize the path to \r\n        # favicon.ico by changing /design/standard/images/favicon\.ico\r\n        #RewriteRule ^/favicon\.ico /design/standard/images/favicon\.ico [L]\r\n        RewriteRule ^/design/standard/images/favicon\.ico - [L]\r\n\r\n        # Give direct access to robots.txt for use by crawlers (Google, \r\n        # Bing, Spammers..)\r\n        RewriteRule ^/robots\.txt - [L]\r\n\r\n        # Platform for Privacy Preferences Project ( P3P ) related files\r\n        # for Internet Explorer\r\n        # More info here : http://en.wikipedia.org/wiki/P3p\r\n        RewriteRule ^/w3c/p3p\.xml - [L]\r\n\r\n        # Uncomment the following lines when using popup style debug\r\n        # RewriteRule ^/var/cache/debug\.html.* - [L]\r\n        # RewriteRule ^/var/[^/]+/cache/debug\.html.* - [L]\r\n\r\n        RewriteRule .* /index\.php\r\n    &lt;/IfModule&gt;\r\n\r\n    DocumentRoot [PATH_TO_EZPUBLISH]\r\n    ServerName [SERVER_NAME]\r\n    ServerAlias [SERVER_ALIAS]\r\n\r\n&lt;/VirtualHost&gt;' ); return false;" /></p>
<![endif]--><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<td valign="top" style="vertical-align: top">  <p>[IP_ADDRESS]</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The IP address of the virtual host, for example &quot;128.39.140.28&quot;. Apache allows the usage of a wildcards here (&quot;*&quot;).</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>[PORT]</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The port on which the webserver listens for incoming requests. This is an optional setting, the default port is 80. The combination of an IP address and a port is often referred to as a socket. Apache allows the usage of a wildcards here (&quot;*&quot;).</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>[PATH_TO_EZPUBLISH]</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Path to the directory that contains Exponential. This must be the full path, for example &quot;/var/www/exponential-3.6.0&quot;.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>[SERVER_NAME]</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The host or the IP address that Apache should look for. If a match is found, the virtual host settings will be used.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>[SERVER_ALIAS]</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>Additional hosts/IP addresses that Apache should look for. If a match is found, the virtual host settings will be used.</p>
  </td>

</tr>

</table>
<p>Please note that the &quot;mod_rewrite&quot; module must be enabled in &quot;httpd.conf&quot; in order to use the Rewrite Rules.</p><a name="eztoc115340_2" id="eztoc115340_2"></a><h2>NameVirtualHost</h2><p>The &quot;NameVirtualHost&quot; setting might already exist in the default configuration. Defining a new one will result in a conflict. If Apache reports errors such as &quot;NameVirtualHost [IP_ADDRESS] has no VirtualHosts&quot; or &quot;Mixing * ports and non-* ports with a NameVirtualHost address is not supported&quot;, try skipping the NameVirtualHost line. For more info about the NameVirtualHost directive, see <a href="http://httpd.apache.org/docs/1.3/mod/core.html#namevirtualhost" target="_blank">http://httpd.apache.org/docs/1.3/mod/core.html#namevirtualhost</a>.</p><a name="eztoc115340_3" id="eztoc115340_3"></a><h2>SOAP and WebDAV</h2><p>If you would like to use the SOAP and/or the WebDAV features of Exponential, you'll have to add the following lines in the virtual host configuration:</p><pre class="wordwrap copytoclipboard"><span class="line">RewriteCond %{HTTP_HOST} ^webdav\..*</span>
<span class="line">RewriteRule ^(.*) /webdav.php [L]</span>
<span class="line">&nbsp;</span>
<span class="line">RewriteCond %{HTTP_HOST} ^soap\..*</span>
<span class="line">RewriteRule ^(.*) /soap.php [L]</span>
<span class="line">&nbsp;</span>
<span class="line">ServerAlias soap.example.com</span>
<span class="line">ServerAlias webdav.example.com</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'RewriteCond %{HTTP_HOST} ^webdav\..*\r\nRewriteRule ^(.*) /webdav.php [L]\r\n\r\nRewriteCond %{HTTP_HOST} ^soap\..*\r\nRewriteRule ^(.*) /soap.php [L]\r\n\r\nServerAlias soap.example.com\r\nServerAlias webdav.example.com' ); return false;" /></p>
<![endif]--><a name="eztoc115340_4" id="eztoc115340_4"></a><h2>Optional re-write rules to improve performance</h2><pre class="wordwrap copytoclipboard"><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;# Everything below is optional to improve performance by forcing</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;# clients to cache image and design files, change the expires time</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;# to suite project needs.</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;IfModule mod_expires.c&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;LocationMatch &quot;^/var/[^/]+/storage/images/.*&quot;&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Exponential appends the version number to image URL (ezimage</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# datatype) so when an image is updated, its URL changes to</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpiresActive on</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpiresDefault &quot;now plus 10 years&quot;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/LocationMatch&gt;</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;LocationMatch &quot;^/extension/[^/]+/design/[^/]+/(stylesheets|images|javascripts?|flash)/.*&quot;&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# A good optimization if you don't change your design often</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpiresActive on</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpiresDefault &quot;now plus 5 days&quot;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/LocationMatch&gt;</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;LocationMatch &quot;^/extension/[^/]+/design/[^/]+/lib/.*&quot;&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Libraries get a new url (version number) on updates</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpiresActive on</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpiresDefault &quot;now plus 90 days&quot;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/LocationMatch&gt;</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;LocationMatch &quot;^/design/[^/]+/(stylesheets|images|javascripts?|lib|flash)/.*&quot;&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Same as above for bundled Exponential designs</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpiresActive on</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpiresDefault &quot;now plus 7 days&quot;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/LocationMatch&gt;</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;LocationMatch &quot;^/share/icons/.*&quot;&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Icons as used by admin interface, barly change</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpiresActive on</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ExpiresDefault &quot;now plus 7 days&quot;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/LocationMatch&gt;</span>
<span class="line">&nbsp;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# When ezjscore.ini/[Packer]/AppendLastModifiedTime=enabled</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# so that file names change when source files are modified</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&lt;LocationMatch &quot;^/var/[^/]+/cache/public/.*&quot;&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Force ezjscore packer js/css files to be cached 30 days</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# at client side</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#ExpiresActive on</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#ExpiresDefault &quot;now plus 30 days&quot;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&lt;/LocationMatch&gt;</span>
<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/IfModule&gt;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', '    # Everything below is optional to improve performance by forcing \r\n    # clients to cache image and design files, change the expires time\r\n    # to suite project needs.\r\n    &lt;IfModule mod_expires.c&gt;\r\n        &lt;LocationMatch &quot;^/var/[^/]+/storage/images/.*&quot;&gt;\r\n        # Exponential appends the version number to image URL (ezimage\r\n        # datatype) so when an image is updated, its URL changes to\r\n            ExpiresActive on\r\n            ExpiresDefault &quot;now plus 10 years&quot;\r\n        &lt;/LocationMatch&gt;\r\n\r\n        &lt;LocationMatch &quot;^/extension/[^/]+/design/[^/]+/(stylesheets|images|javascripts?|flash)/.*&quot;&gt;\r\n        # A good optimization if you don\'t change your design often\r\n            ExpiresActive on\r\n            ExpiresDefault &quot;now plus 5 days&quot;\r\n        &lt;/LocationMatch&gt;\r\n\r\n        &lt;LocationMatch &quot;^/extension/[^/]+/design/[^/]+/lib/.*&quot;&gt;\r\n        # Libraries get a new url (version number) on updates\r\n            ExpiresActive on\r\n            ExpiresDefault &quot;now plus 90 days&quot;\r\n        &lt;/LocationMatch&gt;\r\n\r\n        &lt;LocationMatch &quot;^/design/[^/]+/(stylesheets|images|javascripts?|lib|flash)/.*&quot;&gt;\r\n        # Same as above for bundled Exponential designs\r\n            ExpiresActive on\r\n            ExpiresDefault &quot;now plus 7 days&quot;\r\n        &lt;/LocationMatch&gt;\r\n\r\n        &lt;LocationMatch &quot;^/share/icons/.*&quot;&gt;\r\n        # Icons as used by admin interface, barly change\r\n            ExpiresActive on\r\n            ExpiresDefault &quot;now plus 7 days&quot;\r\n        &lt;/LocationMatch&gt;\r\n\r\n        # When ezjscore.ini/[Packer]/AppendLastModifiedTime=enabled\r\n        # so that file names change when source files are modified\r\n        #&lt;LocationMatch &quot;^/var/[^/]+/cache/public/.*&quot;&gt;\r\n        # Force ezjscore packer js/css files to be cached 30 days\r\n        # at client side\r\n            #ExpiresActive on\r\n            #ExpiresDefault &quot;now plus 30 days&quot;\r\n        #&lt;/LocationMatch&gt;\r\n        &lt;/IfModule&gt;' ); return false;" /></p>
<![endif]-->

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Geir Arne Waaler&nbsp;(14/09/2010 8:28 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Geir Arne Waaler&nbsp;(04/01/2011 11:33 am)</p>
</div><div class="authors">
<p><label>Maintainers:</label>André R., Geir Arne Waaler</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<div id="comments-content">
<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment23047" class="attribute-heading">
<h2>Mistake in last rewrite rule</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 14 September 2010 8:28:47 am</p>
    <p class="author">Mahmoud Abu-Wardeh</p>
</div>

<div class="attribute-short">
When I tried the rewrite rules above, Apache (2.0.54) complained with &quot;mod_rewrite: maximum number of internal redirects reached&quot;, resulting in a 500 error.<br />
<br />
The solution is that the last rewrite rule should read:<br />
<br />
        RewriteRule .* index.php        # no leading slash<br />
<br />
See <a href="http://www.sitepoint.com/print/mod_rewrite-no-endless-loops" title="http://www.sitepoint.com/print/mod_rewrite-no-endless-loops">http://www.sitepoint.com/print/mod_rewrite-no-endless-loops</a> for an explanation.<br />
<br />
By the way, this VirtualHost setup is quite differet to those in the .htaccess_root file that shops with ez Publish 3.7.2 - would you recommend a selective merge of the two or to stick to this example?<br />

</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="23047" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/4.4/Installation/Virtual-host-setup" />

</form>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment24413" class="attribute-heading">
<h2>RE: Mistake in last rewrite rule</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 20 October 2010 10:56:33 am</p>
    <p class="author">André R.</p>
</div>

<div class="attribute-short">
Not correct, I suspect you are talking about .htaccess.<br />
These pages does not cover .htaccess, but vhost settings.
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="24413" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/4.4/Installation/Virtual-host-setup" />

</form>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment23048" class="attribute-heading">
<h2>.htaccess</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 14 September 2010 8:28:47 am</p>
    <p class="author">Björn Dieding</p>
</div>

<div class="attribute-short">
allman can you document this .htaccess file somewhere... not all have vhost controll but they want to use mod_rw<br />
<br />
<pre class="wordwrap"><span class="line">DirectoryIndex index.php</span>
<span class="line">&nbsp;</span>
<span class="line">RewriteEngine On</span>
<span class="line">RewriteCond %{HTTP_HOST} ^webdav\..*</span>
<span class="line">RewriteRule ^(.*) webdav.php [L]</span>
<span class="line">&nbsp;</span>
<span class="line">RewriteCond %{HTTP_HOST} ^soap\..*</span>
<span class="line">RewriteRule ^(.*) soap.php [L]</span>
<span class="line">&nbsp;</span>
<span class="line">RewriteRule ^var/cache/debug.html.* - [L]</span>
<span class="line">RewriteRule ^var/[^/]+/cache/debug.html.* - [L]</span>
<span class="line">Rewriterule ^var/storage/.* - [L]</span>
<span class="line">Rewriterule ^var/[^/]+/storage/.* - [L]</span>
<span class="line">RewriteRule ^var/cache/texttoimage/.* - [L]</span>
<span class="line">RewriteRule ^var/[^/]+/cache/texttoimage/.* - [L]</span>
<span class="line">Rewriterule ^design/[^/]+/(stylesheets|images|javascript)/.* - [L]</span>
<span class="line">Rewriterule ^share/icons/.* - [L]</span>
<span class="line">Rewriterule ^extension/[^/]+/design/[^/]+/(stylesheets|images|javascripts?)/.* - [L]</span>
<span class="line">Rewriterule ^packages/styles/.+/(stylesheets|images|javascript)/[^/]+/.* - [L]</span>
<span class="line">RewriteRule .* index.php [L]</span>
</pre>
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="23048" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/4.4/Installation/Virtual-host-setup" />

</form>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment23049" class="attribute-heading">
<h2>urls in cache probleme</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 14 September 2010 8:28:48 am</p>
    <p class="author">Damien Pitard</p>
</div>

<div class="attribute-short">
with this config, when somebody access your site using:<br />
<a href="http://yoursite.com/anything/here/index.php" title="http://yoursite.com/anything/here/index.php">http://yoursite.com/anything/here/index.php</a><br />
and if the cache need to be regenerated, urls will be prefixed with /anything/here<br />
<br />
to avoid this problem, we need to remove index.php from url doing an apache redirection<br />
<br />
replace <br />
    &lt;Directory [PATH_TO_EZPUBLISH]&gt;<br />
        Options FollowSymLinks<br />
        AllowOverride None<br />
    &lt;/Directory&gt;<br />
by<br />
    &lt;Directory [PATH_TO_EZPUBLISH]&gt;<br />
        Options FollowSymLinks<br />
        AllowOverride None<br />
        RedirectMatch (.*)\index\.php$ $1  <br />
    &lt;/Directory&gt;<br />
 
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="23049" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/4.4/Installation/Virtual-host-setup" />

</form>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment23050" class="attribute-heading">
<h2>Binary files world-readable</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 14 September 2010 8:28:49 am</p>
    <p class="author">Kristof Coomans</p>
</div>

<div class="attribute-short">
With a rewrite rule setup like the one above, binary files (in var/storage/original) will be world-readable (unless you protect them in another way). This can be a serious security risk.<br />
<br />
Isn't it better to replace<br />
<pre class="wordwrap"><span class="line">Rewriterule ^/var/[^/]+/storage/.* - [L]</span>
</pre><br />
with more specific rules?<br />
<pre class="wordwrap"><span class="line">Rewriterule ^/var/[^/]+/storage/images/.* - [L]</span>
<span class="line">Rewriterule ^/var/[^/]+/storage/images-versioned/.* - [L]</span>
<span class="line">Rewriterule ^/var/[^/]+/storage/images/.* - [L]</span>
</pre><br />
<br />
The same counts for <pre class="wordwrap"><span class="line">Rewriterule ^/var/storage/.* - [L]</span>
</pre>
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="23050" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/4.4/Installation/Virtual-host-setup" />

</form>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment23052" class="attribute-heading">
<h2>One more rewrite rule for p3p files</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 14 September 2010 8:28:51 am</p>
    <p class="author">Gaetano</p>
</div>

<div class="attribute-short">
The P3P rules mandate presence of some xml files describing treatment done by website owner of customer sensitive data.<br />
Those files are by default placed in the p3p folder at the root of the site.<br />
Their presence is important not to give headaches with cookies being refused to users of eg. ie 6+ (the eye on a red background icon in the status bar)<br />
<br />
To comply with this, you can<br />
- create a p3p folder at the root of the eZP installation, and put the xml files in there<br />
- add this rewrite rule to the vhost setup:<br />
RewriteRule ^/p3p/.+\.xml - [L]
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="23052" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/4.4/Installation/Virtual-host-setup" />

</form>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment23053" class="attribute-heading">
<h2>No subtree in admin content structure due to a rewrite rule error...</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 14 September 2010 8:28:51 am</p>
    <p class="author">JB</p>
</div>

<div class="attribute-short">
The rule :<br />
<br />
RewriteRule content/treemenu/? /index_treemenu.php [L]<br />
<br />
contains an error that cause an empty content structure menu with only the root node (no subtree). You can use this rule instead :<br />
<br />
RewriteRule content/treemenu/?$ /index_treemenu.php [L]<br />
<br />
JB
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="23053" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/4.4/Installation/Virtual-host-setup" />

</form>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment23054" class="attribute-heading">
<h2>Rewrite rules are OK, but index_treemenu.php contains a bug</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 14 September 2010 8:28:52 am</p>
    <p class="author">Svitlana Shatokhina</p>
</div>

<div class="attribute-short">
Starting from 4.0.1, the &quot;treemenu&quot; view of the &quot;content&quot; module does not use GET parameters anymore ( see <a href="http://issues.ez.no/11806" title="http://issues.ez.no/11806">http://issues.ez.no/11806</a> ). Because of this, the rewrite rules in the docs were updated (&quot;$&quot; removed).<br />
<br />
Problem when using the new rewrite rule appears because &quot;index_treemenu.php&quot; in 4.0.1 contains a bug ( see <a href="http://issues.ez.no/13528" title="http://issues.ez.no/13528">http://issues.ez.no/13528</a> ). With your suggestion (old rewrite rule, with &quot;$&quot;) the system won't use &quot;index_treemenu.php&quot; at all, so the tree menu will work.<br />
<br />
However, for better performance it's recommended to download the updated &quot;index_treemenu.php&quot; from <a href="http://pubsvn.ez.no/nextgen/stable/4.0/index_treemenu.php" title="http://pubsvn.ez.no/nextgen/stable/4.0/index_treemenu.php">http://pubsvn.ez.no/nextgen/stable/4.0/index_treemenu.php</a> and use the new rewrite rule (without &quot;$&quot;).
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="23054" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Technical-manual/4.4/Installation/Virtual-host-setup" />

</form>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li></ul>
</div>
<div class="toolbar">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">
<input class="button" type="submit" name="NewButton" value="New comment" />
<input type="hidden" name="NodeID" value="23034" />
<input type="hidden" name="RedirectURIAfterPublish" value="Exponential/Technical-manual/4.4/Installation/Virtual-host-setup" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>

        <div id="footer-bg">
        <div id="footer" class="container_12">

            <div class="grid_3">
                <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/exponential.png" alt="exponential" />
                <div id="footer-copyright" class="grid_3 alpha omega">
                                    </div>
            </div>

            <div class="grid_6 middle">
                <div class="grid_6 alpha omega">
                    <div class="grid_3 alpha"><div></div></div>
                    <div class="grid_3 omega"><div></div></div>
                </div>
            </div>

            <div class="grid_3 right">
                <div class="contact-ez">
                        Get the support you need faster! Ask the experts at 7x. <a id="cta-contact" href="https://se7enx.com" title="Contact 7x!" class="btn-green btn--small">Call or Contact 7x Today!</a>
                </div>

                <div class="adress"></div>
            </div>

        </div>
    </div>
<div id="footer-connect-bg">
    <div id="footer" class="container_12">
        <div id="footer-connect-copyright" class="grid_8 alpha omega">
            Copyright © 1998 - 2025 <a href="https://se7enx.com">7x</a> (except where otherwise noted). All rights reserved.
            <br/><br/>
            Powered by <a href="https://se7enx.com/exponential" title="Exponential CMS">The Exponential CMS</a> and the groundbreaking <a href="https://exponential.earth">Exponential</a> <a href="https://share.exponential.earth">Community</a>.<br />
        </div>

        <div id="footer-connect-social" class="grid_4 right"> <b>Find Exponential on Your Favorite Social Network:</b>&nbsp; 
            <a href="https://www.youtube.com/@ExponentialCMSInsights" class="youtube" target="_blank">YouTube</a>,

            <a href="http://www.Linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="Linkedin" target="_blank">Linkedin</a>,
            <a href="https://www.Instagram.com/se7enxweb" class="Instagram" target="_blank">Instagram</a>,
            <a href="http://facebook.exponential.earth" class="Facebook" target="_blank">Facebook</a>,
            <a href="https://bsky.app/profile/exponentialcms.bsky.social" class="BlueSky" target="_blank">BlueSky</a>,
            <a href="https://twitter.com/se7enxweb" class="X" target="_blank">X</a>
        </div>

    </div>
</div>


</div>
<!-- Complete page area: END -->




<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1VMV65H63V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1VMV65H63V');
</script>






</body>

<!-- Mirrored from doc.ez.no/Exponential/Technical-manual/4.4/Installation/Virtual-host-setup by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 07:26:23 GMT -->
</html>

<!-- th[eZ] 20050804 -->
