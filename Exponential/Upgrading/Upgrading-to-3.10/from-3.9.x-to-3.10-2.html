
<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from doc.ez.no/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 06:41:20 GMT -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/core.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/header-footer-lookfeel.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/pagelayout.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/buttons.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/960.css" /><link rel="stylesheet" type="text/css" href="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/stylesheets/superfish.css" /><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery-1.6.3.min.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/superfish.js" charset="utf-8"></script><script type="text/javascript" src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/javascript/jquery.popmenu.min.js" charset="utf-8"></script>
<style type="text/css">
    @import url(../../../extension/ezdoc/design/doc/stylesheets/core.css);
    @import url(../../../extension/ezdoc/design/doc/stylesheets/classes.css);
    @import url(../../../extension/ezdoc/design/doc/stylesheets/doc.css);
    @import url(../../../extension/ezdoc/design/doc/stylesheets/print.css) print;</style>

<link type="text/css" rel="stylesheet" href="../../../extension/ezdoc/design/doc/stylesheets/print.css" media="print" />

<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie5.css);    </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte.css); </style>     <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6lte-doc.css); </style> <![endif]-->
<!--[if IE 6]>     <style type="text/css"> @import url(/extension/ezdoc/design/doc/stylesheets/ie6.css);    </style>     <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezdoc/design/doc/stylesheets/gecko.css);</style>"); --></script>

<script type="text/javascript" src="../../../extension/ezdoc/design/doc/javascripts/mainmenu-hover.js"></script>
<script type="text/javascript" src="../../../extension/ezdoc/design/doc/javascripts/dropdownmenu.js"></script>
<script type="text/javascript" src="../../../extension/ezdoc/design/doc/javascripts/ezno-searchbox.js"></script>
                                        
    <title>from 3.9.x to 3.10.0 (deprecated) / Upgrading to 3.10 / Upgrading / Exponential / Documentation - Doc</title>

    
    
    
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

            <meta http-equiv="Content-language" content="en-GB" />

    
                <meta name="author" content="eZ systems" />
                    <meta name="copyright" content="eZ systems" />
                    <meta name="description" content="Exponential Documentation" />
                    <meta name="keywords" content="Exponential, documentation, manual, reference, eZ systems" />
        
    <meta name="generator" content="Exponential" />
    <link rel="Home" href="../../../index.html" title="Doc front page" />
<link rel="Search" href="../../../content/advancedsearch.html" title="Search Doc" />
<link rel="Shortcut icon" href="../../../extension/ezdoc/design/doc/images/favicon.ico" type="image/x-icon" />

</head>
<body onload="initDocSearch();menuInit();">

<!-- Complete page area: START -->
<div id="page">




    <div class="topmenu-anchor"></div>
    <div id="topmenu-bg">
	    <div id="logo" class="container_12">

    <div class="grid_3">
        <a href="https://exponential.doc.exponential.earth/Exponential/" title="Exponential Platform, CXM &amp; CMS">
            <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/ez-logo.png"
                 alt="" height="45px"/>
        </a>
    </div>

    <div class="grid_9">
                <div class="topmenu-design">
	<!-- Top menu content: START -->
	<div id="topmenu-firstlevel-position">
	<ul id="topmenu-firstlevel" class="sf-menu sf-js-enabled sf-shadow">
		
		
		        </ul>
    </div>
        <!-- Top menu content: END -->
</div>        </div>
</div>    </div>


<div id="page-content-position"><div id="page-content-position-inner"><div id="page-content">

<!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p> <a href="https://exponential.doc.exponential.earth/">7x</a> /
                        <a href="../../../documentation.html">documentation</a>
        
                        /
                            <a href="../../../Exponential.html">exponential</a>
        
                        /
                            <a href="../../Upgrading.html">upgrading</a>
        
                        /
                            <a href="../Upgrading-to-3.html">upgrading to 3.10</a>
        
                        /
                            from 3.9.x to 3.10.0 (depre...
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide" />

<!-- Main area: START -->
                                    <div id="ezp5disclaimer">
                <p><strong style="color: red">Caution:</strong> This documentation is for <strong>Exponential</strong>, from version 3.x to 6.x.<br/>
                For 5.x documentation covering <em>Platform</em> see <a href="../../../display/MAIN/eZ%2bDocumentation%2bCenter.html">eZ Documentation Center</a>, for difference between <em>legacy</em> and <em>Platform</em> see <a href="../../../pages/viewpage0139.html?pageId=11403666">5.x Architecture overview</a>.</p>
            </div>
            
<div id="page-width5">
<div id="main" class="float-break">


<div class="template-design area-docmenu-normal">
<div class="template-module">
<div class="template-object">
<div id="contentmenu">
                        <div class="attribute-heading"><h2 class="bullet"><a href="../Upgrading-to-3.html">Table of contents</a></h2></div>
<div class="boxcontent">

<map id="contentstructure">

    

                                                                        
            <ul>
	    
                                                        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Releases.html" title="">
	    	    		                    		    <span class="node-name-normal">Releases</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../How-to-proceed.html" title="">
	    	    		                    		    <span class="node-name-normal">How to proceed</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Backup-and-consistency-checks.html" title="">
	    	    		                    		    <span class="node-name-normal">Backup and consistency checks</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Direct-upgrading.html" title="">
	    	    		                    		    <span class="node-name-normal">Direct upgrading</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-60.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 6.0</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
                                         
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Upgrading-to-60.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 6.0</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
                                         
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="Upgrading-to-22.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 5.1</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-5.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 5.0</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-4.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 4.7</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-6.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 4.6</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-7.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 4.5</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-23.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 4.4</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-8.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 4.3</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-9.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 4.2</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-10.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 4.1</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-11.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 4.0</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter-selected  "
		
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-3.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.10</span>
                    			    	    		</a>
			           </div>
        
            <ul>
	    
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="from-3.10.x-to-3.10.html" title="">
	    	    		                    		    <span class="node-name-normal">from 3.10.x to 3.10.y</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    		    			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="from-3.9.x-to-3.10.html" title="">
	    	    		                    		    <span class="node-name-normal">from 3.9.x to 3.10.y</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
					    class="last currentnode"
			    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="from-3.9.x-to-3.10-2.html" title="">
	    	    		                    		    <span class="node-name-normal">from 3.9.x to 3.10.0 (deprecated)</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                                        </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-12.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.9</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-13.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.8</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-14.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.7</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-15.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.6</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-16.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.5</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-17.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.4</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-18.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.3</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-19.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.2</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-20.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.1</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-to-21.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading to 3.0</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Upgrading-from-3.a.b-to-3.x.html" title="">
	    	    		                    		    <span class="node-name-normal">Upgrading from 3.a.b to 3.x.y</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../The-system-upgrade-scripts.html" title="">
	    	    		                    		    <span class="node-name-normal">The system upgrade scripts</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                
                                                    
	<li 
		    		class="topchapter"
	    
	    	    >
	    <div>
	    
	    

	    
	    
	    
	    			    	    
	    
	    		<a class="nodetext" href="../Notes-about-database-changes.html" title="">
	    	    		                    		    <span class="node-name-normal">Notes about database changes</span>
                    			    	    		</a>
			           </div>
        
                                    </li>
            
                                            </ul>
                        
            
</map>

</div>            
</div>
</div>
</div>
</div>
<div class="area-docmain-normal">
<div class="template-design">
<div class="template-module content-view-full">
<div class="template-object">

<div class="attribute-heading">
<h1>from 3.9.x to 3.10.0 (deprecated)</h1>
</div>

<p>This documentation page is deprecated and no longer maintained. Refer to the following documentation pages for upgrade instructions:</p>
<ul>
<li><div> <a href="from-3.10.x-to-3.10.html" target="_self">Upgrading from 3.10.x to 3.10.y</a> </div></li><li><div> <a href="from-3.9.x-to-3.10.html" target="_self">Upgrading from 3.9.x to 3.10.y</a> </div></li>
</ul>
<p>This section describes how to upgrade your existing Exponential 3.9.x installation to version 3.10.0. If you are upgrading from a version prior to Exponential 3.9.0, you need to first <a href="../Upgrading-to-3.9/from-3.8.x-to-3.9.html" target="_self">upgrade to 3.9.0</a> before you can upgrade to 3.10.</p><p>The upgrade procedure described below is generic and does not cover any specific cases. If you are running Exponential in a clustered environment, refer to the <a href="https://github.com/ezsystems/exponential-legacy/blob/master/doc/features/3.10/cluster_enhancement.txt" target="_blank">developer documentation</a> for upgrade instructions. In case the Exponential Extension for Oracle® Database is used, refer to the <a href="../../../Extensions/Exponential-extensions/Exponential-Extension-for-Oracle-R-database.html" target="_self">documentation of the database extension</a>.</p><a name="eztoc83640_0_0_1" id="eztoc83640_0_0_1"></a><h4>Important note</h4><p>Before continuing, note that Exponential 3.10.0 does not support wildcard based URL forwarding anymore. If your site makes use of this functionality, it is strongly recommended to delay upgrading until Exponential 3.10.1 is released.</p><p>Make sure that you have a working <a href="../../Upgrading.html#backup" target="_self">backup</a> of the site before you do the actual upgrade. The upgrade procedure consists of the following steps:</p>
<ol>
<li><div> Upgrading the distribution files to 3.10 </div></li><li><div> Upgrading the database to 3.10 </div></li><li><div> Running the 3.10 upgrade scripts </div></li><li><div> Updating the system configuration </div></li><li><div> Clearing the caches </div></li>
</ol>
<a name="eztoc83640_1" id="eztoc83640_1"></a><h2>Step 1: Upgrading the distribution files</h2><p>The easiest way to upgrade the distribution files is to unpack Exponential 3.10 to a directory and then copy the directories that contain site-specific files from the existing installation. Make sure that you copy the following directories:</p>
<ul>
<li><div> design/example </div></li><li><div> design/example_admin </div></li><li><div> var </div></li><li><div> settings/siteaccess </div></li><li><div> settings/override </div></li>
</ul>
<p>Replace &quot;example&quot; and &quot;example_admin&quot; with actual names used by your siteaccesses.</p><a name="eztoc83640_1_1" id="eztoc83640_1_1"></a><h3>Important bug fix for the &quot;user&quot; module</h3><p>In Exponential 3.10.0, the &quot;register&quot; view of the &quot;user&quot; module contains a bug. It prevents the system from registering new users when the &quot;<a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/UserSettings/VerifyUserEmail.html" target="_self">VerifyUserEmail</a>&quot; setting is enabled (it is enabled by default). The same bug exists in Exponential 3.8.10 and 3.9.4 (refer to <a href="http://issues.ez.no/11598" target="_blank">http://issues.ez.no/11598</a> for more information). This issue will be fixed in the upcoming Exponential 3.9.5 and 3.10.1 releases. In order to make your user registration mechanism work properly in 3.10.0, you have to download the updated version of &quot;kernel/user/register.php&quot; from http://pubsvn.ez.no and replace the corresponding file in your installation.</p><a name="eztoc83640_1_2" id="eztoc83640_1_2"></a><h3>Custom extensions</h3><p>If you are using custom extensions, the subdirectories inside the &quot;extension&quot; directory will also have to be copied. However, make sure that you do not overwrite any extensions that come with Exponential (for example the &quot;PayPal&quot; extension).</p><p>If you are using the <a href="../../../Extensions/Exponential-extensions/Website-Interface.html" target="_self">Website Interface</a> front-end, make sure you copied the &quot;extension/ezwebin/&quot; directory. It is also possible to upgrade the Website Interface extension to a newer version (you can find more information and instructions in the &quot;Upgrading the Website Interface&quot; chapter of the <a href="../../../Extensions/Exponential-extensions/Website-Interface.html#download" target="_self">Website Interface installation guide</a>).</p><a name="eztoc83640_1_3" id="eztoc83640_1_3"></a><h3>Translations</h3><p>Exponential 3.10.0 has less translations than 3.9 releases because not all of the translation contributors have submitted a CLA yet. If you are using a multilingual site the possible workarounds in that case can be either to use the 3.9.x translations or to download translations from <a href="http://ez.no/developer/translations" target="_blank">http://ez.no/developer/translations</a>. It would also be highly appreciated if translators for existing translations send us the CLA so that we can include the translations in future 3.10 releases.</p><a name="eztoc83640_2" id="eztoc83640_2"></a><h2>Step 2: Upgrading the database</h2><p>The following text describes how a 3.9.x database can be upgraded to 3.10.0.</p><p>Before reading on, note that some of the database changes from Exponential 3.9.0 to 3.10.0 have been included in other 3.9 releases. If you are upgrading from a version later than 3.9.0, it is recommended to skip some parts of the database upgrade script. These are marked with &quot;from 3.9.z&quot; comments in the &quot;.sql&quot; file; make sure you skip all sections with &quot;z&quot; less than or equal to the last digit in your current version number. For example, if you are upgrading from 3.9.3, skip sections marked with &quot;from 3.9.1&quot;, &quot;from 3.9.2&quot; and &quot;from 3.9.3&quot; comments (if any).</p><a name="eztoc83640_2_4" id="eztoc83640_2_4"></a><h3>MySQL</h3>
<ol>
<li><div> Navigate into the Exponential 3.10.0 directory. </div></li><li><div><p>Run the database upgrade script:</p><pre class="wordwrap"><span class="line">mysql -u &lt;username&gt; -p&lt;password&gt; &lt;database&gt; &lt; update/database/mysql/3.10/dbupdate-3.9.0-to-3.10.0.sql</span>
</pre></div></li>
</ol>
<p>Note that the CREATE TABLE statements in the database upgrade script do not specify which storage engine to use (no ENGINE or TYPE option), and thus the default storage engine will be used. Normally, it is MyISAM (starting from MySQL v.3.23). If you are using InnoDB, make sure the default storage engine is set to InnoDB before you run the database upgrade script (refer to the <a href="http://dev.mysql.com/doc/refman/5.0/en/storage-engines.html" target="_blank">MySQL documentation</a> for information about how to set the default engine). If you were not able to change the MySQL configuration on your server, and the upgrade left you with a mix of table types, you can convert the newly created tables to InnoDB using the following SQL queries:</p><pre class="wordwrap copytoclipboard"><span class="line">ALTER TABLE ezisbn_group TYPE = innodb;</span>
<span class="line">ALTER TABLE ezisbn_group_range TYPE = innodb;</span>
<span class="line">ALTER TABLE ezisbn_registrant_range TYPE = innodb;</span>
<span class="line">ALTER TABLE ezurlalias_ml TYPE = innodb;</span>
</pre><!--[if IE]>
<p class="copytoclipboard"><img src="/extension/ezdoc/design/doc/images/copytoclipboard.gif" height="16" width="16" alt="Copy to clipboard" title="Copy to clipboard" onclick="window.clipboardData.setData( 'text', 'ALTER TABLE ezisbn_group TYPE = innodb;\r\nALTER TABLE ezisbn_group_range TYPE = innodb;\r\nALTER TABLE ezisbn_registrant_range TYPE = innodb;\r\nALTER TABLE ezurlalias_ml TYPE = innodb;' ); return false;" /></p>
<![endif]--><p> It is also possible to use the &quot;bin/php/ezconvertmysqltabletype.php&quot; script for database conversion.</p><a name="eztoc83640_2_5" id="eztoc83640_2_5"></a><h3>PostgreSQL</h3>
<ol>
<li><div> Navigate into the Exponential 3.10.0 directory. </div></li><li><div><p>Run the database upgrade script:</p><pre class="wordwrap"><span class="line">psql -d &lt;database&gt; -U &lt;dbowner&gt; &lt; update/database/postgresql/3.10/dbupdate-3.9.0-to-3.10.0.sql</span>
</pre></div></li>
</ol>
<p><a name="running_system_upgrade_scripts"></a>
</p><a name="eztoc83640_3" id="eztoc83640_3"></a><h2>Step 3: Running the system upgrade scripts</h2><p>The 3.10.0 version of Exponential introduces a couple of new features. In order to make sure that your site is compatible with these features, you'll have to run a couple of upgrade scripts.</p><p><a name="updateniceurls"></a>
</p><a name="eztoc83640_3_6" id="eztoc83640_3_6"></a><h3>Multi-language support for URL aliases</h3><p>In Exponential 3.10, a new feature has been added that makes it possible to use multi-lingual <a href="../../Technical-manual/3.10/Concepts-and-basics/URL-translation.html#virtual_url" target="_self">virtual URLs</a> (also known as nice URLs or URL aliases). In order to use this new functionality, you will have to specify the desired type of URL transformation using the &quot;<a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/URLTranslator/TransformationGroup.html" target="_self">TransformationGroup</a>&quot; setting located in the [URLTranslator] section of an override for &quot;site.ini&quot; and run the &quot;updateniceurls.php&quot; script as described below.</p><p>Note that this script has been sufficiently improved in Exponential 4.0.0 and the upcoming version 3.10.1. In addition, these versions of Exponential will support wildcard based URL forwarding (This feature was removed when implementing the multilingual URLs functionality for Exponential 3.10.0 and then re-added in later versions.) If you are planning to upgrade from 3.9.x to 4.0.0, it is recommended to skip running the &quot;updateniceurls.php&quot; script when upgrading to 3.10.0, and run the updated version of the script at a later stage (when upgrading from 3.10.0 to 4.0.0). If you are going to use multilingual URLs in Exponential 3.10, it is recommended to delay upgrading until the upcoming 3.10.1 version is out.</p><p>It is also possible to choose which word separator should be used in the URLs. This can be done by setting the &quot;<a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/URLTranslator/WordSeparator.html" target="_self">WordSeparator</a>&quot; configuration directive also located in the [URLTranslator] section to either &quot;dash&quot;, &quot;underscore&quot; or &quot;space&quot;. Note that this setting will be ignored when the &quot;urlalias_compat&quot; transformation is used (it only supports underscores as separators).</p><p>Before running the script, make sure that you have specified the same transformation settings for all siteaccesses that are using the same database. If all your siteaccesses are using the same database (which is the most typical/usual case), you can set the &quot;TransformationGroup&quot; and &quot;WordSeparator&quot; directives in &quot;settings/override/site.ini.append.php&quot;. Otherwise, you will have to configure URL transformation from within &quot;settings/siteaccess/example/site.ini.append.php&quot; (where &quot;example&quot; should be replaced by the actual name of your siteaccess) for each siteaccess.</p><p>The &quot;updateniceurls.php&quot; script should be run once for each database, specifying one siteaccess per database. If you only have a public and an administration siteaccess that share the same database, you only need to run the script for one of the siteaccesses. If the siteaccess is not specified, the <a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/SiteSettings/DefaultAccess.html" target="_self">default siteaccess</a> will be used.</p><p>The following example shows how to run the script.</p>
<ol>
<li><div> Navigate into the Exponential 3.10.0 directory. </div></li><li><div> Run the script (replace &quot;example&quot; with the actual name of your siteaccess):<pre class="wordwrap"><span class="line">php bin/php/updateniceurls.php -s example</span>
</pre></div></li>
</ol>
<p>The script will go through all content objects stored in the database and create new virtual URLs for them in accordance with the specified transformation settings. Old virtual URLs will be transferred to the new system and stored as history entries. Note that new URL aliases will be generated for all the languages of your site regardless if they are available or not for the specified siteaccess. The time it takes to update all URL aliases is proportional to the number of nodes on your site. Newly generated URL aliases are stored in a database table called &quot;ezurlalias_ml&quot;.</p><p>Refer to &quot;<a href="../../Technical-manual/3.10/Features/Multi-language-support-for-URL-aliases.html" target="_self">Multi-language support for URL aliases</a>&quot; for more information about this feature.</p><p><a name="updateisbn13"></a>
</p><a name="eztoc83640_3_7" id="eztoc83640_3_7"></a><h3>ISBN datatype enhancements</h3><p>In Exponential 3.10, the handling of ISBN-13 numbers has been significantly improved (refer to the <a href="../../Technical-manual/3.10/Reference/Datatypes/ISBN.html" target="_self">ISBN datatype</a> documentation for details). The different ranges are now stored in the database, allowing the system to fix up incorrectly entered ISBN-13 codes (codes with misplaced or missing dashes). When a new version of Exponential is released, the latest information about the different ranges is downloaded from <a href="http://www.isbn-international.org/converter/ranges.js" target="_blank">http://www.isbn-international.org/converter/ranges.js</a> and stored in a &quot;.dba&quot; file. During the installation process, the setup wizard imports this information to the database. When upgrading, you need to import ranges to the database manually. This must be done even though your site does not use ISBN-13 numbers. You can either import ranges from the &quot;.dba&quot; file using the &quot;ezimportdbafile.php&quot; script or download the latest &quot;range.js&quot; file and run the &quot;updateisbn13.php&quot; script.</p><p>The following example shows how to import ranges from the &quot;.dba&quot; file:</p>
<ol>
<li><div> Navigate into the Exponential 3.10.0 directory. </div></li><li><div> Run the script (replace &quot;example&quot; with the actual name of your siteaccess):<pre class="wordwrap"><span class="line">php bin/php/ezimportdbafile.php --datatype=ezisbn -s example</span>
</pre></div></li>
</ol>
<p>The &quot;datatype&quot; parameter tells the script which datatype the data should be imported for.</p><p>The next example shows how to get the latest ranges from the ISBN International website.</p><p>Note that due to a <a href="http://issues.ez.no/12755" target="_blank">bug</a> in Exponential 3.10.0, you need to download the updated version of the &quot;updateisbn13.php&quot; script from <a href="https://github.com/ezsystems/exponential-legacy/blob/stable-3.10/bin/php/updateisbn13.php" target="_blank">http://pubsvn.ez.no</a> and replace the corresponding file in your installation before running the script. The updated version of the script is included in Exponential 4.0.0 and the upcoming 3.10.1 release.</p>
<ol>
<li><div> Download a &quot;.js&quot; file containing the list of ranges using the following link: <a href="http://www.isbn-international.org/converter/ranges.js" target="_blank">http://www.isbn-international.org/converter/ranges.js</a> </div></li><li><div> Navigate into the Exponential 3.10.0 directory and copy the downloaded file there. </div></li><li><div> Run the &quot;updateisbn13.php&quot; script using the following shell command:<pre class="wordwrap"><span class="line">php bin/php/updateisbn13.php --file=ranges.js</span>
</pre></div></li>
</ol>
<p>The script will import information from the &quot;range.js&quot; file to the database.</p><p><a name="ezconvert2isbn13"></a>
</p><p>In order to use ISBN-13 numbers on your site after upgrading, you need to do the following:</p>
<ol>
<li><div> Make sure that the &quot;ISBN-13 format&quot; checkbox in the class attribute edit interface for the corresponding attribute is enabled (it is off by default). </div></li><li><div> Navigate into the Exponential 3.10.0 directory. </div></li><li><div> Run the &quot;ezconvert2isbn13.php&quot; script (replace &quot;example&quot; with the actual name of your siteaccess):<pre class="wordwrap"><span class="line">php bin/php/ezconvert2isbn13.php -s example</span>
</pre></div></li>
</ol>
<p>The script will go through all content object attributes using the &quot;ISBN&quot; datatype in the database and convert their values into valid ISBN-13 numbers. The following table reveals the available options for this script.</p><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<th >  <p>Option</p>
  </th><th >  <p>Description</p>
  </th>
</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--class-id=value</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The script will only update attributes of content objects that belong to the specified class. You need to replace &quot;value&quot; with the actual ID number of the class.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--attribute-id=value</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The script will only update content object attributes that correspond to the specified content class attribute. You need to replace &quot;value&quot; with the actual ID number of the class attribute.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--all-classes</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The script will go through all content objects.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--force</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The script will update all attributes of the &quot;ISBN&quot; datatype regardless if the &quot;ISBN-13 format&quot; checkbox is enabled for the class attribute. It will also enable this setting at the class attribute level where it was previously disabled.</p>
  </td>

</tr>

</table>
<p>These scripts should be run once for each database, specifying one siteaccess per database. If you only have a public and an administration siteaccess that share the same database, you only need to run the scripts for one of the siteaccesses. If the siteaccess is not specified, the <a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/SiteSettings/DefaultAccess.html" target="_self">default siteaccess</a> will be used.</p><p><a name="updatemultioption"></a>
</p><a name="eztoc83640_3_8" id="eztoc83640_3_8"></a><h3>Enhanced Multi-option datatype</h3><p>In Exponential 3.10, a new datatype called &quot;<a href="../../Technical-manual/3.10/Reference/Datatypes/Multi-option2.html" target="_self">Multi-option2</a>&quot; has been added in order to replace the old &quot;<a href="../../Technical-manual/3.9/Reference/Datatypes/Multi-option.html" target="_self">Multi-option</a>&quot; datatype. The new datatype allows option selections and makes it possible to create multiple and distinctive groups of multi-options for each content object. In addition, it supports rules and provides a handful of new and interesting features. Note that the old &quot;Multi-option&quot; datatype is deprecated and should no longer be used (it will be removed in the future).</p><p>In order to be compatible with the new datatype, you will have to run the &quot;updatemultioption.php&quot; script. This script should be run once for each database, specifying one siteaccess per database. If you only have a public and an administration siteaccess that share the same database, you only need to run the script for one of the siteaccesses. If the siteaccess is not specified, the <a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/SiteSettings/DefaultAccess.html" target="_self">default siteaccess</a> will be used.</p><p>The following example shows how to run the script:</p>
<ol>
<li><div> Navigate into the Exponential 3.10.0 directory. </div></li><li><div> Run the script (replace &quot;example&quot; with the actual name of your siteaccess):<pre class="wordwrap"><span class="line">php update/common/scripts/3.10/updatemultioption.php -s example</span>
</pre></div></li>
</ol>
<p>The script will go through all content object attributes that are using the old &quot;Multi-option&quot; datatype in the database. The content object attributes will be modified (converted) so that they use the new &quot;Multi-option2&quot; datatype.</p><p>The following table reveals the available options for this script.</p><table class="renderedtable" cellpadding="2" cellspacing="0">

<tr>
<th >  <p>Option</p>
  </th><th >  <p>Description</p>
  </th>
</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--all-classes</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The script will go through all types of content objects.</p>
  </td>

</tr>

<tr>
<td valign="top" style="vertical-align: top">  <p>--contentclass=value</p>
  </td>
<td valign="top" style="vertical-align: top">  <p>The script will only update objects of the specified class. You need to replace &quot;value&quot; with the actual identifier of the class.</p>
  </td>

</tr>

</table>
<p>Note: overridden templates of the public siteaccess for the &quot;Multi-option&quot; datatype will also need to be updated (manually).</p><a name="eztoc83640_3_9" id="eztoc83640_3_9"></a><h3>Changes to roles and policies</h3><p>In Exponential 3.9.3 and later versions, users (typically those to which the anonymous role applies) need to have access to the &quot;tipafriend&quot; function of the &quot;content&quot; module in order to use the &quot;Tip a friend&quot; feature. If you are upgrading from a version prior to 3.9.3, you need to run the &quot;updatetipafriendpolicy.php&quot; script as described below.</p><p>If you are running Exponential on Windows, note that in Exponential 3.10.0 there is a bug in the ?updatetipafriendpolicy.php? script that prevents it from granting access to the &quot;Tip a friend&quot; feature to the users. You need to download the updated version of the &quot;updatetipafriendpolicy.php&quot; script from <a href="https://github.com/ezsystems/exponential-legacy/tree/master/update/common/scripts" target="_blank">http://pubsvn.ez.no</a> and replace the corresponding file in your installation before running the script. The same bug exists in Exponential 3.9.3 - 3.9.4 (refer to <a href="http://issues.ez.no/11663" target="_blank">http://issues.ez.no/11663</a> for more information). The updated version of the script is included in Exponential 4.0.0 and the upcoming Exponential 3.10.1 and 3.9.5 releases.</p><p>The following example shows how to run the script:</p>
<ol>
<li><div> Navigate into the Exponential 3.10.0 directory. </div></li><li><div> Run the script using the following shell command:<pre class="wordwrap"><span class="line">php update/common/scripts/3.10/updatetipafriendpolicy.php -s example_admin -l login -p password</span>
</pre></div></li>
</ol>
<p>Replace &quot;example_admin&quot; with the actual name of your admin siteaccess and use the administrator's login and password instead of &quot;login&quot; and &quot;password&quot;.</p><p>The script will add a new role that grants access to the &quot;Tip a friend&quot; feature and ask for confirmation about assigning this role to each user or user group located one level beneath the &quot;Users&quot; top level node.</p><a name="eztoc83640_3_10" id="eztoc83640_3_10"></a><h3>Improved handling of country dependent VATs</h3><p>In Exponential version 3.10, the handling of country dependent VATs has been improved. Because of compatibility reasons, you need to run the &quot;updatevatcountries.php&quot; script.</p><p>Note that due to a bug in Exponential 3.10.0, you need to download the updated version of the &quot;updatevatcountries.php&quot; script from <a href="https://github.com/ezsystems/exponential-legacy/tree/master/update/common/scripts" target="_blank">http://pubsvn.ez.no</a> and replace the corresponding file in your installation before running the script. The same bug exists in Exponential 3.9.4 and 3.9.3 (refer to <a href="http://issues.ez.no/11955" target="_blank">http://issues.ez.no/11955</a> for more information). The updated version of the script is included in Exponential 4.0.0 and the upcoming Exponential 3.10.1 and 3.9.5 releases.</p><p>The &quot;updatevatcountries.php&quot; script should be run once for each database, specifying one siteaccess per database. If you only have a public and an administration siteaccess that share the same database, you only need to run the script for one of the siteaccesses. If the siteaccess isn't specified, the <a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/SiteSettings/DefaultAccess.html" target="_self">default siteaccess</a> will be used.</p><p>The following example shows how to run the script:</p>
<ol>
<li><div> Navigate into the Exponential 3.10.0 directory. </div></li><li><div> Run the &quot;updatevatcountries.php&quot; script (replace &quot;example&quot; with the actual name of your siteaccess):<pre class="wordwrap"><span class="line">php update/common/scripts/3.10/updatevatcountries.php -s example</span>
</pre></div></li>
</ol>
<p>The script will go through all the VAT rules in the database and make them compatible with the newly introduced changes.</p><a name="eztoc83640_4" id="eztoc83640_4"></a><h2>Step 4: Updating the system configuration</h2><a name="eztoc83640_4_11" id="eztoc83640_4_11"></a><h3>Updating INI settings that use URL aliases</h3><p>If your site makes use of the &quot;urlalias&quot; or &quot;urlalias_iri&quot; <a href="../../Technical-manual/3.10/Features/Multi-language-support-for-URL-aliases.html#transformation" target="_self">transformation method</a>, read this part carefully. If you have specified &quot;urlalias_compat&quot; in the &quot;<a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/URLTranslator/TransformationGroup.html" target="_self">TransformationGroup</a>&quot; configuration setting in step 3, skip this part.</p><p>After running the &quot;updateniceurls.php&quot; script in step 3, you need to review your configuration settings and update the URL aliases that are used in configuration files. For example, if your site makes use of the &quot;<a href="../../Technical-manual/4.x/Reference/Configuration-files/site.ini/SiteAccessSettings/PathPrefix.html" target="_self">PathPrefix</a>&quot; and &quot;<a href="../../Technical-manual/4.x/Reference/Configuration-files/site.ini/SiteAccessSettings/PathPrefixExclude.html" target="_self">PathPrefixExclude</a>&quot; settings, this functionality might stop working if the specified URL aliases have changed (which will likely be the case because the virtual URLs are re-generated in accordance with the &quot;<a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/URLTranslator/TransformationGroup.html" target="_self">TransformationGroup</a>&quot; and &quot;<a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/URLTranslator/WordSeparator.html" target="_self">WordSeparator</a>&quot; directives). Even though the old virtual URLs are stored as history entries and redirect to new ones when being accessed on the actual site, configuration settings do not work with URL history entries, i.e. you need to specify correct URL aliases there.</p><p>Also, you need to review the configuration settings in your &quot;override.ini.append.php&quot; file(s), otherwise your override templates activated by the &quot;url_alias&quot; condition will most likely stop working. For each line in the &quot;override.ini.append.php&quot; file that contains something like this:</p><pre class="wordwrap"><span class="line">Match[url_alias]=&lt;virtual_url&gt;</span>
</pre><p> make sure that the correct virtual URL is specified.</p><p>Note that for multi-language sites, you need to specify URL aliases in the most prioritized language (controlled by the &quot;<a href="../../Technical-manual/3.10/Reference/Configuration-files/site.ini/RegionalSettings/SiteLanguageList.html" target="_self">SiteLanguageList</a>&quot; configuration array located under the &quot;[RegionalSettings]&quot; section of &quot;site.ini.append.php&quot;).</p><a name="eztoc83640_4_12" id="eztoc83640_4_12"></a><h3>Treemenu configuration</h3><p>In Exponential versions prior to 3.10, the left treemenu in the administration interface didn't scale very well (refer to the <a href="https://github.com/ezsystems/exponential-legacy/tree/master/doc/specifications/3.10/dynamic_content_structure_menu" target="_blank">specifications</a> for details). This has been significantly improved in 3.10. The newly added implementation is called &quot;dynamic content structure menu&quot;. It makes use of the <a href="http://en.wikipedia.org/wiki/Ajax_(programming)" target="_blank">AJAX</a> technology, which is supported by all modern browsers. The old implementation is still available and enabled after upgrading. It is however recommended to switch to the new implementation, specially for large sites with many nodes. This will make the treemenu work much faster and decrease the usage of network bandwidth. (Note that new sites created from scratch using the setup wizard will have &quot;dynamic&quot; treemenu in the administration interface.)</p><p>If you want to use the new implementation of the treemenu, do the following:</p>
<ol>
<li><div> Open the &quot;contentstructuremenu.ini.append.php&quot; configuration file located in the &quot;settings/siteaccess/example_admin&quot; directory (replace &quot;example_admin&quot; with the actual name of your admin siteaccess) and edit it. If the file does not exist, create it. </div></li><li><div> Add the following lines under the &quot;[TreeMenu]&quot; section:<pre class="wordwrap"><span class="line">[TreeMenu]</span>
<span class="line">Dynamic=enabled</span>
</pre></div></li>
</ol>
<a name="eztoc83640_4_12_2" id="eztoc83640_4_12_2"></a><h4>Updating Apache configuration (optional)</h4><p>The following rewrite rules are added into &quot;.htaccess_root&quot; file by default.</p><pre class="wordwrap"><span class="line">RewriteRule content/treemenu/?$ index_treemenu.php</span>
<span class="line">RewriteRule index_treemenu.php - [L]</span>
</pre><p>If the &quot;.htaccess_root&quot; file isn't used, it is strongly recommended to update the Apache configuration file. You can do this by adding the following line above the other / already existing rewrite rules for Exponential:</p><pre class="wordwrap"><span class="line">RewriteRule content/treemenu/?$ /index_treemenu.php [L]</span>
</pre><p>This will instruct Apache to use &quot;index_treemenu.php&quot; instead of &quot;index.php&quot; when accessing the &quot;treemenu&quot; view of the &quot;content&quot; module (this is an optimized script that only takes care about a specific case and thus it works faster than the regular &quot;index.php&quot;).</p><a name="eztoc83640_4_13" id="eztoc83640_4_13"></a><h3>Anchors within headings in Online Editor</h3><p>Exponential 3.10.0 comes with 4.2.4 of the Online Editor extension. In this version, the &quot;AnchorAsAttribute&quot; setting located in the [header] section of the &quot;extension/ezdhtml/settings/content.ini.append&quot; configuration file is disabled by default. The above mentioned setting controls whether the usage of the &quot;anchor_name&quot; attribute for the &quot;header&quot; XML tag should be allowed or not. If XML content on your site is using this attribute, you need to make sure that the &quot;AnchorAsAttribute&quot; setting is enabled.</p><a name="eztoc83640_5" id="eztoc83640_5"></a><h2>Step 5: Clearing the caches</h2><p>Whenever an Exponential solution is upgraded, all caches must be cleared in a proper way. This should be done from within a system shell:</p>
<ol>
<li><div> Navigate into the Exponential 3.10 directory. </div></li><li><div> Run the script using the following shell command:<pre class="wordwrap"><span class="line">php bin/php/ezcache.php --clear-all --purge</span>
</pre></div></li>
</ol>
<p>Purging allows to make sure the caches are physically removed. Without the &quot;--purge&quot; option, the caches will be expired but not removed.</p><p>Sometimes the script is unable to clear caches because of restrictive file/directory permission settings. Make sure that all caches have been cleared by inspecting the contents of the various cache subdirectories within the &quot;var&quot; directory (typically &quot;var/cache/&quot; and &quot;var/&lt;name_of_siteaccess&gt;/cache/&quot; directories). If there are caches left, you need to remove them manually.</p>

<div class="break"></div><div class="pageinfo float-break">
<div class="created">


<p><label>Written by:</label>Svitlana Shatokhina&nbsp;(23/07/2007 7:44 am)</p>
</div>
<div class="modified">
<p><label>Last updated by:</label>Sarah Haïm-Lubczanski&nbsp;(01/08/2014 3:59 pm)</p>
</div><div class="authors">
<p><label>Maintainers:</label>Svitlana Shatokhina, Julia Shymova, Sarah Haïm-Lubczanski</p>
</div></div>
<hr class="hide" />

</div>
</div>
</div>

<div id="comments" class="class-comment">
<div class="content-view-children">

<h1>Comments</h1>
<div id="comments-content">
<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment17415" class="attribute-heading">
<h2>after updateniceurls most links in google and users' bookmarkes will not work</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 25 October 2007 6:40:50 pm</p>
    <p class="author">vytis</p>
</div>

<div class="attribute-short">
after updateniceurls most links in google and users' bookmarkes will not work, because of default setting of &quot;TransformationGroup&quot; .<br />
There is said &quot;Old virtual URLs will be transferred to the new system and stored as history entries.&quot;, but old links will not work. 
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="17415" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment17417" class="attribute-heading">
<h2>Re: after updateniceurls most links in google and users' bookmarkes will not work</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 26 October 2007 12:38:19 pm</p>
    <p class="author">Svitlana Shatokhina</p>
</div>

<div class="attribute-short">
'History entries' are all the old urls in the system, so if you had 'news/my_cool_article' in 3.9 and you upgraded it would be placed in the history. If you then enter the old url in the browser (or from bookmark/google) the system will redirect you to the new and correct url/name. This also happens if you rename an object, the old name is kept around for redirecting purposes. If it doesn't work as described here, please file an issue on <a href="http://issues.ez.no/" title="http://issues.ez.no">http://issues.ez.no</a><br />
<br />
Note: if you want to use the old-style URLs, change the TransformationGroup and WordSeparator settings accordingly and re-run the script.
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="17417" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment17425" class="attribute-heading">
<h2>Upgrade sql also has sections already done by 3.9.4 upgrade.</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 30 October 2007 12:34:21 am</p>
    <p class="author">Matthew Carroll</p>
</div>

<div class="attribute-short">
If upgrading from 3.9.4 or later, take care when commenting out the unneeded sections in the upgrade sql as described above. There is also a section that was done in the 3.9.3-to-3.9.4 upgrade, and should also be commented out. This section is not marked as such in the 3.9.0-to-3.10.0.sql. It is the following lines:<br />
<br />
ALTER table ezsearch_word ADD KEY ezsearch_word_obj_count(object_count);<br />
<br />
DROP INDEX ezurl_url ON ezurl;<br />
ALTER TABLE ezurl MODIFY url longtext;<br />
ALTER table ezurl ADD KEY ezurl_url( url(255) );<br />
<br />
If upgrading from 3.9.4 or later, those lines should be commented out. The instructions under step 2 should read as follows:<br />
<br />
See also this bug:<br />
<br />
<a href="http://issues.ez.no/11782" title="http://issues.ez.no/11782">http://issues.ez.no/11782</a>
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="17425" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment17474" class="attribute-heading">
<h2>Hints about Nice URLs.</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 02 November 2007 11:03:57 pm</p>
    <p class="author">Maarten</p>
</div>

<div class="attribute-short">
Here are a few things I stumbled upon in the hope it might help other users:<br />
<br />
Nice URLs:<br />
Originally I used the InnoDB Storage Engine. After upgrading from 3.9.1 to 3.10.0 my nice URLs were replaced by numbers. I've started over and changed all tables to MyISAM before running the updateniceurls script and now my URLs were OK. <br />
<br />
Patch 'URL alias name pattern':<br />
I've patched 3.9.1 with this patch: <a href="http://ezpedia.org/wiki/en/ez/url_alias_name_pattern" title="http://ezpedia.org/wiki/en/ez/url_alias_name_pattern">http://ezpedia.org/wiki/en/ez/url_alias_name_pattern</a>. <br />
Since the patch already created a column called 'url_alias_name' in the table 'ezcontentclass' I had to remove the following lines from dbupdate-3.9.0-to-3.10.0.sql:<br />
<br />
-- URL alias name pattern<br />
ALTER TABLE ezcontentclass ADD COLUMN url_alias_name VARCHAR(255) AFTER contentobject_name;<br />

</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="17474" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment19723" class="attribute-heading">
<h2>Clear Cache deletes images</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 06 December 2007 11:03:36 am</p>
    <p class="author">Philip</p>
</div>

<div class="attribute-short">
Hello.<br />
<br />
I did an update from version 3.9.0. to 3.10.0. All the steps in the upgrading documentation were finished successfully and my site looks very well after upgrading.<br />
<br />
BUT if I clear all caches using the clear cache button in the backend all the images in page will be deleted. <br />
<br />
If I clear caches using the shell<br />
<br />
<pre class="wordwrap"><span class="line"># php bin/php/ezcache.php --clear-all --purge</span>
</pre><br />
<br />
my images won't be deleted...<br />
<br />
<br />
I have no idea what caused this problem and would be appreciated if someone could help me.<br />
<br />
Thanks a lot,<br />
Philip
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="19723" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment19737" class="attribute-heading">
<h2>Re: Clear Cache deletes images</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 12 December 2007 4:36:39 pm</p>
    <p class="author">Julia Shymova</p>
</div>

<div class="attribute-short">
This is now reported here: <a href="http://issues.ez.no/12237" title="http://issues.ez.no/12237">http://issues.ez.no/12237</a>.
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="19737" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment19732" class="attribute-heading">
<h2>updateniceurls.php - check if remote_id's exisits</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 11 December 2007 11:18:32 am</p>
    <p class="author">Georg</p>
</div>

<div class="attribute-short">
Hi,<br />
<br />
if you have path problems after running the updateniceurls.php script, check if all remote_id's were set.<br />
<br />
<a href="http://issues.ez.no/IssueView.php?Id=12231&amp;activeItem=1" title="http://issues.ez.no/IssueView.php?Id=12231&amp;activeItem=1">http://issues.ez.no/IssueView.php?Id=12231&amp;activeItem=1</a><br />
<br />
Best wishes,<br />
Georg.
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="19732" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment19777" class="attribute-heading">
<h2>updateniceurls.php - run with import flag</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 15 January 2008 8:33:02 am</p>
    <p class="author">Meinhard Benn</p>
</div>

<div class="attribute-short">
If you get URLs like example.org/folder2 for something that should be example.org/folder1/folder2 after the upgrade from 3.9 to 3.10, you might want to add the import flag when updating the nice URLs:<br />
<br />
<pre class="wordwrap"><span class="line">bin/php/updateniceurls.php -s &lt;siteaccess&gt; --import</span>
</pre><br />
<br />
This fixed the issue for me. Thanks for the hint, Matthew. ;)
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="19777" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>


</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment19783" class="attribute-heading">
<h2>iri crap</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Friday 18 January 2008 12:43:43 am</p>
    <p class="author">bjoern</p>
</div>

<div class="attribute-short">
<a href="http://issues.ez.no/IssueView.php?Id=12399&amp;activeItem=1" title="http://issues.ez.no/IssueView.php?Id=12399&amp;activeItem=1">http://issues.ez.no/IssueView.php?Id=12399&amp;activeItem=1</a>
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="19783" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment20199" class="attribute-heading">
<h2>where is fixed updateniceurls.php ?</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 20 May 2008 8:49:30 pm</p>
    <p class="author">zurgutt</p>
</div>

<div class="attribute-short">
You acknowledge that updateniceurls coming with this package is broken.<br />
You acknowledge that fixed version exists.<br />
WHY ON EARTH DONT YOU LINK TO FIXED SCRIPT?<br />
So right now everyone either have to keep sitting on their thumbs waiting for 3.10.1 coming up in some bright future or have to go hunting in mad hierarchies of svn.<br />
By the way, contrary to what you say 4.0 does not have that script.
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="20199" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment20200" class="attribute-heading">
<h2>Re: where is fixed updateniceurls.php ?</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Tuesday 20 May 2008 8:58:31 pm</p>
    <p class="author">zurgutt</p>
</div>

<div class="attribute-short">
Me bad, it is in 4.0 but of course that one is unusable as its for php5.
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="20200" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>


</div>
</div>    </div></li>    <li class="comment-bgdark"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment20203" class="attribute-heading">
<h2>Re: where is fixed updateniceurls.php ?</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 21 May 2008 9:01:08 am</p>
    <p class="author">Svitlana Shatokhina</p>
</div>

<div class="attribute-short">
The updated script for 3.10.1 is available at <a href="http://pubsvn.ez.no/nextgen/stable/3.10/bin/php/updateniceurls.php" title="http://pubsvn.ez.no/nextgen/stable/3.10/bin/php/updateniceurls.php">http://pubsvn.ez.no/nextgen/stable/3.10/bin/php/updateniceurls.php</a> but it's not double tested so I don't think we can recommend using it when upgrading to 3.10.0.
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="20203" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment20251" class="attribute-heading">
<h2>no ezwebin upgrade instructions</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Wednesday 02 July 2008 8:20:20 pm</p>
    <p class="author">zurgutt</p>
</div>

<div class="attribute-short">
Quote:<br />
&quot;&quot;It is also possible to upgrade the Website Interface extension to a newer version (you can find more information and instructions in the &quot;Upgrading the Website Interface&quot; chapter of the Website Interface installation guide).&quot;&quot;<br />
<br />
There is no &quot;Upgrading the Website Interface&quot; chapter on that page.
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="20251" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>

<ul>    <li class="comment-bglight"><div class="padding">
    <div class="content-view-line">
<div class="class-comment">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">

<div id="comment20252" class="attribute-heading">
<h2>Re: no ezwebin upgrade instructions</h2>
</div>

<div class="attribute-byline float-break">
    <p class="date">Thursday 03 July 2008 7:33:12 am</p>
    <p class="author">Svitlana Shatokhina</p>
</div>

<div class="attribute-short">
Please have a look once again. You need to download the Website Interface installation guide for the corresponding version of ezwebin from the given link, it is a PDF file. You will find the &quot;Upgrading the Website Interface&quot; chapter there on page 8.
</div>

<input class="button" type="submit" name="NewButton" value="Reply" />
<input type="hidden" name="NodeID" value="20252" />
<input type="hidden" name="ClassID" value="17" />
     
<input type="hidden" name="RedirectURIAfterPublish" value="/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />

</form>


</div>
</div>    </div></li></ul>
</div>
</div>    </div></li></ul>
</div>
<div class="toolbar">

<form method="post" action="https://exponential.doc.exponential.earth/content/action">
<input class="button" type="submit" name="NewButton" value="New comment" />
<input type="hidden" name="NodeID" value="17228" />
<input type="hidden" name="RedirectURIAfterPublish" value="Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated" />
<input type="hidden" name="ClassID" value="17" />
</form>
</div>

</div>
</div>

</div>
<!-- Main area content: END -->

</div>
</div>
<!-- Main area: END -->
<hr class="hide" />

</div></div></div>

        <div id="footer-bg">
        <div id="footer" class="container_12">

            <div class="grid_3">
                <img src="https://exponential.doc.exponential.earth/extension/ezdoc/design/doc/images/ez-logo.png" alt="exponential" />
                <div id="footer-copyright" class="grid_3 alpha omega">
                                    </div>
            </div>

            <div class="grid_6 middle">
                <div class="grid_6 alpha omega">
                    <div class="grid_3 alpha"><div></div></div>
                    <div class="grid_3 omega"><div></div></div>
                </div>
            </div>

            <div class="grid_3 right">
                <div class="contact-ez">
                        <a id="cta-contact" href="https://se7enx.com" title="Contact 7x!" class="btn-green btn--small">Contact 7x!</a>
                </div>

                <div class="adress"></div>
            </div>

        </div>
    </div>
<div id="footer-connect-bg">
    <div id="footer" class="container_12">
        <div id="footer-connect-copyright" class="grid_8 alpha omega">
            Copyright © 1998 - 2024 7x (except where otherwise noted). All rights reserved.
            <br/><br/>
            Powered by <a href="https://se7enx.com/exponential" title="Exponential Platform">the Exponential Platform</a>.<br />
        </div>

        <div id="footer-connect-social" class="grid_4 right">
            <a href="https://www.youtube.com/@ExponentialInsights" class="youtube" target="_blank">youtube</a>
            
            <a href="http://www.linkedin.com/groups?gid=2759&amp;trk=myg_ugrp_ovr" class="linkedin" target="_blank">linkedin</a>
            <a href="https://www.instagram.com/se7enxweb" class="instagram" target="_blank">instagram</a>
            <a href="https://twitter.com/se7enxweb" class="X" target="_blank">X</a>
        </div>


    </div>
</div>


</div>
<!-- Complete page area: END -->




<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1VMV65H63V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1VMV65H63V');
</script>






</body>

<!-- Mirrored from doc.ez.no/Exponential/Upgrading/Upgrading-to-3.10/from-3.9.x-to-3.10.0-deprecated by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 31 Jan 2017 06:41:20 GMT -->
</html>

<!-- th[eZ] 20050804 -->
