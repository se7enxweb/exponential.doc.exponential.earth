Message-ID: <644418483.4044.1485856452187.JavaMail.confluence@ip-10-127-227-164>
Subject: Exported From Confluence
MIME-Version: 1.0
Content-Type: multipart/related; 
	boundary="----=_Part_4043_486270391.1485856452187"

------=_Part_4043_486270391.1485856452187
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-Location: file:///C:/exported.html

<html xmlns:o=3D'urn:schemas-microsoft-com:office:office'
      xmlns:w=3D'urn:schemas-microsoft-com:office:word'
      xmlns:v=3D'urn:schemas-microsoft-com:vml'
      xmlns=3D'urn:w3-org-ns:HTML'>
<head>
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf-8=
">
    <title>Installing Exponential on a Linux-UNIX based system</title>
    <!--[if gte mso 9]>
    <xml>
        <o:OfficeDocumentSettings>
            <o:TargetScreenSize>1024x640</o:TargetScreenSize>
            <o:PixelsPerInch>72</o:PixelsPerInch>
            <o:AllowPNG/>
        </o:OfficeDocumentSettings>
        <w:WordDocument>
            <w:View>Print</w:View>
            <w:Zoom>90</w:Zoom>
            <w:DoNotOptimizeForBrowser/>
        </w:WordDocument>
    </xml>
    <![endif]-->
    <style>
                <!--
        @page Section1 {
            size: 8.5in 11.0in;
            margin: 1.0in;
            mso-header-margin: .5in;
            mso-footer-margin: .5in;
            mso-paper-source: 0;
        }

        td {
            page-break-inside: avoid;
        }

        tr {
            page-break-after: avoid;
        }

        div.Section1 {
            page: Section1;
        }

        /* Confluence print stylesheet. Common to all themes for print medi=
a */
/* Full of !important until we improve batching for print CSS */

@media print {
    #main {
        padding-bottom: 1em !important; /* The default padding of 6em is to=
o much for printouts */
    }

    body {
        font-family: Arial, Helvetica, FreeSans, sans-serif;
        font-size: 10pt;
        line-height: 1.2;
    }

    body, #full-height-container, #main, #page, #content, .has-personal-sid=
ebar #content {
        background: #fff !important;
        color: #000 !important;
        border: 0 !important;
        width: 100% !important;
        height: auto !important;
        min-height: auto !important;
        margin: 0 !important;
        padding: 0 !important;
        display: block !important;
    }

    a, a:link, a:visited, a:focus, a:hover, a:active {
        color: #000;
    }

    #content h1,
    #content h2,
    #content h3,
    #content h4,
    #content h5,
    #content h6 {
        font-family: Arial, Helvetica, FreeSans, sans-serif;
        page-break-after: avoid;
    }

    pre {
        font-family: Monaco, "Courier New", monospace;
    }

    #header,
    .aui-header-inner,
    #navigation,
    #sidebar,
    .sidebar,
    #personal-info-sidebar,
    .ia-fixed-sidebar,
    .page-actions,
    .navmenu,
    .ajs-menu-bar,
    .noprint,
    .inline-control-link,
    .inline-control-link a,
    a.show-labels-editor,
    .global-comment-actions,
    .comment-actions,
    .quick-comment-container,
    #addcomment {
        display: none !important;
    }

    .comment .date::before {
        content: none !important; /* remove middot for print view */
    }

    h1.pagetitle img {
        height: auto;
        width: auto;
    }

    .print-only {
        display: block;
    }

    #footer {
        position: relative !important; /* CONF-17506 Place the footer at en=
d of the content */
        margin: 0;
        padding: 0;
        background: none;
        clear: both;
    }

    #poweredby {
        border-top: none;
        background: none;
    }

    #poweredby li.print-only {
        display: list-item;
        font-style: italic;
    }

    #poweredby li.noprint {
        display: none;
    }

    /* no width controls in print */
    .wiki-content .table-wrap,
    .wiki-content p,
    .panel .codeContent,
    .panel .codeContent pre,
    .image-wrap {
        overflow: visible !important;
    }

    /* TODO - should this work? */
    #children-section,
    #comments-section .comment,
    #comments-section .comment .comment-body,
    #comments-section .comment .comment-content,
    #comments-section .comment p {
        page-break-inside: avoid;
    }

    #page-children a {
        text-decoration: none;
    }

    /**
     hide twixies

     the specificity here is a hack because print styles
     are getting loaded before the base styles. */
    #comments-section.pageSection .section-header,
    #comments-section.pageSection .section-title,
    #children-section.pageSection .section-header,
    #children-section.pageSection .section-title,
    .children-show-hide {
        padding-left: 0;
        margin-left: 0;
    }

    .children-show-hide.icon {
        display: none;
    }

    /* personal sidebar */
    .has-personal-sidebar #content {
        margin-right: 0px;
    }

    .has-personal-sidebar #content .pageSection {
        margin-right: 0px;
    }
}
-->
    </style>
</head>
<body>
    <h1>Installing Exponential on a Linux-UNIX based system</h1>
    <div class=3D"Section1">
        <div class=3D"confluence-information-macro confluence-information-m=
acro-note">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
The requirements for doing a normal installation must be met, read the "
<a href=3D"/display/EZP/Requirements+for+doing+a+normal+installation">Requi=
rements for doing a normal installation</a>" section first!
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<p class=3D"title">Installing eZ Platform?</p>
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>This page covers install of eZ <strong>Publish 5.x</strong> <em>(includi=
ng community versions like v2014.11)</em>, for <strong>eZ Platform</strong>=
 see <a href=3D"https://github.com/ezsystems/ezplatform/blob/master/INSTALL=
.md" class=3D"external-link" rel=3D"nofollow">INSTALL.md</a> bundled with t=
he installation.</p>
</div>
</div>
<p>&nbsp;</p>
<p>This section will guide you through the following steps:</p>
<p><style type=3D"text/css">/*<![CDATA[*/
div.rbtoc1485856452060 {padding: 0px;}
div.rbtoc1485856452060 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1485856452060 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p>
<div class=3D"toc-macro rbtoc1485856452060">=20
<ul class=3D"toc-indentation">=20
<li><span class=3D"TOCOutline">1</span> <a href=3D"#InstallingExponentialonaL=
inux-UNIXbasedsystem-SettingupadatabaseYellow5.x">Setting up a database 5.X=
</a>=20
<ul class=3D"toc-indentation">=20
<li><span class=3D"TOCOutline">1.1</span> <a href=3D"#InstallingExponentialon=
aLinux-UNIXbasedsystem-MySQL">MySQL</a></li>=20
<li><span class=3D"TOCOutline">1.2</span> <a href=3D"#InstallingExponentialon=
aLinux-UNIXbasedsystem-PostgreSQL">PostgreSQL</a></li>=20
</ul> </li>=20
<li><span class=3D"TOCOutline">2</span> <a href=3D"#InstallingExponentialonaL=
inux-UNIXbasedsystem-DownloadingExponentialYellow5.x">Downloading Exponential =
5.X</a></li>=20
<li><span class=3D"TOCOutline">3</span> <a href=3D"#InstallingExponentialonaL=
inux-UNIXbasedsystem-UnpackingExponentialYellow5.x">Unpacking Exponential 5.X<=
/a></li>=20
<li><span class=3D"TOCOutline">4</span> <a href=3D"#InstallingExponentialonaL=
inux-UNIXbasedsystem-SettingupfolderpermissionYellow5.x">Setting up folder =
permission 5.X</a></li>=20
<li><span class=3D"TOCOutline">5</span> <a href=3D"#InstallingExponentialonaL=
inux-UNIXbasedsystem-InstallComposerYellow5.x">Install Composer 5.X</a>=20
<ul class=3D"toc-indentation">=20
<li><span class=3D"TOCOutline">5.1</span> <a href=3D"#InstallingExponentialon=
aLinux-UNIXbasedsystem-For5.3andhigher:getlatestversionsofpackagesRed>=3D5.=
3/2014.05">For 5.3 and higher : get latest versions of packages &gt;=3D 5.3=
 / 2014.05</a></li>=20
<li><span class=3D"TOCOutline">5.2</span> <a href=3D"#InstallingExponentialon=
aLinux-UNIXbasedsystem-For5.2:forSymfonyanditsdependenciesGreen5.2">For 5.2=
 : for Symfony and its dependencies 5.2</a></li>=20
</ul> </li>=20
<li><span class=3D"TOCOutline">6</span> <a href=3D"#InstallingExponentialonaL=
inux-UNIXbasedsystem-Forall5.xversions:InstallZetacomponentsforapurelegacys=
etupYellow5.x">For all 5.x versions : Install Zetacomponents for a pure leg=
acy setup 5.X</a></li>=20
<li><span class=3D"TOCOutline">7</span> <a href=3D"#InstallingExponentialonaL=
inux-UNIXbasedsystem-Before5.2:Linkassets<5.2">Before 5.2 : Link assets &lt=
; 5.2</a></li>=20
<li><span class=3D"TOCOutline">8</span> <a href=3D"#InstallingExponentialonaL=
inux-UNIXbasedsystem-InitiatingthesetupwizardYellow5.x">Initiating the setu=
p wizard 5.X</a></li>=20
</ul>=20
</div>
<p></p>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
Follow the status labels for the right version :=20
<em><strong><span class=3D"status-macro aui-lozenge aui-lozenge-current">5.=
X</span></strong></em>=20
<em><strong><em><strong><span class=3D"status-macro aui-lozenge">5.0</span>=
 <em><strong><span class=3D"status-macro aui-lozenge">5.1</span><em><strong=
> <span class=3D"status-macro aui-lozenge aui-lozenge-success">5.2</span></=
strong></em></strong></em></strong></em></strong></em>&nbsp;=20
<em><strong><span class=3D"status-macro aui-lozenge aui-lozenge-error">&gt;=
=3D 5.3 / 2014.05</span></strong></em>
</div>
</div>
<h2 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-SettingupadatabaseYel=
low5.x">Setting up a database<em><strong> <span class=3D"status-macro aui-l=
ozenge aui-lozenge-current">5.X</span></strong></em></h2>
<p>A <strong>database must be created</strong> before running the setup wiz=
ard. The following text explains how to set up a database using either MySQ=
L or PostgreSQL.</p>
<h3 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-MySQL">MySQL</h3>
<ol>
<li>
<div>
<p>Log in as the root user (or any other MySQL user that has the <code>CREA=
TE</code>, <code>CREATE USER</code> and <code>GRANT OPTION</code> <a href=
=3D"http://dev.mysql.com/doc/refman/5.1/en/privileges-provided.html" class=
=3D"external-link" rel=3D"nofollow">privileges</a>):</p>
<div class=3D"code panel pdl" style=3D"border-width: 1px;">
<div class=3D"codeContent panelContent pdl">=20
<pre class=3D"brush: bash; gutter: false; theme: Eclipse" style=3D"font-siz=
e:12px;"># mysql --host=3D&lt;mysql_host&gt; --port=3D&lt;port&gt; -u &lt;m=
ysql_user&gt; -p&lt;mysql_password&gt;</pre>=20
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>Note that if MySQL is installed on the same server, the "<code>--host</c=
ode>" parameter can be omitted. If the "<code>--port</code>" parameter is o=
mitted, the default port for MySQL traffic will be used (port 3306).</p>
</div>
</div>
<p>The MySQL client should display a "mysql&gt;" prompt.<br><br></p>
</div></li>
<li>
<div>
<p>Create a new database:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>mysql&gt; CREATE DATABASE &lt;database&gt; CHARACTER SET utf8;</pre>=
=20
</div>
</div>
</div></li>
<li>
<div>
<p>Grant access permissions:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>mysql&gt; GRANT ALL ON &lt;database&gt;.* TO &lt;user&gt;@&lt;ezp_host=
&gt; IDENTIFIED BY '&lt;password&gt;';</pre>=20
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>Note that if the specified user account does not exist, it will be creat=
ed.</p>
</div>
</div>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Reference</th>
<th class=3D"confluenceTh">Description</th>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;mysql_host&gt;</td>
<td class=3D"confluenceTd">The hostname of the MySQL database server.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;port&gt;</td>
<td class=3D"confluenceTd">The port number that will be used to connect to =
the MySQL database server.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;mysql_user&gt;</td>
<td class=3D"confluenceTd">The MySQL user (if no user is set up, use "<code=
>root</code>").</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;mysql_password&gt;</td>
<td class=3D"confluenceTd">The password that belongs to the <code>&lt;mysql=
_user&gt;</code>.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;database&gt;</td>
<td class=3D"confluenceTd">The name of the database, for example "<code>my_=
new_database</code>".</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;user&gt;</td>
<td class=3D"confluenceTd">The username that will be used to access the dat=
abase.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;ezp_host&gt;</td>
<td class=3D"confluenceTd">The hostname of the server on which Exponential w=
ill be running. (may be "<code>localhost</code>" if MySQL is installed on t=
he same server).</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;password&gt;</td>
<td class=3D"confluenceTd">The password you wish to set in order to limit a=
ccess to the database.</td>
</tr>
</tbody>
</table>
</div>
</div></li>
</ol>
<p><a name=3D"eztoc131657_1_2" rel=3D"nofollow"></a></p>
<h3 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-PostgreSQL">PostgreSQ=
L</h3>
<ol>
<li>
<div>
<p>Log in as the postgres user (or any other PostgreSQL user that has suffi=
cient <a href=3D"http://www.postgresql.org/docs/current/interactive/sql-gra=
nt.html" class=3D"external-link" rel=3D"nofollow">privileges</a> to create =
roles and databases):</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>$ psql -h &lt;psql_host&gt; -p &lt;port&gt; -U &lt;psql_user&gt; -W</p=
re>=20
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>Note that if PostgreSQL is installed on the same server, the "<code>-h</=
code>" parameter can be omitted. If the "<code>-p</code>" parameter is omit=
ted, the default port for PostgreSQL traffic will be used (in most cases, p=
ort 5432).</p>
</div>
</div>
<p>The PostgreSQL client will ask you to specify the password that belongs =
to the <code>&lt;psql_user&gt;</code>. If the password is correct, the clie=
nt should display a "<code>&lt;psql_user&gt;=3D#</code>" prompt.</p>
</div></li>
<li>
<div>
<p>Create a new database:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>postgres=3D# CREATE DATABASE &lt;database&gt; ENCODING=3D'utf8';</pre>=
=20
</div>
</div>
</div></li>
<li>
<div>
<p>Create a new user:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>postgres=3D# CREATE USER &lt;user&gt; PASSWORD '&lt;password&gt;';</pr=
e>=20
</div>
</div>
</div></li>
<li>
<div>
<p>Grant access permissions:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>postgres=3D# GRANT ALL PRIVILEGES ON DATABASE &lt;database&gt; TO &lt;=
user&gt;;</pre>=20
</div>
</div>
<p>&nbsp;</p>
</div>
<div>
<p>Import the "<a href=3D"http://www.postgresql.org/docs/8.3/static/pgcrypt=
o.html" class=3D"external-link" rel=3D"nofollow">pgcrypto</a>" module into =
the new database:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>postgres=3D# \c &lt;database&gt;
&lt;database&gt;=3D# \i '&lt;path_to_pgcrypto&gt;'</pre>=20
</div>
</div>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Reference</th>
<th class=3D"confluenceTh">Description</th>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;psql_host&gt;</td>
<td class=3D"confluenceTd">The hostname of the PostgreSQL database server.<=
/td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;port&gt;</td>
<td class=3D"confluenceTd">The port number that will be used to connect to =
the PostgreSQL database server.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;psql_user&gt;</td>
<td class=3D"confluenceTd">The PostgreSQL user (if no user is set up, use "=
<code>postgresql</code>").</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;database&gt;</td>
<td class=3D"confluenceTd">The name of the database, for example "<code>my_=
new_database</code>".</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;user&gt;</td>
<td class=3D"confluenceTd">The username that will be used to access the dat=
abase.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;password&gt;</td>
<td class=3D"confluenceTd">The password you wish to set in order to limit a=
ccess to the database.</td>
</tr>
<tr>
<td class=3D"confluenceTd">&lt;path_to_pgcrypto&gt;</td>
<td class=3D"confluenceTd">The path to the "<code>pgcrypto.sql</code>" file=
, for example "<code>/usr/share/pgsql/contrib/pgcrypto.sql</code>".</td>
</tr>
</tbody>
</table>
</div>
<strong><br>Note for version 9.1+ of PostgreSQL users:</strong>The followin=
g changes might be necessary for these users:
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>postgres=3D# \c &lt;database&gt;
&lt;database&gt;=3D# CREATE EXTENSION pgcrypto;</pre>=20
</div>
</div>
</div></li>
</ol>
<h2 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-DownloadingExponentialY=
ellow5.x">Downloading Exponential <em><strong><span class=3D"status-macro au=
i-lozenge aui-lozenge-current">5.X</span></strong></em></h2>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
The latest community version of Exponential can be downloaded from=20
<a href=3D"http://share.ez.no/downloads" class=3D"external-link" rel=3D"nof=
ollow">http://share.ez.no/downloads</a>
</div>
</div>
<p>Enterprise version is available in your <a href=3D"https://support.ez.no=
" class=3D"external-link" rel=3D"nofollow">support portal</a> or via partne=
r portal.</p>
<h2 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-UnpackingExponentialYel=
low5.x">Unpacking Exponential <em><strong><span class=3D"status-macro aui-lo=
zenge aui-lozenge-current">5.X</span></strong></em></h2>
<p>Use your favorite tool to unpack the downloaded Exponential distribution =
to a web-served directory (a directory that is reachable using a web browse=
r), or in case of virtual host mode it can be any folder. <br>The following=
 example shows how to do this using the tar utility (to unpack a tar.gz fil=
e, assuming that the "tar" and the "gzip" utilities are installed on the sy=
stem):</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>$ tar zxvf exponential-&lt;version_number&gt;-gpl.tar.gz -C &lt;web_serv=
ed_directory&gt;</pre>=20
</div>
</div>
<div class=3D"table-wrap">
<table class=3D"confluenceTable">
<tbody>
<tr>
<th class=3D"confluenceTh">Reference</th>
<th class=3D"confluenceTh">Description</th>
</tr>
<tr>
<td class=3D"confluenceTd"><code>&lt;version_number&gt;</code></td>
<td class=3D"confluenceTd">The version number of Exponential that was downlo=
aded.</td>
</tr>
<tr>
<td class=3D"confluenceTd"><code>&lt;web_served_directory&gt;</code></td>
<td class=3D"confluenceTd">Full path to a directory that is served by the w=
eb server. This can be the path to the document root of the web server, or =
a personal web-directory (usually called "<code>public_html</code>" or "<co=
de>www</code>", and located inside a user's home directory).</td>
</tr>
</tbody>
</table>
</div>
<p>&nbsp;</p>
<p>The extraction utility will unpack Exponential into a sub-directory calle=
d "<code>exponential-&lt;version_number&gt;</code>". Feel free to rename this=
 directory to something more meaningful, for example "<code>my_site</code>"=
.</p>
<p><a name=3D"eztoc131657_4" rel=3D"nofollow"></a></p>
<h2 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-Settingupfolderpermis=
sionYellow5.x">Setting up folder permission<em><strong> <span class=3D"stat=
us-macro aui-lozenge aui-lozenge-current">5.X</span></strong></em></h2>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<p class=3D"title">Important</p>
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>In the 3 first folder permission setup options, always ensure to run app=
lication scripts and the web server with the appropriate UNIX user (must be=
 same as you setup rights for below).</p>
<p>As for Apache you can control which user to use in your Apache configura=
tion. Using <a href=3D"http://php.net/manual/en/install.fpm.php" style=3D"l=
ine-height: 1.4285715;" class=3D"external-link" rel=3D"nofollow">PHP-FPM</a=
> or <a href=3D"http://httpd.apache.org/docs/2.2/en/suexec.html" style=3D"l=
ine-height: 1.4285715;" class=3D"external-link" rel=3D"nofollow">SuExec mod=
ule</a>, you can even specify a user per virtual host.</p>
</div>
</div>
<p>Several cache, log and config folders must be writable both by the web s=
erver and the command line user, use <em>one</em> of the following alternat=
ives to do this:</p>
<ul>
<li><p><strong>Using ACL on a system that supports chmod +a</strong><br>The=
se shell commands will give proper permission to the web server and command=
 line users.</p><p><em><strong>5.3 / 2014.05&nbsp;and higher: <span class=
=3D"status-macro aui-lozenge aui-lozenge-error">&gt;=3D 5.3 / 2014.05</span=
><br></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo chmod +a "www-data allow delete,write,append,file_inherit,direct=
ory_inherit" \
      exponential/{cache,logs,config,sessions} exponential_legacy/{design,exten=
sion,settings,var} web
    $ sudo chmod +a "`whoami` allow delete,write,append,file_inherit,direct=
ory_inherit" \
      exponential/{cache,logs,config,sessions} exponential_legacy/{design,exten=
sion,settings,var} web</pre>=20
</div>
</div><p><em><strong>5.0, 5.1 and 5.2: <em><strong><span class=3D"status-ma=
cro aui-lozenge">5.0</span> <em><strong><span class=3D"status-macro aui-loz=
enge">5.1</span><em><strong> <span class=3D"status-macro aui-lozenge aui-lo=
zenge-success">5.2</span></strong></em></strong></em></strong></em><br></st=
rong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo chmod +a "www-data allow delete,write,append,file_inherit,direct=
ory_inherit" \
      exponential/{cache,logs,config} exponential_legacy/{design,extension,sett=
ings,var} web
    $ sudo chmod +a "`whoami` allow delete,write,append,file_inherit,direct=
ory_inherit" \
      exponential/{cache,logs,config} exponential_legacy/{design,extension,sett=
ings,var} web</pre>=20
</div>
</div><p><strong><br></strong></p></li>
<li><p><strong>Using ACL on a system that does not support chmod +a<br></st=
rong>Some systems don't support chmod +a, but do support another utility ca=
lled setfacl. You may need to enable ACL support on your partition and inst=
all setfacl before using it (as is the case with Ubuntu).<br><em><strong><e=
m><strong>5.3 / 2014.05</strong></em>&nbsp;and higher: <em><strong><span cl=
ass=3D"status-macro aui-lozenge aui-lozenge-error">&gt;=3D 5.3 / 2014.05</s=
pan></strong></em><br></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo setfacl -R -m u:www-data:rwx -m u:www-data:rwx \
      exponential/{cache,logs,config,sessions} exponential_legacy/{design,exten=
sion,settings,var} web
    $ sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx \
      exponential/{cache,logs,config,sessions} exponential_legacy/{design,exten=
sion,settings,var} web</pre>=20
</div>
</div><p><em><strong>5.0, 5.1 and 5.2: <em><strong><em><strong><span class=
=3D"status-macro aui-lozenge">5.0</span> <em><strong><span class=3D"status-=
macro aui-lozenge">5.1</span><em><strong> <span class=3D"status-macro aui-l=
ozenge aui-lozenge-success">5.2</span></strong></em></strong></em></strong>=
</em></strong></em><br></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo setfacl -R -m u:www-data:rwx -m u:www-data:rwx \
      exponential/{cache,logs,config} exponential_legacy/{design,extension,sett=
ings,var} web
    $ sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx \
      exponential/{cache,logs,config} exponential_legacy/{design,extension,sett=
ings,var} web</pre>=20
</div>
</div></li>
<li><p><strong>Using chown on systems that don't support ACL</strong><br>So=
me systems don't support ACL at all. You will either need to set your web s=
erver's user as the owner of the required directories.<br><em><strong><em><=
strong>5.3 / 2014.05</strong></em>&nbsp;and higher: <em><strong><span class=
=3D"status-macro aui-lozenge aui-lozenge-error">&gt;=3D 5.3 / 2014.05</span=
></strong></em><br></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo chown -R www-data:www-data exponential/{cache,logs,config,sessions=
} exponential_legacy/{design,extension,settings,var} web
    $ sudo find {exponential/{cache,logs,config,sessions},exponential_legacy/{d=
esign,extension,settings,var},web} -type d | xargs sudo chmod -R 775
    $ sudo find {exponential/{cache,logs,config,sessions},exponential_legacy/{d=
esign,extension,settings,var},web} -type f | xargs sudo chmod -R 664</pre>=
=20
</div>
</div><p><em><strong>5.0, 5.1 and 5.2: <em><strong><em><strong><span class=
=3D"status-macro aui-lozenge">5.0</span> <em><strong><span class=3D"status-=
macro aui-lozenge">5.1</span><em><strong> <span class=3D"status-macro aui-l=
ozenge aui-lozenge-success">5.2</span></strong></em></strong></em></strong>=
</em></strong></em><br></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo chown -R www-data:www-data exponential/{cache,logs,config} ezpubli=
sh_legacy/{design,extension,settings,var} web
    $ sudo find {exponential/{cache,logs,config},exponential_legacy/{design,ext=
ension,settings,var},web} -type d | xargs sudo chmod -R 775
    $ sudo find {exponential/{cache,logs,config},exponential_legacy/{design,ext=
ension,settings,var},web} -type f | xargs sudo chmod -R 664</pre>=20
</div>
</div></li>
<li><p><strong>Using chmod</strong><br>If you can't use ACL and aren't allo=
wed to change owner, you can use chmod, making the files writable by everyb=
ody. Note that this method really isn't recommended as it allows any user t=
o do anything.<br><em><strong><em><strong>5.3 / 2014.05</strong></em>&nbsp;=
and higher: <em><strong><span class=3D"status-macro aui-lozenge aui-lozenge=
-error">&gt;=3D 5.3 / 2014.05</span></strong></em><br></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo find {exponential/{cache,logs,config,sessions},exponential_legacy/{d=
esign,extension,settings,var},web} -type d | xargs sudo chmod -R 777
    $ sudo find {exponential/{cache,logs,config,sessions},exponential_legacy/{d=
esign,extension,settings,var},web} -type f | xargs sudo chmod -R 666</pre>=
=20
</div>
</div><p><em><strong>5.0, 5.1 and 5.2: <em><strong><em><strong><span class=
=3D"status-macro aui-lozenge">5.0</span> <em><strong><span class=3D"status-=
macro aui-lozenge">5.1</span><em><strong> <span class=3D"status-macro aui-l=
ozenge aui-lozenge-success">5.2</span></strong></em></strong></em></strong>=
</em></strong></em><br></strong></em></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>    $ cd /&lt;ezp5-root&gt;/
    $ sudo find {exponential/{cache,logs,config},exponential_legacy/{design,ext=
ension,settings,var},web} -type d | xargs sudo chmod -R 777
    $ sudo find {exponential/{cache,logs,config},exponential_legacy/{design,ext=
ension,settings,var},web} -type f | xargs sudo chmod -R 666</pre>=20
</div>
</div></li>
</ul>
<h2 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-InstallComposerYellow=
5.x">Install Composer <em><strong><span class=3D"status-macro aui-lozenge a=
ui-lozenge-current">5.X</span></strong></em></h2>
<p>If you use a version control system, take care of versioning the compose=
r.lock file.</p>
<p>Install <a href=3D"http://getcomposer.org/" class=3D"external-link" rel=
=3D"nofollow">Composer</a> by running one of the following command from you=
 Exponential root folder :</p>
<p>If you <strong>have curl</strong> installed:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>curl -sS https://getcomposer.org/installer | php</pre>=20
</div>
</div>
<p>If you <strong>don't have curl</strong> installed:</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>php -r "eval('?&gt;'.file_get_contents('https://getcomposer.org/instal=
ler'));"</pre>=20
</div>
</div>
<h3 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-For5.3andhigher:getla=
testversionsofpackagesRed>=3D5.3/2014.05">For 5.3 and higher : get latest v=
ersions of packages <em><strong><span class=3D"status-macro aui-lozenge aui=
-lozenge-error">&gt;=3D 5.3 / 2014.05</span></strong></em></h3>
<p>When Composer is installed, run update to get latest versions of package=
s before you continue with installation.</p>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
Learn more on how to keep system further up to date&nbsp;=20
<a href=3D"/display/EZP/Using+Composer">Using Composer</a>
</div>
</div>
<h3 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-For5.2:forSymfonyandi=
tsdependenciesGreen5.2">For 5.2 : for Symfony and its dependencies <em><str=
ong><em><strong><em><strong><em><strong><span class=3D"status-macro aui-loz=
enge aui-lozenge-success">5.2</span></strong></em></strong></em></strong></=
em></strong></em></h3>
<p>Use composer for Symfony and its dependencies only, not for Exponential a=
nd it's dependencies.<br></p>
<div class=3D"error">
Error rendering macro 'excerpt-include' : User 'null' does not have permiss=
ion to view the page 'glossary:Symfony'.
</div>
<p></p>
<p>&nbsp;</p>
<div>
<div>
<h2 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-Forall5.xversions:Ins=
tallZetacomponentsforapurelegacysetupYellow5.x">For all 5.x versions : Inst=
all Zetacomponents for a pure legacy setup <em><strong><span class=3D"statu=
s-macro aui-lozenge aui-lozenge-current">5.X</span></strong></em></h2>
<p>As of Exponential 5.2, if you plan to use Exponential legacy <strong>only,=
</strong> as standalone (as in pointing apache to exponential_legacy folder o=
r extracting only exponential_legacy), then Zetacomponents must be installed =
if you don't already have it via PEAR.</p>
<p>After Composer installation (see above for Composer installation instruc=
tions) run the following command <strong>from the&nbsp;<em>exponential_legacy=
/</em>&nbsp;folder :</strong></p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>php composer.phar install</pre>=20
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>Composer will need GD to run.</p>
</div>
</div>
<p>&nbsp;</p>
</div>
</div>
<h2 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-Before5.2:Linkassets<=
5.2">Before 5.2 : Link assets <em><strong><em><strong><em><strong><span cla=
ss=3D"status-macro aui-lozenge">&lt; 5.2</span><em><strong> </strong></em><=
/strong></em></strong></em></strong></em></h2>
<div class=3D"confluence-information-macro confluence-information-macro-inf=
ormation">
<span class=3D"aui-icon aui-icon-small aui-iconfont-info confluence-informa=
tion-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
The download file should already have generated these assets for you as of =
5.2 / 2013.07 during composer install, but in case file has been extracted =
on Windows, make sure to run these commands.
</div>
</div>
<p>To be able to run Exponential 5 correctly, assets need to be exposed in t=
he public "<code>web</code>" folder.</p>
<p>The following commands will first symlink Exponential 5 assets in "Bundle=
s" and the second will symlink assets (design files like images, scripts an=
d css, and files in var folder) &nbsp;from Exponential Legacy</p>
<div class=3D"preformatted panel" style=3D"border-width: 1px;">
<div class=3D"preformattedContent panelContent">=20
<pre>cd /&lt;ezp5-root&gt;
php exponential/console assets:install --relative --symlink web
php exponential/console exponential:legacy:assets_install --relative --symlink =
web
php exponential/console assetic:dump --env=3Dprod web</pre>=20
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-not=
e">
<span class=3D"aui-icon aui-icon-small aui-iconfont-warning confluence-info=
rmation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p><strong>Note</strong>: In both cases "<code>web</code>" is the default f=
older and can be skipped from the command. For symlinks on the first two co=
mmands you can either use --relative, --symlink, or none to get the command=
 to copy assets. However make sure to also update "symfony-assets-install" =
in composer.json if you prefer something else then --relative which is the =
default.</p>
<p>Further information about alternative options is&nbsp;available&nbsp;wit=
h <code>-h</code> on each command, just like it is with the console itself =
using "<code>php exponential/console </code><code style=3D"line-height: 1.428=
5715;">-h</code>".</p>
</div>
</div>
<div class=3D"confluence-information-macro confluence-information-macro-war=
ning">
<p class=3D"title">Warning regarding APC usercache</p>
<span class=3D"aui-icon aui-icon-small aui-iconfont-error confluence-inform=
ation-macro-icon"></span>
<div class=3D"confluence-information-macro-body">
<p>If you are planning to use APC usercache for Exponential Persistence cach=
e, please be sure to check the available notes <a href=3D"https://confluenc=
e.ez.no/display/EZP/Persistence+cache+configuration#Persistencecacheconfigu=
ration-APC" class=3D"external-link" rel=3D"nofollow">here</a>, before enter=
ing the setup wizard chapter.</p>
</div>
</div>
<h2 id=3D"InstallingExponentialonaLinux-UNIXbasedsystem-Initiatingthesetupwiz=
ardYellow5.x">Initiating the setup wizard <em><strong><span class=3D"status=
-macro aui-lozenge aui-lozenge-current">5.X</span></strong></em></h2>
<p>The setup wizard can be started using a web browser immediately after th=
e previous steps (described in this section) are completed. It will be auto=
matically run the first time someone tries to access/browse the "<code>/ezs=
etup</code>" url.</p>
<p>&nbsp;</p>
    </div>
</body>
</html>
------=_Part_4043_486270391.1485856452187--
